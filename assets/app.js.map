{
  "version": 3,
  "sources": ["../node_modules/fontfaceobserver/fontfaceobserver.standalone.js", "../node_modules/performance-now/lib/src/performance-now.coffee", "../node_modules/raf/index.js", "../node_modules/quark-log/lib/utils.js", "../node_modules/quark-log/lib/Logger.js", "../node_modules/quark-log/lib/plugins/time.js", "../node_modules/quark-log/lib/plugins/namespace.js", "../node_modules/quark-log/lib/plugins/index.js", "../node_modules/quark-log/lib/index.js", "../node_modules/quark-raf/lib/logger.js", "../node_modules/quark-raf/lib/index.js", "../node_modules/svg4everybody/dist/svg4everybody.js", "../src/scripts/app.js", "../node_modules/modujs/dist/main.esm.js", "../src/scripts/modules.js", "../src/scripts/utils/html.js", "../src/scripts/utils/scroll.js", "../src/scripts/utils/environment.js", "../src/scripts/utils/image.js", "../src/scripts/modules/Scroll.js", "../src/scripts/utils/string.js", "../src/scripts/utils/cart-utils.js", "../src/scripts/vue-mixins/product-form-mixin.js", "../src/scripts/modules/ProductForm.js", "../node_modules/ssr-window/ssr-window.esm.js", "../node_modules/dom7/dom7.esm.js", "../node_modules/swiper/esm/utils/dom.js", "../node_modules/swiper/esm/utils/utils.js", "../node_modules/swiper/esm/utils/get-support.js", "../node_modules/swiper/esm/utils/get-device.js", "../node_modules/swiper/esm/utils/get-browser.js", "../node_modules/swiper/esm/modules/resize/resize.js", "../node_modules/swiper/esm/modules/observer/observer.js", "../node_modules/swiper/esm/components/core/modular.js", "../node_modules/swiper/esm/components/core/events-emitter.js", "../node_modules/swiper/esm/components/core/update/updateSize.js", "../node_modules/swiper/esm/components/core/update/updateSlides.js", "../node_modules/swiper/esm/components/core/update/updateAutoHeight.js", "../node_modules/swiper/esm/components/core/update/updateSlidesOffset.js", "../node_modules/swiper/esm/components/core/update/updateSlidesProgress.js", "../node_modules/swiper/esm/components/core/update/updateProgress.js", "../node_modules/swiper/esm/components/core/update/updateSlidesClasses.js", "../node_modules/swiper/esm/components/core/update/updateActiveIndex.js", "../node_modules/swiper/esm/components/core/update/updateClickedSlide.js", "../node_modules/swiper/esm/components/core/update/index.js", "../node_modules/swiper/esm/components/core/translate/getTranslate.js", "../node_modules/swiper/esm/components/core/translate/setTranslate.js", "../node_modules/swiper/esm/components/core/translate/minTranslate.js", "../node_modules/swiper/esm/components/core/translate/maxTranslate.js", "../node_modules/swiper/esm/components/core/translate/translateTo.js", "../node_modules/swiper/esm/components/core/translate/index.js", "../node_modules/swiper/esm/components/core/transition/setTransition.js", "../node_modules/swiper/esm/components/core/transition/transitionStart.js", "../node_modules/swiper/esm/components/core/transition/transitionEnd.js", "../node_modules/swiper/esm/components/core/transition/index.js", "../node_modules/swiper/esm/components/core/slide/slideTo.js", "../node_modules/swiper/esm/components/core/slide/slideToLoop.js", "../node_modules/swiper/esm/components/core/slide/slideNext.js", "../node_modules/swiper/esm/components/core/slide/slidePrev.js", "../node_modules/swiper/esm/components/core/slide/slideReset.js", "../node_modules/swiper/esm/components/core/slide/slideToClosest.js", "../node_modules/swiper/esm/components/core/slide/slideToClickedSlide.js", "../node_modules/swiper/esm/components/core/slide/index.js", "../node_modules/swiper/esm/components/core/loop/loopCreate.js", "../node_modules/swiper/esm/components/core/loop/loopFix.js", "../node_modules/swiper/esm/components/core/loop/loopDestroy.js", "../node_modules/swiper/esm/components/core/loop/index.js", "../node_modules/swiper/esm/components/core/grab-cursor/setGrabCursor.js", "../node_modules/swiper/esm/components/core/grab-cursor/unsetGrabCursor.js", "../node_modules/swiper/esm/components/core/grab-cursor/index.js", "../node_modules/swiper/esm/components/core/manipulation/appendSlide.js", "../node_modules/swiper/esm/components/core/manipulation/prependSlide.js", "../node_modules/swiper/esm/components/core/manipulation/addSlide.js", "../node_modules/swiper/esm/components/core/manipulation/removeSlide.js", "../node_modules/swiper/esm/components/core/manipulation/removeAllSlides.js", "../node_modules/swiper/esm/components/core/manipulation/index.js", "../node_modules/swiper/esm/components/core/events/onTouchStart.js", "../node_modules/swiper/esm/components/core/events/onTouchMove.js", "../node_modules/swiper/esm/components/core/events/onTouchEnd.js", "../node_modules/swiper/esm/components/core/events/onResize.js", "../node_modules/swiper/esm/components/core/events/onClick.js", "../node_modules/swiper/esm/components/core/events/onScroll.js", "../node_modules/swiper/esm/components/core/events/index.js", "../node_modules/swiper/esm/components/core/breakpoints/setBreakpoint.js", "../node_modules/swiper/esm/components/core/breakpoints/getBreakpoint.js", "../node_modules/swiper/esm/components/core/breakpoints/index.js", "../node_modules/swiper/esm/components/core/classes/addClasses.js", "../node_modules/swiper/esm/components/core/classes/removeClasses.js", "../node_modules/swiper/esm/components/core/classes/index.js", "../node_modules/swiper/esm/components/core/images/loadImage.js", "../node_modules/swiper/esm/components/core/images/preloadImages.js", "../node_modules/swiper/esm/components/core/images/index.js", "../node_modules/swiper/esm/components/core/check-overflow/index.js", "../node_modules/swiper/esm/components/core/defaults.js", "../node_modules/swiper/esm/components/core/core-class.js", "../node_modules/swiper/esm/components/pagination/pagination.js", "../src/scripts/vue-mixins/product-gallery-mixin.js", "../src/scripts/modules/ProductGallery.js", "../src/scripts/class/StampedApi.js", "../src/scripts/modules/ProductReview.js", "../node_modules/@shopify/theme-cart/request.js", "../node_modules/@shopify/theme-cart/validate.js", "../node_modules/@shopify/theme-cart/theme-cart.js", "../src/scripts/class/ShopifyCartModule.js", "../src/scripts/vue-mixins/cart-mixin.js", "../src/scripts/vue-mixins/cart-modal-swipe-mixin.js", "../src/scripts/utils/maths.js", "../src/scripts/utils/touchable.js", "../node_modules/focus-trap-vue/dist/index.browser.esm.js", "../src/scripts/utils/getFirstFocusableElement.js", "../src/scripts/vue-mixins/cart-checkout-mixin.js", "../src/scripts/modules/CartModal.js", "../src/scripts/modules/CartModalToggler.js", "../src/scripts/modules/Header.js", "../src/scripts/modules/FormFeedback.js", "../src/scripts/class/Tween.js", "../node_modules/tabbable/src/index.js", "../node_modules/focus-trap/index.js", "../src/scripts/modules/Accordions.js", "../src/scripts/modules/AbstractModal.js", "../src/scripts/modules/Menu.js", "../src/scripts/modules/MenuToggler.js", "../src/scripts/modules/Globe.js", "../node_modules/ogl/src/math/functions/Vec3Func.js", "../node_modules/ogl/src/math/Vec3.js", "../node_modules/ogl/src/core/Geometry.js", "../node_modules/ogl/src/core/Program.js", "../node_modules/ogl/src/core/Renderer.js", "../node_modules/ogl/src/math/functions/Vec4Func.js", "../node_modules/ogl/src/math/functions/QuatFunc.js", "../node_modules/ogl/src/math/Quat.js", "../node_modules/ogl/src/math/functions/Mat4Func.js", "../node_modules/ogl/src/math/Mat4.js", "../node_modules/ogl/src/math/functions/EulerFunc.js", "../node_modules/ogl/src/math/Euler.js", "../node_modules/ogl/src/core/Transform.js", "../node_modules/ogl/src/core/Camera.js", "../node_modules/ogl/src/math/functions/Mat3Func.js", "../node_modules/ogl/src/math/Mat3.js", "../node_modules/ogl/src/core/Mesh.js", "../node_modules/ogl/src/core/Texture.js", "../node_modules/ogl/src/core/RenderTarget.js", "../node_modules/ogl/src/math/functions/Vec2Func.js", "../node_modules/ogl/src/math/Vec2.js", "../node_modules/ogl/src/extras/Triangle.js", "../node_modules/ogl/src/extras/Post.js", "../node_modules/ogl/src/extras/NormalProgram.js", "../node_modules/ogl/src/extras/GLTFAnimation.js", "../node_modules/ogl/src/extras/GLTFSkin.js", "../node_modules/ogl/src/extras/GLTFLoader.js", "../src/scripts/shaders/globeVertex.js", "../src/scripts/shaders/globeFragment.js", "../src/scripts/modules/Carousel.js", "../src/scripts/utils/ar-detection.js", "../src/scripts/modules/ProductModelViewer.js", "../src/scripts/utils/remove-style.js", "../src/scripts/modules/RichWysiwyg.js", "../src/scripts/modules/Share.js", "../src/scripts/modules/ShareToggler.js", "../src/scripts/modules/TagSelector.js", "../src/scripts/modules/SortbySelector.js", "../src/scripts/modules/Login.js", "../node_modules/@shopify/theme-addresses/loader.js", "../node_modules/@shopify/theme-addresses/helpers.js", "../node_modules/@shopify/theme-addresses/addressForm.js", "../src/scripts/modules/Address.js", "../src/scripts/modules/Search.js", "../src/scripts/modules/SearchToggler.js", "../src/scripts/modules/Popup.js", "../src/scripts/modules/Cart.js", "../src/scripts/modules/CartCounter.js", "../src/scripts/modules/Password.js", "../src/scripts/modules/ProductRecommendations.js", "../src/scripts/modules/AddToCart.js", "../src/scripts/modules/VariantTile.js", "../src/scripts/modules/Hovered.js", "../src/scripts/modules/Rewards.js", "../src/scripts/globals.js"],
  "sourcesContent": ["/* Font Face Observer v2.1.0 - \u00A9 Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener(\"scroll\",b,!1):a.attachEvent(\"scroll\",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function c(){document.removeEventListener(\"DOMContentLoaded\",c);a()}):document.attachEvent(\"onreadystatechange\",function k(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",k),a()})};function t(a){this.a=document.createElement(\"div\");this.a.setAttribute(\"aria-hidden\",\"true\");this.a.appendChild(document.createTextNode(a));this.b=document.createElement(\"span\");this.c=document.createElement(\"span\");this.h=document.createElement(\"span\");this.f=document.createElement(\"span\");this.g=-1;this.b.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.c.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.f.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.h.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}\nfunction u(a,b){a.a.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+b+\";\"}function z(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+\"px\";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);z(a)};function B(a,b){var c=b||{};this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\"}var C=null,D=null,E=null,F=null;function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){null===F&&(F=!!document.fonts);return F}\nfunction K(){if(null===E){var a=document.createElement(\"div\");try{a.style.font=\"condensed 100px sans-serif\"}catch(b){}E=\"\"!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:\"\",\"100px\",b].join(\" \")}\nB.prototype.load=function(a,b){var c=this,k=a||\"BESbswy\",r=0,n=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(\"\"+n+\"ms timeout exceeded\")):document.fonts.load(L(c,'\"'+c.family+'\"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(\"\"+n+\"ms timeout exceeded\"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r);a(c)},\nb)}else m(function(){function v(){var b;if(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(\"\"+\nn+\"ms timeout exceeded\"));else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v();r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement(\"div\");d.dir=\"ltr\";u(e,L(c,\"sans-serif\"));u(p,L(c,\"serif\"));u(q,L(c,\"monospace\"));d.appendChild(e.a);d.appendChild(p.a);d.appendChild(q.a);document.body.appendChild(d);w=e.a.offsetWidth;x=p.a.offsetWidth;y=q.a.offsetWidth;I();A(e,function(a){f=a;v()});u(e,\nL(c,'\"'+c.family+'\",sans-serif'));A(p,function(a){g=a;v()});u(p,L(c,'\"'+c.family+'\",serif'));A(q,function(a){h=a;v()});u(q,L(c,'\"'+c.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load);}());\n", null, "var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.camelToKebab = camelToKebab;\nexports.capitalize = capitalize;\nexports.isBrowser = isBrowser;\n/**\n * Camel to kebab case.\n *\n * @param {String} str String.\n *\n * @returns {String} Parsed string.\n */\nfunction camelToKebab(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n/**\n * Capitalize.\n *\n * @param {String} str String.\n *\n * @returns {String} Capitalized string.\n */\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Check browser or Node environment.\n *\n * @returns {Boolean} True if running in browser, false otherwise.\n */\nfunction isBrowser() {\n  return !(typeof process !== 'undefined' && process.title === 'node');\n}", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Logger class.\n *\n * @class\n *\n * @license https://opensource.org/licenses/MIT\n *\n * @author Patrick Heng & Fabien Motte <hengpatrick.pro@gmail.com / contact@fabienmotte.com>\n *\n * @example\n * const logger = new Logger()\n * logger.log('Test')\n */\nvar Logger = function () {\n  /**\n   * Creates an instance of Logger.\n   *\n   * @constructor\n   */\n  function Logger() {\n    _classCallCheck(this, Logger);\n\n    /**\n     * @name enabled\n     * @type Boolean\n     * @private\n     */\n    this._enabled = true;\n\n    /**\n     * @type Object\n     * @private\n     */\n    this._defaultsLevels = { log: {}, info: {}, warn: {}, error: {}\n\n      /**\n       * @type Object\n       * @private\n       */\n    };this._levels = { log: {}, info: {}, warn: {}, error: {}\n\n      /**\n       * @type Array\n       * @private\n       */\n    };this._commands = ['group', 'time'];\n\n    /**\n     * @type Object\n     * @private\n     */\n    this._plugins = {};\n\n    /**\n     * @type Function|null\n     * @private\n     */\n    this._logHandler = null;\n\n    this._bindLevels();\n    this._bindCommands();\n  }\n\n  /**\n   * Enable logging.\n   *\n   * @returns {Logger} `this`\n   */\n\n\n  _createClass(Logger, [{\n    key: 'on',\n    value: function on() {\n      this._enabled = true;\n      return this;\n    }\n\n    /**\n     * Disable logging.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: 'off',\n    value: function off() {\n      this._enabled = false;\n      return this;\n    }\n\n    /**\n     * Reset levels and plugins.\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._levels = { log: {}, info: {}, warn: {}, error: {} };\n      this._plugins = {};\n      this._bindLevels();\n    }\n\n    /**\n     * Line break.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: 'br',\n    value: function br() {\n      this._print('log', {}, '');\n      return this;\n    }\n\n    /**\n     * Add/modify a level.\n     *\n     * @param {String} name Level name.\n     * @param {Object} [options={}] Level options.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: 'level',\n    value: function level(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (typeof name !== 'string') {\n        return this._printError('Logger.level() : \\'name\\' argument is required');\n      }\n\n      if (typeof this._levels[name] !== 'undefined') {\n        // Modify existing level options\n        this._levels[name] = _extends({}, this._levels[name], options);\n      } else {\n        // Add a new level\n        this._levels[name] = options;\n      }\n      this._bindLevel(name, options);\n\n      return this;\n    }\n\n    /**\n     * Add/modify a plugin.\n     *\n     * @param {String} name Plugin name.\n     * @param {Function|Object} fn Plugin callback function/plugin options if plugin already exists.\n     * @param {Object} [options={}] Plugin options.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: 'plugin',\n    value: function plugin(name, fn) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (typeof name !== 'string') {\n        return this._printError('Logger.plugin() : \\'name\\' argument is required');\n      }\n\n      if (typeof this._plugins[name] !== 'undefined' && (typeof fn === 'undefined' ? 'undefined' : _typeof(fn)) === 'object' && fn !== null) {\n        // Modify existing plugin options\n        this._plugins[name].options = _extends({}, this._plugins[name].options, fn);\n        return this;\n      } else if (typeof fn !== 'function') {\n        return this._printError('Logger.plugin() : \\'fn\\' argument must be a function');\n      }\n\n      this._plugins[name] = {\n        fn: fn.bind(this),\n        options: _extends({\n          enabled: true\n        }, options)\n      };\n\n      return this;\n    }\n\n    /**\n     * Set log handler.\n     *\n     * @param {Function} handlerFn Handler function.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: 'setHandler',\n    value: function setHandler(handlerFn) {\n      this._logHandler = handlerFn;\n\n      return this;\n    }\n\n    /**\n     * Bind levels.\n     * @private\n     */\n\n  }, {\n    key: '_bindLevels',\n    value: function _bindLevels() {\n      for (var levelName in this._levels) {\n        var levelOptions = this._levels[levelName];\n        this._bindLevel(levelName, levelOptions);\n      }\n    }\n\n    /**\n     * Bind a level.\n     * @private\n     *\n     * @param {String} levelName Level name.\n     * @param {Object} levelOptions Level options.\n     */\n\n  }, {\n    key: '_bindLevel',\n    value: function _bindLevel(levelName, levelOptions) {\n      var _this = this;\n\n      this[levelName] = function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _this._levelCallback(levelName, levelOptions, args);\n      };\n    }\n\n    /**\n     * Level callback.\n     * @private\n     *\n     * @param {String} levelName Level name.\n     * @param {Object} levelOptions Level options.\n     * @param {Array} args Level arguments.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: '_levelCallback',\n    value: function _levelCallback(levelName, levelOptions, args) {\n      if (!this._enabled) {\n        return;\n      }\n\n      var msgs = args;\n\n      if (this._logHandler !== null) {\n        this._logHandler(msgs);\n      }\n\n      var _applyPlugins2 = this._applyPlugins(levelName, levelOptions, msgs),\n          pMsgs = _applyPlugins2.msgs,\n          before = _applyPlugins2.before,\n          after = _applyPlugins2.after,\n          pStyles = _applyPlugins2.styles;\n\n      return this._print(levelName, levelOptions, pMsgs, before, after, pStyles);\n    }\n\n    /**\n     * Bind commands.\n     * @private\n     */\n\n  }, {\n    key: '_bindCommands',\n    value: function _bindCommands() {\n      var _this2 = this;\n\n      var _loop = function _loop(i, l) {\n        var command = _this2._commands[i];\n\n        _this2[command] = function (name) {\n          return console[command](name);\n        };\n        _this2[command + 'End'] = function (name) {\n          return console[command + 'End'](name);\n        };\n      };\n\n      for (var i = 0, l = this._commands.length; i < l; i++) {\n        _loop(i, l);\n      }\n    }\n\n    /**\n     * Apply registered plugins.\n     * @private\n     *\n     * @param {String} levelName Level name.\n     * @param {Object} levelOptions Level options.\n     * @param {Array} msgs Messages.\n     *\n     * @returns {Object} Message, middlewares and styles.\n     */\n\n  }, {\n    key: '_applyPlugins',\n    value: function _applyPlugins(levelName, levelOptions, msgs) {\n      var styles = [];\n      var before = [];\n      var after = [];\n\n      for (var pluginName in this._plugins) {\n        var plugin = this._plugins[pluginName];\n        var level = { name: levelName, options: levelOptions };\n\n        if (!plugin.options.enabled) {\n          continue;\n        }\n\n        var _plugin$fn = plugin.fn(msgs, plugin.options, level),\n            pMsgs = _plugin$fn.msgs,\n            pBefore = _plugin$fn.before,\n            pAfter = _plugin$fn.after,\n            pStyles = _plugin$fn.styles;\n\n        if (pMsgs) {\n          msgs = pMsgs;\n        }\n\n        if (pBefore) {\n          before = before.concat('<styles>' + pBefore + '</styles>');\n        }\n\n        if (pAfter) {\n          after = after.concat(pAfter);\n        }\n\n        styles = styles.concat(pStyles || {});\n      }\n\n      return { msgs: msgs, before: before, after: after, styles: styles };\n    }\n\n    /**\n     * Print a message.\n     * @private\n     *\n     * @param {strin} levelName Level name.\n     * @param {Object} [levelOptions={}] Level options.\n     * @param {Array} [msgs=[]] Messages.\n     * @param {Array} [before=[]] Before middleware.\n     * @param {Array} [after=[]] After middleware.\n     * @param {Array} [pluginsStyles={}] Plugins styles.\n     *\n     * @returns {Logger} `this`\n     */\n\n  }, {\n    key: '_print',\n    value: function _print(levelName) {\n      var levelOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var msgs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var before = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var after = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n      var pluginsStyles = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      var finalMsgs = [];\n      var globalStyles = [];\n\n      if (levelOptions.styles) {\n        // Merge current level and plugins styles\n        pluginsStyles = this._mergeStyles(levelOptions.styles, pluginsStyles);\n      }\n\n      // Merge plugins styles and concat to global styles\n      pluginsStyles = this._parsePluginsStyles(pluginsStyles);\n      globalStyles = globalStyles.concat(pluginsStyles);\n\n      // Apply level styles\n      if (levelOptions.styles) {\n        globalStyles.push(this._parseStyles(levelOptions.styles));\n        globalStyles.push('');\n      }\n\n      // Before message\n      if (before.length) {\n        finalMsgs.push(this._parseMsgTags(before).join(' '));\n      }\n\n      // Sort messages (string and others types)\n\n      var _sortMsgs2 = this._sortMsgs(msgs),\n          stringMsgs = _sortMsgs2.stringMsgs,\n          othersMsgs = _sortMsgs2.othersMsgs;\n\n      if (levelOptions.styles) {\n        stringMsgs[0] = '<styles>' + stringMsgs[0];\n        stringMsgs[stringMsgs.length - 1] += '</styles>';\n      }\n\n      // Messages\n      finalMsgs.push(this._parseMsgTags(stringMsgs).join(' '));\n\n      // After message\n      if (after.length) {\n        finalMsgs.push(this._parseMsgTags(after).join(' '));\n      }\n\n      finalMsgs = finalMsgs.join(' ');\n\n      if (!(0, _utils.isBrowser)()) {\n        finalMsgs = finalMsgs.replace(/%c/g, '');\n      }\n\n      // Arguments\n      var args = [finalMsgs];\n\n      if ((0, _utils.isBrowser)()) {\n        args.push.apply(args, _toConsumableArray(globalStyles).concat(_toConsumableArray(othersMsgs)));\n      } else {\n        args.push.apply(args, _toConsumableArray(othersMsgs));\n      }\n\n      // Check console\n      if (typeof console === 'undefined') {\n        return this;\n      }\n\n      if (typeof this._defaultsLevels[levelName] !== 'undefined') {\n        // Native level\n        console[levelName].apply(console, args);\n      } else {\n        // Custom level, fallback to console.log()\n        console.log.apply(console, args);\n      }\n\n      if (levelName === 'error' || levelName === 'warn') {\n        return false;\n      }\n\n      return true;\n    }\n\n    /**\n     * Merge level and plugins styles.\n     * @private\n     *\n     * @param {Object} levelStyles Level styles.\n     * @param {Array} pluginsStyles Plugins styles.\n     *\n     * @returns {Object} Merged styles.\n     */\n\n  }, {\n    key: '_mergeStyles',\n    value: function _mergeStyles(levelStyles, pluginsStyles) {\n      var mergedPluginsStyles = [];\n\n      for (var i = 0, l = pluginsStyles.length; i < l; i++) {\n        var pluginStyles = pluginsStyles[i];\n        mergedPluginsStyles.push(_extends({}, pluginStyles, levelStyles));\n      }\n\n      return mergedPluginsStyles;\n    }\n\n    /**\n     * Parse styles to CSS.\n     * @private\n     *\n     * @param {Object} styles Styles.\n     *\n     * @returns {String} Parsed styles.\n     */\n\n  }, {\n    key: '_parseStyles',\n    value: function _parseStyles(styles) {\n      var parsedStyles = '';\n\n      for (var property in styles) {\n        var value = styles[property];\n        parsedStyles += (0, _utils.camelToKebab)(property) + ': ' + value + ';';\n      }\n\n      return parsedStyles;\n    }\n\n    /**\n     * Parse plugins styles.\n     * @private\n     *\n     * @param {Array} pluginsStyles Plugins styles.\n     *\n     * @returns {Array} Parsed plugins styles.\n     */\n\n  }, {\n    key: '_parsePluginsStyles',\n    value: function _parsePluginsStyles(pluginsStyles) {\n      var parsedStyles = [];\n\n      for (var i = 0, l = pluginsStyles.length; i < l; i++) {\n        var styles = pluginsStyles[i];\n        parsedStyles.push(this._parseStyles(styles));\n        parsedStyles.push(''); // Reset styles\n      }\n\n      return parsedStyles;\n    }\n\n    /**\n     * Parse messages tags.\n     * @private\n     *\n     * @param {Array} msgs Messages.\n     *\n     * @returns {Array} Parsed messages.\n     */\n\n  }, {\n    key: '_parseMsgTags',\n    value: function _parseMsgTags(msgs) {\n      for (var i = 0, l = msgs.length; i < l; i++) {\n        if (typeof msgs[i] === 'string') {\n          msgs[i] = msgs[i].replace(/<(\\/)?styles>/gi, '%c');\n        }\n      }\n\n      return msgs;\n    }\n\n    /**\n     * Sort messages.\n     * @private\n     *\n     * @param {Array} msgs Messages.\n     *\n     * @returns {Object} Sorted messages.\n     */\n\n  }, {\n    key: '_sortMsgs',\n    value: function _sortMsgs(msgs) {\n      var stringMsgs = [];\n      var othersMsgs = [];\n\n      for (var i = 0, l = msgs.length; i < l; i++) {\n        var msg = msgs[i];\n        if (typeof msg === 'string') {\n          stringMsgs.push(msg);\n        } else {\n          othersMsgs.push(msg);\n        }\n      }\n\n      return { stringMsgs: stringMsgs, othersMsgs: othersMsgs };\n    }\n\n    /**\n     * Print self error message.\n     * @private\n     *\n     * @param {String} msg Message.\n     */\n\n  }, {\n    key: '_printError',\n    value: function _printError(msg) {\n      this.reset();\n      this.error(msg);\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = Logger;\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = time;\nvar pad = function pad(num) {\n  return ('0' + num).slice(-2);\n};\n\n/**\n * Time plugin.\n *\n * @param {String} msgs Messages.\n * @param {Object} options Plugins options.\n * @param {Object} level Level.\n * @param {String} level.name Level name.\n * @param {Object} level.options Level options.\n *\n * @returns {Object} Plugin result.\n */\nfunction time(msgs, options, level) {\n  var date = new Date();\n\n  var hours = pad(date.getHours());\n  var minutes = pad(date.getMinutes());\n  var seconds = pad(date.getSeconds());\n\n  var time = hours + ':' + minutes + ':' + seconds;\n\n  var formattedMsg = '[' + time + ']';\n\n  return { before: formattedMsg };\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = namespace;\n\nvar _utils = require('../utils');\n\n/**\n * Namespace plugin.\n *\n * @param {String} msgs Messages.\n * @param {Object} [options={}] Plugin options.\n * @param {String} [options.name=null] Namespace name.\n * @param {Boolean} [options.capitalize=false] Capitalize.\n * @param {Object} [options.styles={}] Plugin styles.\n * @param {Object} level Level.\n * @param {String} level.name Level name.\n * @param {Object} level.options Level options.\n *\n * @returns {Object} Plugin result.\n */\nfunction namespace(msgs, _ref, level) {\n  var _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$capitalize = _ref.capitalize,\n      capitalize = _ref$capitalize === undefined ? false : _ref$capitalize,\n      _ref$styles = _ref.styles,\n      styles = _ref$styles === undefined ? {} : _ref$styles;\n\n  var formattedMsg = '';\n  var s = {};\n\n  if (name) {\n    if (capitalize) {\n      name = (0, _utils.capitalize)(name);\n    }\n    formattedMsg = '[' + name + ']';\n\n    s = _extends({}, defaultStyles, levelStyles[level.name], styles || {});\n  }\n\n  return { before: formattedMsg, styles: s };\n}\n\nvar defaultStyles = {\n  color: 'white',\n  background: '#000000',\n  padding: '3px 5px'\n};\n\nvar levelStyles = {\n  log: {\n    background: '#000000'\n  },\n  info: {\n    background: '#219bff'\n  },\n  warn: {\n    background: '#ffea2d',\n    color: 'inherit'\n  },\n  error: {\n    background: '#e52d34'\n  }\n};\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _time = require('./time');\n\nvar _time2 = _interopRequireDefault(_time);\n\nvar _namespace = require('./namespace');\n\nvar _namespace2 = _interopRequireDefault(_namespace);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  time: _time2.default,\n  namespace: _namespace2.default\n};\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.plugins = exports.Logger = undefined;\n\nvar _Logger = require('./Logger');\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _plugins = require('./plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Logger = _Logger2.default;\nexports.plugins = _plugins2.default;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _quarkLog = require('quark-log');\n\nvar logger = new _quarkLog.Logger();\nlogger.plugin('namespace', _quarkLog.plugins.namespace, { name: 'quark-raf' });\n\nexports.default = logger;\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Raf class.\n *\n * @class\n *\n * @license https://opensource.org/licenses/MIT\n *\n * @author Patrick Heng & Fabien Motte <hengpatrick.pro@gmail.com/contact@fabienmotte.com>\n *\n * @example\n * const callback = () => { }\n * Raf.add(callback)\n */\nvar Raf = function () {\n  /**\n   * Creates an instance of Raf.\n   *\n   * @constructor\n   */\n  function Raf() {\n    _classCallCheck(this, Raf);\n\n    /**\n     * Listeners.\n     * @type Array\n     * @private\n     */\n    this._listeners = [];\n\n    /**\n     * Binded instance.\n     * @type Boolean\n     * @private\n     */\n    this._binded = false;\n\n    /**\n     * Raf ID.\n     * @type Number|null\n     * @private\n     */\n    this._raf = null;\n  }\n\n  /**\n   * Bind update method.\n   */\n\n\n  _createClass(Raf, [{\n    key: 'bind',\n    value: function bind() {\n      if (this._binded === true) {\n        return _logger2.default.warn('Raf instance is already binded');\n      }\n\n      this._binded = true;\n      this._update = this._update.bind(this);\n\n      this._baseTime = Date.now();\n\n      this._raf = (0, _raf2.default)(this._update);\n    }\n\n    /**\n     * Unbind update method and remove all listeners.\n     */\n\n  }, {\n    key: 'unbind',\n    value: function unbind() {\n      this._binded = false;\n\n      if (this._raf !== null) {\n        _raf2.default.cancel(this._raf);\n        this._raf = null;\n      }\n\n      this._listeners = [];\n    }\n\n    /**\n     * Add a listener.\n     *\n     * @param {listenerCallback} callback Listener callback.\n     * @param {Number} [fps=60] FPS targeted.\n     * @param {Number} [delay=0] Delay in milliseconds before start.\n     * @param {Boolean} [once=false] Call once.\n     *\n     * @returns {Object} Listener data.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(callback) {\n      var fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (typeof callback !== 'function') {\n        return _logger2.default.error('add() : Callback argument must be a function');\n      }\n\n      var date = new Date();\n\n      var data = {\n        id: this._listeners.length,\n        callback: callback,\n        fps: fps,\n        delay: delay,\n        once: once,\n        deltaTargeted: 1000 / fps,\n        lastTime: date.getTime()\n      };\n\n      this._listeners.push(data);\n\n      if (!this._binded) {\n        this.bind();\n      }\n\n      return data;\n    }\n\n    /**\n     * Add once listener.\n     *\n     * @param {listenerCallback} callback Listener callback.\n     * @param {Number} [fps=60] FPS targeted.\n     * @param {Number} [delay=0] Delay in milliseconds before start.\n     *\n     * @returns {Object} Listener data.\n     */\n\n  }, {\n    key: 'addOnce',\n    value: function addOnce(callback) {\n      var fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      return this.add(callback, fps, delay, true);\n    }\n\n    /**\n     * Remove a listener.\n     *\n     * @param {listenerCallback} callback Listener callback.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(callback) {\n      if (typeof callback !== 'function') {\n        return _logger2.default.error('remove() : Callback argument must be a function');\n      }\n\n      for (var i = 0, l = this._listeners.length; i < l; i++) {\n        if (this._listeners[i].callback === callback) {\n          this._listeners.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    /**\n     * Update.\n     * @private\n     */\n\n  }, {\n    key: '_update',\n    value: function _update() {\n      var now = Date.now();\n      var elapsedTime = now - this._baseTime;\n\n      for (var i = 0; i < this._listeners.length; i++) {\n        var data = this._listeners[i];\n        var delta = now - data.lastTime;\n\n        if (delta < data.deltaTargeted && data.fps < 60) {\n          continue;\n        }\n\n        data.lastTime = now;\n\n        if (data.delay > 0) {\n          if (elapsedTime < data.delay) {\n            continue;\n          }\n        }\n\n        data.callback(delta, elapsedTime, now);\n\n        if (data.once) {\n          this.remove(data.callback);\n        }\n      }\n\n      if (this._binded) {\n        (0, _raf2.default)(this._update);\n      }\n    }\n  }]);\n\n  return Raf;\n}();\n\n/**\n * Listener callback.\n *\n * @callback listenerCallback\n *\n * @param {Number} delta Delta between two frames in milliseconds.\n * @param {Number} elapsedTime Elapsed time in milliseconds since the Raf was binded.\n * @param {Number} now Current timestamp in milliseconds.\n */\n\nexports.default = new Raf();\nmodule.exports = exports['default'];", "!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});", "import FontFaceObserver from 'fontfaceobserver';\nimport modular from \"modujs\";\nimport * as modules from \"./modules\";\nimport globals from \"./globals\";\nimport { html } from \"./utils/environment\";\n\n(() => {\n    const modularApp = new modular({\n        modules: modules,\n    });\n\n     // Is Mobile\n     window.isMobile = (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n     if(window.isMobile) {\n         html.classList.add('is-mobile');\n     }\n\n    //////////////////\n    //  Application\n    /////////////////\n    const app = {\n        // Init\n        init() {\n            // Load styles\n            const $style = document.getElementById(\"stylesheet\");\n\n            const onStyleLoaded = () => {\n                console.log(`%c${\"[Styles]: Loaded\"}`, `color: #9d4edd;`);\n                $style.removeEventListener(\"load\", onStyleLoaded);\n                this.start();\n            };\n\n            console.log(`%c${\"[Styles]: Loading\"}`, `color: #9d4edd;`);\n\n            // Check style loading state\n            if ($style.isLoaded) {\n                onStyleLoaded();\n            } else {\n                $style.addEventListener(\"load\", onStyleLoaded);\n            }\n\n            // Debug focus\n            document.addEventListener('focusin', function() {\n                //console.log('focused: ', document.activeElement)\n            }, true);            \n        },\n\n        // Start App\n        start() {\n            console.log(`%c${\"[App]: Start\"}`, `color: #5bc0be;`);\n\n            // bind events\n            this.bindEvents()\n\n            globals();\n\n            modularApp.init(modularApp);\n\n            html.classList.add(\"is-first-hit\");\n            html.classList.add(\"is-loaded\");\n            html.classList.remove(\"is-loading\");\n\n            // Load fonts\n            this.fontsLoader(\n                [\n                    'AeonikPro-Medium',\n                    'AeonikPro-Regular',\n                    'MaisonNeue-Mono',\n                    'Druk-WideMedium',\n                    'MonopolTRIALKompakt'\n                ],\n                () => {\n                    html.classList.add(\"is-fonts-loaded\");\n                }\n            )\n        },\n\n        async fontsLoader(fonts, callback) {\n            const fontFaceObservers = []\n\n            if (!fonts.length) return\n\n            fonts.forEach((fontFamily) => {\n              const observer = new FontFaceObserver(fontFamily)\n              fontFaceObservers.push(observer)\n            })\n\n            try {\n                await Promise.all(fontFaceObservers);\n                callback?.()\n            } catch (err) {\n                console.warn('Some critical font are not available:', err);\n            }\n        },\n\n        // Hooks\n        onInteractive(event) {\n            console.log(`%c${\"[Document]: Interactive\"}`, `color: #ffc857;`);\n\n            // Internet Explorer 6-11\n            const isIE = /*@cc_on!@*/false || !!document.documentMode;\n            const $browserSupportContainer = document.querySelector('.js-outdated');\n\n            if (isIE) {\n                $browserSupportContainer.classList.add('is-active')\n            } else {\n                document.body.removeChild($browserSupportContainer)\n                this.init();\n            }\n        },\n\n        onComplete(event) {\n            console.log(`%c${\"[Document]: Complete\"}`, `color: #ffc857;`);\n            html.classList.add(\"is-ready\");\n\n            setTimeout(() => {\n                console.log(`%c${\"[Document]: Complete => Animation completed\"}`, `color: #ffc857;`);\n                html.classList.add(\"is-anim-completed\");\n            }, 600)\n        },\n\n        // Global event\n        bindEvents() {\n            if (window.isMobile) {\n                window.addEventListener(\"resize\", this.onMobileResize);\n                this.onMobileResize();\n            } else {\n                // Resize event\n                window.addEventListener(\"resize\", this.onResize);\n                this.onResize();\n            }\n        },\n\n        onResize() {\n            let vw = html.offsetWidth * 0.01;\n            let vh = window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vw', `${vw}px`);\n            document.documentElement.style.setProperty('--vh', `${vh}px`);\n        },\n\n        onMobileResize() {\n            if(window.innerWidth > window.innerHeight && window.customOrientation != \"landscape\") {\n                window.customOrientation = \"landscape\"\n                let vh = window.innerHeight * 0.01;\n                document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n            }\n               \n            if(window.innerWidth < window.innerHeight && window.customOrientation != \"portrait\") {\n                window.customOrientation = \"portrait\"\n                let vh = window.innerHeight * 0.01;\n                document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n            }\n        }\n    };\n\n    //////////////////\n    // Event\n    /////////////////\n    document.addEventListener(\"readystatechange\", (event) => {\n        switch (document.readyState) {\n            case \"interactive\":\n                app.onInteractive?.(event);\n                break;\n            case \"complete\":\n                app.onComplete?.(event);\n                break;\n        }\n    });\n})();\n", "function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _default = /*#__PURE__*/function () {\n  function _default(options) {\n    _classCallCheck(this, _default);\n\n    this.mAttr = 'data-' + options.dataName;\n    this.mCaptureEvents = ['mouseenter', 'mouseleave'];\n    this.el = options.el;\n  }\n\n  _createClass(_default, [{\n    key: \"mInit\",\n    value: function mInit(modules) {\n      var _this = this;\n\n      this.modules = modules;\n      this.mCheckEventTarget = this.mCheckEventTarget.bind(this);\n\n      if (this.events) {\n        Object.keys(this.events).forEach(function (event) {\n          return _this.mAddEvent(event);\n        });\n      }\n    }\n  }, {\n    key: \"mUpdate\",\n    value: function mUpdate(modules) {\n      this.modules = modules;\n    }\n  }, {\n    key: \"mDestroy\",\n    value: function mDestroy() {\n      var _this2 = this;\n\n      if (this.events) {\n        Object.keys(this.events).forEach(function (event) {\n          return _this2.mRemoveEvent(event);\n        });\n      }\n    }\n  }, {\n    key: \"mAddEvent\",\n    value: function mAddEvent(event) {\n      var capture = this.mCaptureEvents.includes(event) ? true : false;\n      this.el.addEventListener(event, this.mCheckEventTarget, capture);\n    }\n  }, {\n    key: \"mRemoveEvent\",\n    value: function mRemoveEvent(event) {\n      var capture = this.mCaptureEvents.includes(event) ? true : false;\n      this.el.removeEventListener(event, this.mCheckEventTarget, capture);\n    }\n  }, {\n    key: \"mCheckEventTarget\",\n    value: function mCheckEventTarget(e) {\n      var event = this.events[e.type];\n\n      if (typeof event === \"string\") {\n        this[event](e);\n      } else {\n        var data = '[' + this.mAttr + ']';\n        var target = e.target;\n\n        if (this.mCaptureEvents.includes(e.type)) {\n          if (target.matches(data)) {\n            this.mCallEventMethod(e, event, target);\n          }\n        } else {\n          while (target && target !== document) {\n            if (target.matches(data)) {\n              if (this.mCallEventMethod(e, event, target) != 'undefined') {\n                break;\n              }\n            }\n\n            target = target.parentNode;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"mCallEventMethod\",\n    value: function mCallEventMethod(e, event, target) {\n      var name = target.getAttribute(this.mAttr);\n\n      if (event.hasOwnProperty(name)) {\n        var method = event[name];\n\n        if (!e.hasOwnProperty('currentTarget')) {\n          Object.defineProperty(e, 'currentTarget', {\n            value: target\n          });\n        }\n\n        if (!e.hasOwnProperty('curTarget')) {\n          Object.defineProperty(e, 'curTarget', {\n            value: target\n          }); // For IE 11\n        }\n\n        this[method](e);\n      }\n    }\n  }, {\n    key: \"$\",\n    value: function $(query, context) {\n      var classIndex = query.indexOf('.');\n      var idIndex = query.indexOf('#');\n      var attrIndex = query.indexOf('[');\n      var indexes = [classIndex, idIndex, attrIndex].filter(function (index) {\n        return index != -1;\n      });\n      var index = false;\n      var name = query;\n      var more = '';\n      var parent = this.el;\n\n      if (indexes.length) {\n        index = Math.min.apply(Math, _toConsumableArray(indexes));\n        name = query.slice(0, index);\n        more = query.slice(index);\n      }\n\n      if (_typeof(context) == 'object') {\n        parent = context;\n      }\n\n      return parent.querySelectorAll('[' + this.mAttr + '=' + name + ']' + more);\n    }\n  }, {\n    key: \"parent\",\n    value: function parent(query, context) {\n      var data = '[' + this.mAttr + '=' + query + ']';\n      var parent = context.parentNode;\n\n      while (parent && parent !== document) {\n        if (parent.matches(data)) {\n          return parent;\n        }\n\n        parent = parent.parentNode;\n      }\n    }\n  }, {\n    key: \"getData\",\n    value: function getData(name, context) {\n      var target = context || this.el;\n      return target.getAttribute(this.mAttr + '-' + name);\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(name, value, context) {\n      var target = context || this.el;\n      return target.setAttribute(this.mAttr + '-' + name, value);\n    }\n  }, {\n    key: \"call\",\n    value: function call(func, args, mod, id) {\n      var _this3 = this;\n\n      if (args && !mod) {\n        mod = args;\n        args = false;\n      }\n\n      if (this.modules[mod]) {\n        if (id) {\n          if (this.modules[mod][id]) {\n            this.modules[mod][id][func](args);\n          }\n        } else {\n          Object.keys(this.modules[mod]).forEach(function (id) {\n            _this3.modules[mod][id][func](args);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(e, mod, func, id) {\n      var _this4 = this;\n\n      if (this.modules[mod]) {\n        if (id) {\n          this.modules[mod][id].el.addEventListener(e, function (o) {\n            return func(o);\n          });\n        } else {\n          Object.keys(this.modules[mod]).forEach(function (i) {\n            _this4.modules[mod][i].el.addEventListener(e, function (o) {\n              return func(o);\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n\n  return _default;\n}();\n\nvar _default$1 = /*#__PURE__*/function () {\n  function _default(options) {\n    _classCallCheck(this, _default);\n\n    this.app;\n    this.modules = options.modules;\n    this.currentModules = {};\n    this.activeModules = {};\n    this.newModules = {};\n    this.moduleId = 0;\n  }\n\n  _createClass(_default, [{\n    key: \"init\",\n    value: function init(app, scope) {\n      var _this = this;\n\n      var container = scope || document;\n      var elements = container.querySelectorAll('*');\n\n      if (app && !this.app) {\n        this.app = app;\n      }\n\n      this.activeModules['app'] = {\n        'app': this.app\n      };\n      elements.forEach(function (el) {\n        Array.from(el.attributes).forEach(function (i) {\n          if (i.name.startsWith('data-module')) {\n            var moduleExists = false;\n            var dataName = i.name.split('-').splice(2);\n\n            var moduleName = _this.toCamel(dataName);\n\n            if (_this.modules[moduleName]) {\n              moduleExists = true;\n            } else if (_this.modules[_this.toUpper(moduleName)]) {\n              moduleName = _this.toUpper(moduleName);\n              moduleExists = true;\n            }\n\n            if (moduleExists) {\n              var options = {\n                el: el,\n                name: moduleName,\n                dataName: dataName.join('-')\n              };\n              var module = new _this.modules[moduleName](options);\n              var id = i.value;\n\n              if (!id) {\n                _this.moduleId++;\n                id = 'm' + _this.moduleId;\n                el.setAttribute(i.name, id);\n              }\n\n              _this.addActiveModule(moduleName, id, module);\n\n              var moduleId = moduleName + '-' + id;\n\n              if (scope) {\n                _this.newModules[moduleId] = module;\n              } else {\n                _this.currentModules[moduleId] = module;\n              }\n            }\n          }\n        });\n      });\n      Object.entries(this.currentModules).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            id = _ref2[0],\n            module = _ref2[1];\n\n        if (scope) {\n          var split = id.split('-');\n          var moduleName = split.shift();\n          var moduleId = split.pop();\n\n          _this.addActiveModule(moduleName, moduleId, module);\n        } else {\n          _this.initModule(module);\n        }\n      });\n    }\n  }, {\n    key: \"initModule\",\n    value: function initModule(module) {\n      module.mInit(this.activeModules);\n      module.init();\n    }\n  }, {\n    key: \"addActiveModule\",\n    value: function addActiveModule(name, id, module) {\n      if (this.activeModules[name]) {\n        Object.assign(this.activeModules[name], _defineProperty({}, id, module));\n      } else {\n        this.activeModules[name] = _defineProperty({}, id, module);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(scope) {\n      var _this2 = this;\n\n      this.init(this.app, scope);\n      Object.entries(this.currentModules).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            id = _ref4[0],\n            module = _ref4[1];\n\n        module.mUpdate(_this2.activeModules);\n      });\n      Object.entries(this.newModules).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            id = _ref6[0],\n            module = _ref6[1];\n\n        _this2.initModule(module);\n      });\n      Object.assign(this.currentModules, this.newModules);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(scope) {\n      if (scope) {\n        this.destroyScope(scope);\n      } else {\n        this.destroyModules();\n      }\n    }\n  }, {\n    key: \"destroyScope\",\n    value: function destroyScope(scope) {\n      var _this3 = this;\n\n      var elements = scope.querySelectorAll('*');\n      elements.forEach(function (el) {\n        Array.from(el.attributes).forEach(function (i) {\n          if (i.name.startsWith('data-module')) {\n            var id = i.value;\n            var dataName = i.name.split('-').splice(2);\n            var moduleName = _this3.toCamel(dataName) + '-' + id;\n            var moduleExists = false;\n\n            if (_this3.currentModules[moduleName]) {\n              moduleExists = true;\n            } else if (_this3.currentModules[_this3.toUpper(moduleName)]) {\n              moduleName = _this3.toUpper(moduleName);\n              moduleExists = true;\n            }\n\n            if (moduleExists) {\n              _this3.destroyModule(_this3.currentModules[moduleName]);\n\n              delete _this3.currentModules[moduleName];\n            }\n          }\n        });\n      });\n      this.activeModules = {};\n      this.newModules = {};\n    }\n  }, {\n    key: \"destroyModules\",\n    value: function destroyModules() {\n      var _this4 = this;\n\n      Object.entries(this.currentModules).forEach(function (_ref7) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            id = _ref8[0],\n            module = _ref8[1];\n\n        _this4.destroyModule(module);\n      });\n      this.currentModules = [];\n    }\n  }, {\n    key: \"destroyModule\",\n    value: function destroyModule(module) {\n      module.mDestroy();\n      module.destroy();\n    }\n  }, {\n    key: \"toCamel\",\n    value: function toCamel(arr) {\n      var _this5 = this;\n\n      return arr.reduce(function (a, b) {\n        return a + _this5.toUpper(b);\n      });\n    }\n  }, {\n    key: \"toUpper\",\n    value: function toUpper(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default$1;\nexport { _default as module };\n", "// export {default as Load} from './modules/Load';\nexport {default as Scroll}                 from './modules/Scroll';\nexport {default as ProductForm}            from './modules/ProductForm';\nexport {default as ProductGallery}         from './modules/ProductGallery';\nexport {default as ProductReview}          from './modules/ProductReview';\nexport {default as CartModal}              from './modules/CartModal';\nexport {default as CartModalToggler}       from './modules/CartModalToggler';\nexport {default as Header}                 from './modules/Header';\nexport {default as FormFeedback}           from './modules/FormFeedback';\nexport {default as Accordions}             from './modules/Accordions';\nexport {default as Menu}                   from './modules/Menu';\nexport {default as MenuToggler}            from './modules/MenuToggler';\nexport {default as Globe}                  from './modules/Globe';\nexport {default as Carousel}               from './modules/Carousel';\nexport {default as ProductModelViewer}     from './modules/ProductModelViewer';\nexport {default as RichWysiwyg}            from './modules/RichWysiwyg';\nexport {default as Share}                  from './modules/Share';\nexport {default as ShareToggler}           from './modules/ShareToggler';\nexport {default as TagSelector}            from './modules/TagSelector';\nexport {default as SortbySelector}         from './modules/SortbySelector';\nexport {default as Login}                  from './modules/Login';\nexport {default as Address}                from './modules/Address';\nexport {default as Search}                 from './modules/Search';\nexport {default as SearchToggler}          from './modules/SearchToggler';\nexport {default as Popup}                  from './modules/Popup';\nexport {default as Cart}                   from './modules/Cart';\nexport {default as CartCounter}            from './modules/CartCounter';\nexport {default as Password}               from './modules/Password';\nexport {default as ProductRecommendations} from './modules/ProductRecommendations';\nexport {default as AddToCart}              from './modules/AddToCart';\nexport {default as VariantTile}            from './modules/VariantTile';\nexport {default as Hovered}                from './modules/Hovered';\nexport {default as Rewards}                from './modules/Rewards';\n", "/**\n * @see  https://github.com/ractivejs/ractive/blob/dev/src/utils/html.js\n */\nexport function escapeHtml(str) {\n    return str\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;');\n}\n\n/**\n * Prepare HTML content that contains mustache characters for use with Ractive\n * @param  {string} str\n * @return {string}\n */\nexport function unescapeHtml(str) {\n    return str\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&amp;/g, '&');\n}\n\n/**\n * Get element data attributes\n * @param   {DOMElement}  node\n * @return  {Array}       data\n */\nexport function getNodeData(node) {\n    // All attributes\n    const attributes = node.attributes;\n\n    // Regex Pattern\n    const pattern = /^data\\-(.+)$/;\n\n    // Output\n    const data = {};\n\n    for (let i in attributes) {\n        if (!attributes[i]) {\n            continue;\n        }\n\n        // Attributes name (ex: data-module)\n        let name = attributes[i].name;\n\n        // This happens.\n        if (!name) {\n            continue;\n        }\n\n        let match = name.match(pattern);\n        if (!match) {\n            continue;\n        }\n\n        // If this throws an error, you have some\n        // serious problems in your HTML.\n        data[match[1]] = getData(node.getAttribute(name));\n    }\n\n    return data;\n}\n\nconst rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\n/**\n * Parse value to data type.\n *\n * @link   https://github.com/jquery/jquery/blob/3.1.1/src/data.js\n * @param  {string} data - A value to convert.\n * @return {mixed}  Returns the value in its natural data type.\n */\nexport function getData(data) {\n    if (data === 'true') {\n        return true;\n    }\n\n    if (data === 'false') {\n        return false;\n    }\n\n    if (data === 'null') {\n        return null;\n    }\n\n    // Only convert to a number if it doesn't change the string\n    if (data === +data+'') {\n        return +data;\n    }\n\n    if (rbrace.test( data )) {\n        return JSON.parse( data );\n    }\n\n    return data;\n}\n\n/**\n * Returns an array containing all the parent nodes of the given node\n * @param  {object} node\n * @return {array} parent nodes\n */\nexport function getParents(elem) {\n    // Set up a parent array\n    let parents = [];\n\n    // Push each parent element to the array\n    for ( ; elem && elem !== document; elem = elem.parentNode ) {\n        parents.push(elem);\n    }\n\n    // Return our parent array\n    return parents;\n}\n\n// https://gomakethings.com/how-to-get-the-closest-parent-element-with-a-matching-selector-using-vanilla-javascript/\nexport function queryClosestParent(elem, selector) {\n\n    // Element.matches() polyfill\n    if (!Element.prototype.matches) {\n        Element.prototype.matches =\n            Element.prototype.matchesSelector ||\n            Element.prototype.mozMatchesSelector ||\n            Element.prototype.msMatchesSelector ||\n            Element.prototype.oMatchesSelector ||\n            Element.prototype.webkitMatchesSelector ||\n            function(s) {\n                var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                    i = matches.length;\n                while (--i >= 0 && matches.item(i) !== this) {}\n                return i > -1;\n            };\n    }\n\n    // Get the closest matching element\n    for ( ; elem && elem !== document; elem = elem.parentNode ) {\n        if ( elem.matches( selector ) ) return elem;\n    }\n    return null;\n\n};\n", "export default class {\n    constructor(options = {}) {\n        //Default settings\n        this.defaults = {\n            el: document,\n            name: \"scroll\",\n            class: \"is-inview\",\n            rootMargin: \"-1px -1px -1px -1px\",\n            hasScrollEvent: false,\n            scrollCallback: null,\n        };\n        Object.assign(this, this.defaults, options);\n\n        // Global stuff\n        this.listeners = {};\n        this.namespace = \"locomotive\";\n        this.hasCallEventSet = false;\n\n        // Observer config\n        this.isFirstObserve = true;\n\n        // ScrollTo config\n        this.isAutoScrolling = false;\n\n        // Scroll values\n        this.lastScrollPosition = 0;\n        this.scrollDirection = \"down\";\n\n        // Binding\n        this.checkEvent = this.checkEvent.bind(this);\n\n        // Calls\n        this.init();\n    }\n\n    /**\n     * Initialize\n     *\n     */\n    init() {\n        //Query all `data-scroll` elements.\n        const $els = this.el.querySelectorAll(\"[data-\" + this.name + \"]\");\n\n        // Set observer options\n        const observerOptions = {\n            rootMargin: this.rootMargin,\n        };\n\n        // Set observer callback\n        const onIntersect = (entries) => {\n            entries.forEach((entry) => {\n                //define inview options (call, repeat..)\n                const options = {\n                    repeat:    typeof entry.target.dataset[this.name + \"Repeat\"] != \"undefined\" ? true : false,\n                    call:      typeof entry.target.dataset[this.name + \"Call\"] != \"undefined\" ? entry.target.dataset[this.name + \"Call\"] : false,\n                };\n\n                // Then apply view methods\n                if (entry.intersectionRatio > 0) {\n                    this.setInview(entry, options);\n                } else if(!this.isFirstObserve) {\n                    this.setOutOfView(entry, options);\n                }\n            });\n\n            // Define first observe flag\n            this.isFirstObserve = false;\n        };\n        \n        //Create a single IntersectionObserver(IO) that watches all elements\n        this.observer = new IntersectionObserver(\n            onIntersect,\n            observerOptions\n        );\n\n        // Observe each elements\n        $els.forEach(($item) => {\n            this.observer.observe($item);\n        });\n\n        // Bind scroll event\n        if (this.hasScrollEvent) {\n            this.bindScrollEvent();\n        }\n    }\n\n    /**\n     * Set inview\n     *\n     * @param {object} :: IntersectionObserver entry | {object} :: Inview options\n     */\n    setInview(entry, options) {\n        entry.target.classList.add(this.class);\n\n        if (options.call) {\n            this.dispatchCall(options.call, \"enter\", entry);\n        }\n\n        // Unobserve entry once they were triggered once, unless it is supposed to repeat\n        if (!options.repeat) this.observer.unobserve(entry.target);\n    }\n\n    /**\n     * Set out of view\n     *\n     * @param {object} :: IntersectionObserver entry | {object} :: Inview options\n     */\n    setOutOfView(entry, options) {\n        if (options.call && this.hasCallEventSet) {\n            this.dispatchCall(options.call, \"exit\", entry);\n        }\n\n        if (options.repeat) {\n            entry.target.classList.remove(this.class);\n        }\n    }\n\n    /**\n     * Manage call\n     *\n     * @param {string} :: Function string | {object} :: IntersectionObserver entry\n     */\n    dispatchCall(call, way, entry) {\n        this.callWay = way;\n        this.callValue = call.split(\",\").map((item) => item.trim());\n        this.callObj = entry;\n\n        if (this.callValue.length == 1) this.callValue = this.callValue[0];\n\n        const callEvent = new Event(this.namespace + \"call\");\n        this.el.dispatchEvent(callEvent);\n    }\n\n    /**\n     * ScrollTo\n     *\n     */\n    scrollTo(target, options = {}) {\n        if (this.isAutoScrolling) return;\n        this.isAutoScrolling = true;\n\n        // TODO: Implement easing feature\n        const easeOutQuint = (x) => {\n            return 1 - Math.pow(1 - x, 5);\n        };\n\n        ////////////////////\n        // ScrollTo settings\n        ///////////////////\n\n        // Get scroll element\n        const $scrollElement =\n            window.document.scrollingElement ||\n            window.document.body ||\n            window.document.documentElement;\n\n        // Get target\n        let $target = null;\n\n        if (typeof target === \"string\") {\n            const $targets = document.querySelectorAll(target);\n            if (!$targets.length) return;\n            $target = $targets[0];\n        } else if (typeof target === \"object\") {\n            $target = target;\n        }\n\n        if (!$target) return;\n\n        // Get target offset\n        const $targetOffsetTop = $target.getBoundingClientRect().top;\n\n        // Get options\n        const defaultOptions = {\n            offset: 0,\n            duration: 2000,\n            callback: () => {},\n            disableLerp: false,\n        };\n        const targetOptions = { ...defaultOptions, ...options };\n\n        // Anime Settings\n        let startTime = performance.now();\n        const from = $scrollElement.scrollTop;\n        const to = $targetOffsetTop + parseInt(targetOptions.offset, 10);\n\n        const update = () => {\n            const raf = requestAnimationFrame(update);\n            const dateNow = performance.now();\n            const elapsed = dateNow - startTime;\n            const progress = Math.min(elapsed / targetOptions.duration, 1);\n            const animatedValue = targetOptions.disableLerp\n                ? from + progress * to\n                : from + easeOutQuint(progress) * to;\n\n            $scrollElement.scrollTop = animatedValue;\n\n            if (progress >= 1) {\n                cancelAnimationFrame(raf);\n                targetOptions.callback();\n                this.isAutoScrolling = false;\n            }\n        };\n\n        // Start animation\n        update();\n    }\n\n    /**\n     * Set events\n     *\n     * @param\n     */\n    setEvents(event, func) {\n        if (!this.listeners[event]) {\n            this.listeners[event] = [];\n        }\n\n        const list = this.listeners[event];\n        list.push(func);\n\n        if (list.length === 1) {\n            this.el.addEventListener( this.namespace + event, this.checkEvent, false );\n        }\n\n        if (event === \"call\") {\n            this.hasCallEventSet = true;\n        }\n    }\n\n    /**\n     * Check events\n     *\n     * @param\n     */\n    checkEvent(event) {\n        const name = event.type.replace(this.namespace, \"\");\n        const list = this.listeners[name];\n\n        if (!list || list.length === 0) return;\n\n        list.forEach((func) => {\n            switch (name) {\n                case \"scroll\":\n                    return func(this.instance);\n                case \"call\":\n                    return func(this.callValue, this.callWay, this.callObj);\n                default:\n                    return func();\n            }\n        });\n    }\n\n    /**\n     * Receive events to set\n     *\n     * @param\n     */\n    on(event, func) {\n        this.setEvents(event, func);\n    }\n\n    /**\n     * Receive events to kill\n     *\n     * @param\n     */\n    off(event, func) {\n        this.unsetEvents(event, func);\n    }\n\n    /**\n     * Bind scroll event\n     *\n     */\n    bindScrollEvent() {\n        this.onScroll = this.onScroll.bind(this);\n        document.addEventListener(\"scroll\", this.onScroll);\n    }\n\n    /**\n     * Unbind scroll event\n     *\n     */\n    unbindScrollEvent() {\n        document.removeEventListener(\"scroll\", this.onScroll);\n    }\n\n    /**\n     * On scroll callback\n     * @param\n     */\n    onScroll(event) {\n        // Set direction\n        const distance = window.scrollY - this.lastScrollPosition\n        const direction = (distance) / Math.abs(distance) || 1;\n        this.scrollDirection = direction > 0 ? \"down\" : \"up\";\n\n        // Call callback\n        this.scrollCallback && this.scrollCallback(event);\n\n        // Set last scroll position\n        this.lastScrollPosition = window.scrollY;\n    }\n\n    /**\n     * Destroy\n     * Disconect observer and remove events!\n     */\n    destroy() {\n        this.observer.disconnect();\n\n        Object.keys(this.listeners).forEach((event) => {\n            this.el.removeEventListener( this.namespace + event, this.checkEvent, false);\n        });\n        this.listeners = {};\n\n        this.unbindScrollEvent();\n    }\n}\n", "const APP_NAME     = 'Boilerplate';\nconst DATA_API_KEY = '.data-api';\n\nconst html         = document.documentElement;\nconst body         = document.body;\nconst isDebug      = html.hasAttribute('data-debug');\n\nexport { APP_NAME, DATA_API_KEY, html, body, isDebug };\n", "import { queryClosestParent } from './html';\n\nconst LAZY_LOADED_IMAGES = []\n\nexport function loadImage(url, options = {}) {\n    return new Promise((resolve, reject) => {\n        const $img = new Image();\n        if (options.crossOrigin) $img.crossOrigin = options.crossOrigin;\n\n        const loadCallback = () => {\n            resolve({\n                element: $img,\n                ...getImageMetadata($img),\n            });\n        }\n\n        if($img.decode) {\n            $img.src = url\n            $img.decode().then(loadCallback).catch(e => {\n                reject(e)\n            })\n        } else {\n            $img.onload = loadCallback\n            $img.onerror = (e) => {\n                reject(e);\n            };\n            $img.src = url\n        }\n    });\n}\n\nexport function getImageMetadata($img) {\n    return {\n        url: $img.src,\n        width: $img.naturalWidth,\n        height: $img.naturalHeight,\n        ratio: $img.naturalWidth / $img.naturalHeight,\n    };\n}\n\nexport async function lazyLoadImage($el, url, callback = () => {}) {\n    let src = url ? url : $el.dataset.src\n\n    let loadedImage = LAZY_LOADED_IMAGES.find(image => image.url === src)\n\n    if (!loadedImage) {\n        loadedImage = await loadImage(src)\n        if (!loadedImage.url) return;\n        LAZY_LOADED_IMAGES.push(loadedImage)\n    }\n\n    if($el.src === src) {\n        return\n    }\n\n    if ($el.tagName == \"IMG\") {\n        $el.src = loadedImage.url;\n    } else {\n        $el.style.backgroundImage = `url(${loadedImage.url})`;\n    }\n\n    requestAnimationFrame(() => {\n        let lazyParent = queryClosestParent($el, '.c-lazy')\n        if(lazyParent) {\n            lazyParent.classList.add('-lazy-loaded')\n            lazyParent.style.backgroundImage = ''\n        }\n        $el.classList.add('-lazy-loaded')\n\n        callback?.()\n    })\n}\n", "import { module } from 'modujs';\nimport { queryClosestParent } from '../utils/html';\nimport ScrollObserver from '../utils/scroll';\nimport { html } from '../utils/environment';\nimport { lazyLoadImage } from '../utils/image';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        // Reset scroll\n        window.scrollTo(0, 0)\n\n        // Set observer\n        this.initObserver()\n    }\n\n    initObserver() {\n        // Create observer instance\n        this.scrollObserver = new ScrollObserver({\n            el: this.el,\n            rootMargin: \"-1px 0% -10% 0%\",\n            hasScrollEvent: true,\n            scrollCallback: this.onScroll.bind(this)\n        });\n\n        this.scrollObserver.on('call', (func,way,obj,id) => {\n            // Using modularJS\n            this.call(func[0],{way,obj},func[1],func[2]);\n        });\n    }\n\n    scrollTo(args) {\n        if (this.scrollObserver && this.scrollObserver.scrollTo) {\n            this.scrollObserver.scrollTo(args[0], args[1])\n        }\n    }\n\n    lazyLoad(args) {\n        lazyLoadImage(args.obj.target, null, () => {\n            this.setData('lazy', '', args.obj.target)\n        })\n    }\n\n    onScroll(event) {\n        if(this.scrollObserver.scrollDirection == 'down') {\n            html.classList.add('is-scrolling-down')\n        } else {\n            html.classList.remove('is-scrolling-down')\n        }\n\n        if(window.scrollY > 80) {\n            html.classList.add('has-scrolled');\n        } else {\n            html.classList.remove('has-scrolled');\n        }\n    }\n\n    destroy() {\n        super.destroy();\n        this.scrollObserver.destroy()\n    }\n}\n", "export function slugify(str) {\n    str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap \u00F1 for n, etc\n    var from = \"\u00E0\u00E1\u00E4\u00E2\u00E8\u00E9\u00EB\u00EA\u00EC\u00ED\u00EF\u00EE\u00F2\u00F3\u00F6\u00F4\u00F9\u00FA\u00FC\u00FB\u00F1\u00E7\u00B7/_,:;\";\n    var to = \"aaaaeeeeiiiioooouuuunc------\";\n\n    for (var i = 0, l = from.length; i < l; i++)\n        str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n\n    str = str\n        .replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n        .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n        .replace(/-+/g, \"-\"); // collapse dashes\n\n    return str;\n}\n\n// https://stackoverflow.com/questions/9960908/permutations-in-javascript/37580979#37580979\nexport function permute(permutation) {\n    var length = permutation.length,\n        result = [permutation.slice()],\n        c = new Array(length).fill(0),\n        i = 1,\n        k,\n        p;\n\n    while (i < length) {\n        if (c[i] < i) {\n            k = i % 2 && c[i];\n            p = permutation[i];\n            permutation[i] = permutation[k];\n            permutation[k] = p;\n            ++c[i];\n            i = 1;\n            result.push(permutation.slice());\n        } else {\n            c[i] = 0;\n            ++i;\n        }\n    }\n    return result;\n}\n", "export function format_price(price) {\n    return (parseInt(price) / 100).toFixed(2)\n}\n", "import { slugify } from \"../utils/string\"\nimport { format_price } from \"../utils/cart-utils\"\n\nconst productFormMixin = {\n    data: {\n        allProductOptions:        [],\n        allProductVariants:       [],\n        currentProductOptions:    [],\n        currentProductVariant:    {},\n        isCurrentVariantExist:    true,\n        isQuantityExceed:         false,\n        quantity:                 1,\n    },\n\n    computed: {\n        currentVariantName() {\n            return this.isCurrentVariantExist ? this.currentProductVariant.optionsValues.join(' - ') : ''\n        },\n\n        currentVariantPrice() {\n            return this.isCurrentVariantExist ? format_price(this.currentProductVariant.price) : ''\n        },\n\n        currentOriginalVariantPrice() {\n            return this.isCurrentVariantExist && this.currentProductVariant.compare_at_price ? format_price(this.currentProductVariant.compare_at_price) : ''\n        },\n\n        currentVariantQuantity() {\n            return this.isCurrentVariantExist ? this.currentProductVariant.quantity : ''\n        },\n\n        currentVariantSale() {\n            return this.isCurrentVariantExist && this.currentProductVariant.price && this.currentProductVariant.compare_at_price && this.currentProductVariant.price < this.currentProductVariant.compare_at_price  ? 100 - Math.round(this.currentProductVariant.price / this.currentProductVariant.compare_at_price * 100) : 0\n        },\n\n        isNotAvailable() {\n            return this.isOutOfStock || this.isQuantityNotAvailable\n        },\n\n        isOutOfStock() {\n            return this.isCurrentVariantExist && !this.currentProductVariant.available\n        },\n\n        isQuantityNotAvailable() {\n            return this.currentProductVariant.quantity > 0 && this.quantity > this.currentProductVariant.quantity\n        },\n    },\n\n    watch: {\n        currentProductOptions: function (newProductOptions, oldProductOptions) {\n            if (this.isQuantityExceed) {\n                this.isQuantityExceed = false\n            }\n            \n            this.updateCurrentProductVariant(newProductOptions)\n        },\n\n        quantity: function (newQuantity, oldQuantity) {\n            if (this.isQuantityExceed && newQuantity < oldQuantity) {\n                this.isQuantityExceed = false\n            }\n        }\n    },\n\n    created() {\n        // Check module instance\n        if (!this.moduleInstance) return console.log(\"[beforeCreate] - Please store module instance 'this' into 'this.moduleInstance'\")\n\n        // Bind data\n        const productVariants = this.moduleInstance.productVariants\n        const productCurrentVariantId = this.moduleInstance.productCurrentVariantId\n        this.allProductOptions = this.moduleInstance.productOptions\n        this.allProductQuantities = this.moduleInstance.productQuantities\n        this.allProductColors = this.moduleInstance.productColors\n\n        // Set product data\n        this.allProductVariants = productVariants\n        this.setProductVariantsOptions(productVariants, this.allProductOptions)\n        this.setProductVariantsQuantities(productVariants, this.allProductQuantities)\n        \n        // Set current product variant\n        this.currentProductVariant = this.allProductVariants.find(variant => variant.id === productCurrentVariantId)\n        \n        // Set product options\n        this.setProductOptionsIds(this.allProductOptions)\n        this.setProductOptionsColors(this.allProductOptions, this.allProductColors)\n        this.setCurrentProductOptions(this.currentProductVariant)\n    },\n\n    mounted() {\n        this.onPopState = this.onPopState.bind(this)\n        window.addEventListener('popstate', this.onPopState);\n    },\n    \n    beforeDestroy() {\n        window.removeEventListener('popstate', this.onPopState);\n    },\n\n    methods: {\n        /**\n        * Store current product options in an array : [colorName, sizeName, ...]\n        */\n        setCurrentProductOptions(currentVariant) {\n            this.currentProductOptions = currentVariant.options.map(option => option.value)\n        },\n\n        /**\n        * Override productOptions to add an array which store all variants ids\n        */\n        setProductOptionsIds(productOptions) {\n            let optionIndex = 0\n\n            while (optionIndex < productOptions.length) {\n                const option = productOptions[optionIndex]\n                const optionName = option.name\n                const optionValues = option.values\n\n                option.ids = optionValues.map(optionValue => {\n                    return slugify(`${optionName}-${optionValue}`)\n                })\n\n                optionIndex++\n            }\n        },\n        \n        /**\n        * Override productOptions to add an array which store all variants ids\n        */\n        setProductOptionsColors(productOptions, productColors) {\n            let optionIndex = 0\n\n            while (optionIndex < productOptions.length) {\n                const option = productOptions[optionIndex]\n\n                if (option.name === \"Color\") {\n                    option.colors = []\n\n                    option.values.forEach(value => {\n                        const color = productColors.find(color => color.name === value)\n                        const colorValue = color ? color : null\n                        option.colors.push(colorValue)\n                    })\n                }\n\n                optionIndex++\n            }\n        },\n\n        /**\n        * Override productVariants options to add an option object {name, value} and option values array [option1, option2, ...]\n        */\n        setProductVariantsOptions(variants, options) {\n            let variantsIndex = 0\n\n            while (variantsIndex < variants.length) {\n\n                // Add options array \n                variants[variantsIndex].optionsValues =  variants[variantsIndex].options.map((value, index) => {\n                    return value\n                })\n\n                // Add options object\n                variants[variantsIndex].options = variants[variantsIndex].options.map((value, index) => {\n                    return { \n                        name: options[index].name, \n                        value: value\n                    }\n                })\n\n                variantsIndex++\n            }\n        },\n\n        /**\n        * Add quantity number for each variant\n        */\n        setProductVariantsQuantities(variants, quantities) {\n            let variantsIndex = 0\n\n            while (variantsIndex < variants.length) {\n\n                const variantObject = variants[variantsIndex]\n                const currentVariant = quantities.find(variant => variant.id === variantObject.id )\n\n                // Add quantity number \n                variantObject.quantity = currentVariant.quantity\n\n                variantsIndex++\n            }\n        },\n\n        /**\n        * Update current product variant and set exist state\n        */\n        updateCurrentProductVariant(currentOptions) {\n            const currentOptionsId = currentOptions.join('')\n\n            this.currentProductVariant = this.allProductVariants.find(productVariant => productVariant.optionsValues.join('') === currentOptionsId )\n            \n            if (!this.currentProductVariant) {\n                this.isCurrentVariantExist = false\n            } else {\n                this.isCurrentVariantExist = true\n                // Update url\n                this.updateUrl(this.currentProductVariant.id)\n            }\n            \n            // Hook\n            this.onProductVariantChange?.(this.currentProductVariant?.id)\n        },\n\n        /**\n        * Increment quantity\n        */\n        increaseQuantity() {\n            if (this.quantity > 0) this.quantity++\n        },\n        /**\n        * Decrement quantity\n        */\n        decreaseQuantity() {\n            if (this.quantity > 1) this.quantity-- \n        },\n\n        /**\n        * On submit callback\n        */\n        onSubmit() {\n            this.onAddToCart?.(this.currentProductVariant.id, this.quantity)\n        },\n\n        /**\n        * On popState callback\n        */\n        onPopState(event) {\n            const queryString = window.location.search\n            const urlParams = new URLSearchParams(queryString)\n            const currentVariantId = urlParams.get('variant')\n\n            if (!currentVariantId) return\n            \n            // Set current product variant\n            this.currentProductVariant = this.allProductVariants.find(variant => variant.id === parseInt(currentVariantId, 10))\n\n            // Set product options\n            this.setCurrentProductOptions(this.currentProductVariant)\n        },\n\n        /**\n        * Update current url with variant parameter\n        */\n        updateUrl(variantId) {\n            if (!variantId) return\n\n            const url = new URL(window.location);\n            url.searchParams.set('variant', variantId);\n            window.history.replaceState({}, '', url);\n        },\n\n        /**\n        *  Apply options modifiers\n        */\n        modifierClass(stringsArr) {\n            const string =  stringsArr.join('-')\n            return `-${slugify(string)}`\n        }\n    }\n}\n\nexport default productFormMixin;\n", "import { module } from \"modujs\";\nimport productFormMixin from \"../vue-mixins/product-form-mixin\";\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        // Retrieve shopify product values\n        this.productVariants = JSON.parse(document.getElementById('productFormVariants').innerHTML);\n        this.productCurrentVariantId = JSON.parse(this.getData('current-variant-id'))\n        this.productOptions = JSON.parse(document.getElementById('productFormOptions').innerHTML);\n        this.productQuantities = JSON.parse(this.getData('quantities'))\n        this.productColors = JSON.parse(this.getData('colors'))\n        \n        // Init vue\n        this.initVue();\n    }\n\n    initVue() { \n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            mixins: [ productFormMixin ],\n\n            data: {\n                isReady:    false,\n                rating:     0\n            },\n\n            beforeCreate() {\n                this.moduleInstance = moduleInstance\n            },\n\n            mounted() {\n                this.$nextTick(() => {\n                    this.isReady = true\n                })\n            },\n\n            methods: {\n                onAddToCart(itemId, quantity = 1) {\n                    this.moduleInstance.call('addItem', { id: itemId, quantity }, 'CartModal')\n                },\n\n                onProductVariantChange(variantId) {\n                    this.moduleInstance.call('onProductVariantChange', variantId, 'ProductGallery')\n                },\n\n                openDelivery() {\n                    this.moduleInstance.call('open', null, 'Popup', 'delivery')\n                },\n                \n                openWarranty() {\n                    this.moduleInstance.call('open', null, 'Popup', 'warranty')\n                }\n            }\n        });\n    }\n\n    cannotAddMoreItem() {\n        // Display too much items error\n        if (this.app) {\n            this.app.isQuantityExceed = true\n        }\n    }\n\n    setProductRating(rating) {\n        if (this.app) {\n            this.app.rating = rating\n        }\n    }\n\n    destroy() {\n        super.destroy();\n        \n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "/**\n * SSR Window 3.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target, src) {\n    if (target === void 0) { target = {}; }\n    if (src === void 0) { src = {}; }\n    Object.keys(src).forEach(function (key) {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nvar ssrDocument = {\n    body: {},\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    activeElement: {\n        blur: function () { },\n        nodeName: '',\n    },\n    querySelector: function () {\n        return null;\n    },\n    querySelectorAll: function () {\n        return [];\n    },\n    getElementById: function () {\n        return null;\n    },\n    createEvent: function () {\n        return {\n            initEvent: function () { },\n        };\n    },\n    createElement: function () {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute: function () { },\n            getElementsByTagName: function () {\n                return [];\n            },\n        };\n    },\n    createElementNS: function () {\n        return {};\n    },\n    importNode: function () {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    var doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nvar ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState: function () { },\n        pushState: function () { },\n        go: function () { },\n        back: function () { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    getComputedStyle: function () {\n        return {\n            getPropertyValue: function () {\n                return '';\n            },\n        };\n    },\n    Image: function () { },\n    Date: function () { },\n    screen: {},\n    setTimeout: function () { },\n    clearTimeout: function () { },\n    matchMedia: function () {\n        return {};\n    },\n    requestAnimationFrame: function (callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame: function (id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    var win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n", "/**\n * Dom7 3.0.0\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  var proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get: function get() {\n      return proto;\n    },\n    set: function set(value) {\n      proto.__proto__ = value;\n    }\n  });\n}\n\nvar Dom7 = /*#__PURE__*/function (_Array) {\n  _inheritsLoose(Dom7, _Array);\n\n  function Dom7(items) {\n    var _this;\n\n    _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n    makeReactive(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Dom7;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n\nfunction arrayFlat(arr) {\n  if (arr === void 0) {\n    arr = [];\n  }\n\n  var res = [];\n  arr.forEach(function (el) {\n    if (Array.isArray(el)) {\n      res.push.apply(res, arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  var uniqueArray = [];\n\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n    return group.toUpperCase();\n  });\n}\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  var a = [];\n  var res = context.querySelectorAll(selector);\n\n  for (var i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  var window = getWindow();\n  var document = getDocument();\n  var arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    var html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      var toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      var tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\nfunction addClass() {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList;\n\n    (_el$classList = el.classList).add.apply(_el$classList, classNames);\n  });\n  return this;\n}\n\nfunction removeClass() {\n  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    classes[_key2] = arguments[_key2];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList2;\n\n    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n  });\n  return this;\n}\n\nfunction toggleClass() {\n  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    classes[_key3] = arguments[_key3];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    classNames.forEach(function (className) {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass() {\n  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    classes[_key4] = arguments[_key4];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  return arrayFilter(this, function (el) {\n    return classNames.filter(function (className) {\n      return el.classList.contains(className);\n    }).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (var attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (var propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  var el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    var dataKey = el.getAttribute(\"data-\" + key);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  var el = this[0];\n  if (!el) return undefined;\n  var dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (var dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (var i = 0; i < el.attributes.length; i += 1) {\n      var _attr = el.attributes[i];\n\n      if (_attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n      }\n    }\n  }\n\n  for (var key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    var el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      var values = [];\n\n      for (var i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (var _i = 0; _i < this.length; _i += 1) {\n    var _el = this[_i];\n\n    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n      for (var j = 0; j < _el.options.length; j += 1) {\n        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n      }\n    } else {\n      _el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + \"ms\" : duration;\n  }\n\n  return this;\n}\n\nfunction on() {\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) return;\n    var eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      var _parents = $(target).parents(); // eslint-disable-line\n\n\n      for (var k = 0; k < _parents.length; k += 1) {\n        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  var events = eventType.split(' ');\n  var j;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        var event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener: listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        var _event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n        el.dom7LiveListeners[_event].push({\n          listener: listener,\n          proxyListener: handleLiveEvent\n        });\n\n        el.addEventListener(_event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  var events = eventType.split(' ');\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n      var handlers = void 0;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (var k = handlers.length - 1; k >= 0; k -= 1) {\n          var handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once() {\n  var dom = this;\n\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  var eventName = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventName = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  function onceHandler() {\n    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      eventArgs[_key8] = arguments[_key8];\n    }\n\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger() {\n  var window = getWindow();\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n\n      if (window.CustomEvent) {\n        var evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter(function (data, dataIndex) {\n          return dataIndex > 0;\n        });\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles = this.styles();\n\n      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles2 = this.styles();\n\n      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    var window = getWindow();\n    var document = getDocument();\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  var window = getWindow();\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  var window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  var window = getWindow();\n  var i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (var _prop in props) {\n          this[i].style[_prop] = props[_prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach(function (el, index) {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  var result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  var window = getWindow();\n  var document = getDocument();\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  var child = this[0];\n  var i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  var length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    var returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append() {\n  var newChild;\n  var document = getDocument();\n\n  for (var k = 0; k < arguments.length; k += 1) {\n    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  var document = getDocument();\n  var i;\n  var j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  var before = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (var j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  var after = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (var j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    var _next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_next).is(selector)) nextEls.push(_next);\n    } else nextEls.push(_next);\n\n    el = _next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    var _prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_prev).is(selector)) prevEls.push(_prev);\n    } else prevEls.push(_prev);\n\n    el = _prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var _parent = this[i].parentNode; // eslint-disable-line\n\n    while (_parent) {\n      if (selector) {\n        if ($(_parent).is(selector)) parents.push(_parent);\n      } else {\n        parents.push(_parent);\n      }\n\n      _parent = _parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  var foundElements = [];\n\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this[i].querySelectorAll(selector);\n\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  var children = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this[i].children;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add() {\n  var dom = this;\n  var i;\n  var j;\n\n  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    els[_key10] = arguments[_key10];\n  }\n\n  for (i = 0; i < els.length; i += 1) {\n    var toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.nodeType === 1) {\n      for (var j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\nfunction scrollTo() {\n  var window = getWindow();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var left = args[0],\n      top = args[1],\n      duration = args[2],\n      easing = args[3],\n      callback = args[4];\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    left = args[0];\n    top = args[1];\n    duration = args[2];\n    callback = args[3];\n    easing = args[4];\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    var el = this;\n    var currentTop;\n    var currentLeft;\n    var maxTop;\n    var maxLeft;\n    var newTop;\n    var newLeft;\n    var scrollTop; // eslint-disable-line\n\n    var scrollLeft; // eslint-disable-line\n\n    var animateTop = top > 0 || top === 0;\n    var animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    var startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time) {\n      if (time === void 0) {\n        time = new Date().getTime();\n      }\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      var done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var top = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    top = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft() {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  var left = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    left = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  var window = getWindow();\n  var els = this;\n  var a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n    easingProgress: function easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n    stop: function stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done: function done(complete) {\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        var que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate: function animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      var elements = []; // Define & Cache Initials & Units\n\n      a.elements.each(function (el, index) {\n        var initialFullValue;\n        var initialValue;\n        var unit;\n        var finalValue;\n        var finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(function (prop) {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue: initialFullValue,\n            initialValue: initialValue,\n            unit: unit,\n            finalValue: finalValue,\n            finalFullValue: finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      var startTime = null;\n      var time;\n      var elementsDone = 0;\n      var propsDone = 0;\n      var done;\n      var began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        var progress;\n        var easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(function (element) {\n          var el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(function (prop) {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            var _el$prop = el[prop],\n                initialValue = _el$prop.initialValue,\n                finalValue = _el$prop.finalValue,\n                unit = _el$prop.unit;\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            var currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  var animateInstance;\n\n  for (var i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  var els = this;\n\n  for (var i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nvar noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'undefined') {\n      for (var i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on.apply(this, [name].concat(args));\n  }\n\n  return eventHandler;\n}\n\nvar click = shortcut('click');\nvar blur = shortcut('blur');\nvar focus = shortcut('focus');\nvar focusin = shortcut('focusin');\nvar focusout = shortcut('focusout');\nvar keyup = shortcut('keyup');\nvar keydown = shortcut('keydown');\nvar keypress = shortcut('keypress');\nvar submit = shortcut('submit');\nvar change = shortcut('change');\nvar mousedown = shortcut('mousedown');\nvar mousemove = shortcut('mousemove');\nvar mouseup = shortcut('mouseup');\nvar mouseenter = shortcut('mouseenter');\nvar mouseleave = shortcut('mouseleave');\nvar mouseout = shortcut('mouseout');\nvar mouseover = shortcut('mouseover');\nvar touchstart = shortcut('touchstart');\nvar touchend = shortcut('touchend');\nvar touchmove = shortcut('touchmove');\nvar resize = shortcut('resize');\nvar scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n", "import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  styles: styles,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  filter: filter,\n  remove: remove\n};\nObject.keys(Methods).forEach(function (methodName) {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;", "import { getDocument, getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  var object = obj;\n  Object.keys(object).forEach(function (key) {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  var window = getWindow();\n  var style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  var window = getWindow();\n  var matrix;\n  var curTransform;\n  var transformMatrix;\n  var curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(function (a) {\n        return a.replace(',', '.');\n      }).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  var noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {\n        return noExtend.indexOf(key) < 0;\n      });\n\n      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        var nextKey = keysArray[nextIndex];\n        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction bindModuleMethods(instance, obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach(function (subKey) {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n\n    instance[key] = obj[key];\n  });\n}\n\nfunction classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return \".\" + classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.');\n}\n\nfunction createElementIfNotDefined($container, params, createElements, checkProps) {\n  var document = getDocument();\n\n  if (createElements) {\n    Object.keys(checkProps).forEach(function (key) {\n      if (!params[key] && params.auto === true) {\n        var element = document.createElement('div');\n        element.className = checkProps[key];\n        $container.append(element);\n        params[key] = element;\n      }\n    });\n  }\n\n  return params;\n}\n\nexport { deleteProps, nextTick, now, getTranslate, isObject, extend, bindModuleMethods, getComputedStyle, classesToSelector, createElementIfNotDefined };", "import { getWindow, getDocument } from 'ssr-window';\nvar support;\n\nfunction calcSupport() {\n  var window = getWindow();\n  var document = getDocument();\n  return {\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,\n    observer: function checkObserver() {\n      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n    }(),\n    passiveListener: function checkPassiveListener() {\n      var supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          }\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };", "import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\nvar device;\n\nfunction calcDevice(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      userAgent = _ref.userAgent;\n\n  var support = getSupport();\n  var window = getWindow();\n  var platform = window.navigator.platform;\n  var ua = userAgent || window.navigator.userAgent;\n  var device = {\n    ios: false,\n    android: false\n  };\n  var screenWidth = window.screen.width;\n  var screenHeight = window.screen.height;\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  var windows = platform === 'Win32';\n  var macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + \"x\" + screenHeight) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!device) {\n    device = calcDevice(overrides);\n  }\n\n  return device;\n}\n\nexport { getDevice };", "import { getWindow } from 'ssr-window';\nvar browser;\n\nfunction calcBrowser() {\n  var window = getWindow();\n\n  function isSafari() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isEdge: !!window.navigator.userAgent.match(/Edge/g),\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };", "import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\n\nvar supportsResizeObserver = function supportsResizeObserver() {\n  var window = getWindow();\n  return typeof window.ResizeObserver !== 'undefined';\n};\n\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        observer: null,\n        createObserver: function createObserver() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.resize.observer = new ResizeObserver(function (entries) {\n            var width = swiper.width,\n                height = swiper.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_ref) {\n              var contentBoxSize = _ref.contentBoxSize,\n                  contentRect = _ref.contentRect,\n                  target = _ref.target;\n              if (target && target !== swiper.el) return;\n              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n              swiper.resize.resizeHandler();\n            }\n          });\n          swiper.resize.observer.observe(swiper.el);\n        },\n        removeObserver: function removeObserver() {\n          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {\n            swiper.resize.observer.unobserve(swiper.el);\n            swiper.resize.observer = null;\n          }\n        },\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow();\n\n      if (swiper.params.resizeObserver && supportsResizeObserver()) {\n        swiper.resize.createObserver();\n        return;\n      } // Emit resize\n\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      swiper.resize.removeObserver();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};", "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends({}, Observer, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};", "import { extend } from '../../utils/utils';\nexport default {\n  useParams: function useParams(instanceParams) {\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName]; // Extend params\n\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  },\n  useModules: function useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName];\n      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners\n\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach(function (moduleEventName) {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      } // Module create callback\n\n\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n};", "/* eslint-disable no-underscore-dangle */\nexport default {\n  on: function on(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(function (event) {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once: function once(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny: function onAny(handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n  offAny: function offAny(handler) {\n    var self = this;\n    if (!self.eventsAnyListeners) return self;\n    var index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n  off: function off(events, handler) {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(function (event) {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler, index) {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit: function emit() {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    var events;\n    var data;\n    var context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    var eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(function (event) {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(function (eventHandler) {\n          eventHandler.apply(context, [event].concat(data));\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler) {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};", "import { extend } from '../../../utils/utils';\nexport default function updateSize() {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}", "import { extend } from '../../../utils/utils';\nexport default function updateSlides() {\n  var swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl,\n      swiperSize = swiper.size,\n      rtl = swiper.rtlTranslate,\n      wrongRTL = swiper.wrongRTL;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  var slides = $wrapperEl.children(\".\" + swiper.params.slideClass);\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n  var offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.slidesGrid.length;\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  });\n  var slidesNumberEvenToRows;\n\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  } // Calc slides\n\n\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);\n\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = void 0;\n      var column = void 0;\n      var row = void 0;\n\n      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {\n        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));\n        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;\n        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n        slide.css({\n          '-webkit-box-ordinal-group': newSlideOrderIndex,\n          '-moz-box-ordinal-group': newSlideOrderIndex,\n          '-ms-flex-order': newSlideOrderIndex,\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - column * slidesPerColumn;\n\n        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n          row += 1;\n\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + \"px\" : '');\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      var slideStyles = getComputedStyle(slide[0]);\n      var currentTransform = slide[0].style.transform;\n      var currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        var width = getDirectionPropertyValue(slideStyles, 'width');\n        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        var boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          var _slide$ = slide[0],\n              clientWidth = _slide$.clientWidth,\n              offsetWidth = _slide$.offsetWidth;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = slideSize + \"px\";\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.setWrapperSize) {\n    var _$wrapperEl$css;\n\n    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css));\n  }\n\n  if (params.slidesPerColumn > 1) {\n    var _$wrapperEl$css2;\n\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css2));\n\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n\n      for (var _i = 0; _i < snapGrid.length; _i += 1) {\n        var slidesGridItem = snapGrid[_i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid = newSlidesGrid;\n    }\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n\n    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {\n      var _slidesGridItem = snapGrid[_i2];\n      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);\n\n      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(_slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    var _slides$filter$css;\n\n    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter(function (_, slideIndex) {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + \"px\", _slides$filter$css));\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    var allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    var maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(function (snap) {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    var _allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    _allSlidesSize -= params.spaceBetween;\n\n    if (_allSlidesSize < swiperSize) {\n      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;\n      snapGrid.forEach(function (snap, snapIndex) {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach(function (snap, snapIndex) {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n}", "export default function updateAutoHeight(speed) {\n  var swiper = this;\n  var activeSlides = [];\n  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  var newHeight = 0;\n  var i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  var getSlideByIndex = function getSlideByIndex(index) {\n    if (isVirtual) {\n      return swiper.slides.filter(function (el) {\n        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;\n      })[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(function (slide) {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        var index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', newHeight + \"px\");\n}", "export default function updateSlidesOffset() {\n  var swiper = this;\n  var slides = swiper.slides;\n\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}", "import $ from '../../../utils/dom';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  var swiper = this;\n  var params = swiper.params;\n  var slides = swiper.slides,\n      rtl = swiper.rtlTranslate;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  var offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n\n    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}", "import { extend } from '../../../utils/utils';\nexport default function updateProgress(translate) {\n  var swiper = this;\n\n  if (typeof translate === 'undefined') {\n    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  var params = swiper.params;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress,\n      isBeginning = swiper.isBeginning,\n      isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd\n  });\n  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}", "export default function updateSlidesClasses() {\n  var swiper = this;\n  var slides = swiper.slides,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex,\n      realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(params.slideActiveClass + \" \" + params.slideNextClass + \" \" + params.slidePrevClass + \" \" + params.slideDuplicateActiveClass + \" \" + params.slideDuplicateNextClass + \" \" + params.slideDuplicatePrevClass);\n  var activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\");\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  var nextSlide = activeSlide.nextAll(\".\" + params.slideClass).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  var prevSlide = activeSlide.prevAll(\".\" + params.slideClass).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}", "import { extend } from '../../../utils/utils';\nexport default function updateActiveIndex(newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      params = swiper.params,\n      previousIndex = swiper.activeIndex,\n      previousRealIndex = swiper.realIndex,\n      previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}", "import $ from '../../../utils/dom';\nexport default function updateClickedSlide(e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $(e.target).closest(\".\" + params.slideClass)[0];\n  var slideFound = false;\n  var slideIndex;\n\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}", "import updateSize from './updateSize';\nimport updateSlides from './updateSlides';\nimport updateAutoHeight from './updateAutoHeight';\nimport updateSlidesOffset from './updateSlidesOffset';\nimport updateSlidesProgress from './updateSlidesProgress';\nimport updateProgress from './updateProgress';\nimport updateSlidesClasses from './updateSlidesClasses';\nimport updateActiveIndex from './updateActiveIndex';\nimport updateClickedSlide from './updateClickedSlide';\nexport default {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide\n};", "import { getTranslate } from '../../../utils/utils';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      rtl = swiper.rtlTranslate,\n      translate = swiper.translate,\n      $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  var currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}", "export default function setTranslate(translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtlTranslate,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      wrapperEl = swiper.wrapperEl,\n      progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\");\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}", "export default function minTranslate() {\n  return -this.snapGrid[0];\n}", "export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}", "export default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var minTranslate = swiper.minTranslate();\n  var maxTranslate = swiper.maxTranslate();\n  var newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}", "import getTranslate from './getTranslate';\nimport setTranslate from './setTranslate';\nimport minTranslate from './minTranslate';\nimport maxTranslate from './maxTranslate';\nimport translateTo from './translateTo';\nexport default {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n  translateTo: translateTo\n};", "export default function setTransition(duration, byController) {\n  var swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}", "export default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      params = swiper.params,\n      previousIndex = swiper.previousIndex;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionStart');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionStart');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionStart');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n}", "export default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      previousIndex = swiper.previousIndex,\n      params = swiper.params;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionEnd');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionEnd');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionEnd');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionEnd');\n    } else {\n      swiper.emit('slidePrevTransitionEnd');\n    }\n  }\n}", "import setTransition from './setTransition';\nimport transitionStart from './transitionStart';\nimport transitionEnd from './transitionEnd';\nexport default {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd\n};", "export default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(\"The 'index' argument cannot have type other than 'number' or 'string'. [\" + typeof index + \"] given.\");\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    var indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    var isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(\"The passed-in 'index' (string) couldn't be converted to 'number'. [\" + index + \"] given.\");\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  var params = swiper.params,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      previousIndex = swiper.previousIndex,\n      activeIndex = swiper.activeIndex,\n      rtl = swiper.rtlTranslate,\n      wrapperEl = swiper.wrapperEl,\n      enabled = swiper.enabled;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      var normalizedTranslate = -Math.floor(translate * 100);\n      var normalizedGird = Math.floor(slidesGrid[i] * 100);\n      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGird) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  var direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n    var t = -translate;\n\n    if (rtl) {\n      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;\n    }\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}", "export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  var translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  var normalizedTranslate = normalize(translate);\n  var normalizedSnapGrid = snapGrid.map(function (val) {\n    return normalize(val);\n  });\n  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    snapGrid.forEach(function (snap) {\n      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;\n    });\n  }\n\n  var prevIndex;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  var swiper = this;\n  var index = swiper.activeIndex;\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    var currentSnap = swiper.snapGrid[snapIndex];\n    var nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    var prevSnap = swiper.snapGrid[snapIndex - 1];\n    var _currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}", "import $ from '../../../utils/dom';\nimport { nextTick } from '../../../utils/utils';\nexport default function slideToClickedSlide() {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl;\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n        nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n      nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}", "import slideTo from './slideTo';\nimport slideToLoop from './slideToLoop';\nimport slideNext from './slideNext';\nimport slidePrev from './slidePrev';\nimport slideReset from './slideReset';\nimport slideToClosest from './slideToClosest';\nimport slideToClickedSlide from './slideToClickedSlide';\nexport default {\n  slideTo: slideTo,\n  slideToLoop: slideToLoop,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClosest: slideToClosest,\n  slideToClickedSlide: slideToClickedSlide\n};", "import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loopCreate() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides\n\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass).remove();\n  var slides = $wrapperEl.children(\".\" + params.slideClass);\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $(document.createElement('div')).addClass(params.slideClass + \" \" + params.slideBlankClass);\n        $wrapperEl.append(blankNode);\n      }\n\n      slides = $wrapperEl.children(\".\" + params.slideClass);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (el, index) {\n    var slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (var _i = 0; _i < appendSlides.length; _i += 1) {\n    $wrapperEl.append($(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {\n    $wrapperEl.prepend($(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}", "export default function loopFix() {\n  var swiper = this;\n  swiper.emit('beforeLoopFix');\n  var activeIndex = swiper.activeIndex,\n      slides = swiper.slides,\n      loopedSlides = swiper.loopedSlides,\n      allowSlidePrev = swiper.allowSlidePrev,\n      allowSlideNext = swiper.allowSlideNext,\n      snapGrid = swiper.snapGrid,\n      rtl = swiper.rtlTranslate;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  var snapTranslate = -snapGrid[activeIndex];\n  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    var slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n\n    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (_slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}", "export default function loopDestroy() {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      slides = swiper.slides;\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \",.\" + params.slideClass + \".\" + params.slideBlankClass).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}", "import loopCreate from './loopCreate';\nimport loopFix from './loopFix';\nimport loopDestroy from './loopDestroy';\nexport default {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy\n};", "export default function setGrabCursor(moving) {\n  var swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}", "export default function unsetGrabCursor() {\n  var swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper.el.style.cursor = '';\n}", "import setGrabCursor from './setGrabCursor';\nimport unsetGrabCursor from './unsetGrabCursor';\nexport default {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor\n};", "export default function appendSlide(slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n}", "export default function prependSlide(slides) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  var newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}", "export default function addSlide(index, slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  var slidesBuffer = [];\n\n  for (var i = baseLength - 1; i >= index; i -= 1) {\n    var currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (slides[_i]) $wrapperEl.append(slides[_i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {\n    $wrapperEl.append(slidesBuffer[_i2]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}", "export default function removeSlide(slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var newActiveIndex = activeIndexBuffer;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}", "export default function removeAllSlides() {\n  var swiper = this;\n  var slidesIndexes = [];\n\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}", "import appendSlide from './appendSlide';\nimport prependSlide from './prependSlide';\nimport addSlide from './addSlide';\nimport removeSlide from './removeSlide';\nimport removeAllSlides from './removeAllSlides';\nexport default {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  addSlide: addSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides\n};", "import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    var found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  var swiper = this;\n  var document = getDocument();\n  var window = getWindow();\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  var $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : \".\" + params.noSwipingClass;\n  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}", "import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchMove(event) {\n  var document = getDocument();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}", "import { now, nextTick } from '../../../utils/utils';\nexport default function onTouchEnd(event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      $wrapperEl = swiper.$wrapperEl,\n      slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  var touchEndTime = now();\n  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(function () {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  var currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      var needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        swiper.once('transitionEnd', function () {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeModeSticky) {\n          // If freeModeSticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(function () {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(function () {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeModeSticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      swiper.emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    return;\n  } // Find current slide\n\n\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n\n  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + _increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + _increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}", "export default function onResize() {\n  var swiper = this;\n  var params = swiper.params,\n      el = swiper.el;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  var allowSlideNext = swiper.allowSlideNext,\n      allowSlidePrev = swiper.allowSlidePrev,\n      snapGrid = swiper.snapGrid; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}", "export default function onClick(e) {\n  var swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}", "export default function onScroll() {\n  var swiper = this;\n  var wrapperEl = swiper.wrapperEl,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    if (rtlTranslate) {\n      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollLeft;\n    }\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}", "import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart';\nimport onTouchMove from './onTouchMove';\nimport onTouchEnd from './onTouchEnd';\nimport onResize from './onResize';\nimport onClick from './onClick';\nimport onScroll from './onScroll';\nvar dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nfunction attachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture: capture\n      } : capture);\n      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n\n      if (!dummyEventAttached) {\n        document.addEventListener('touchstart', dummyEventListener);\n        dummyEventAttached = true;\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.addEventListener('mousedown', swiper.onTouchStart, false);\n      document.addEventListener('mousemove', swiper.onTouchMove, capture);\n      document.addEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.addEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.addEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper.on('observerUpdate', onResize, true);\n  }\n}\n\nfunction detachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.removeEventListener('mousedown', swiper.onTouchStart, false);\n      document.removeEventListener('mousemove', swiper.onTouchMove, capture);\n      document.removeEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.removeEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.removeEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize);\n}\n\nexport default {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents\n};", "import { extend } from '../../../utils/utils';\nexport default function setBreakpoint() {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      initialized = swiper.initialized,\n      _swiper$loopedSlides = swiper.loopedSlides,\n      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,\n      params = swiper.params,\n      $el = swiper.$el;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n\n  if (breakpointOnlyParams) {\n    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {\n      var paramValue = breakpointOnlyParams[param];\n      if (typeof paramValue === 'undefined') return;\n\n      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {\n        breakpointOnlyParams[param] = 'auto';\n      } else if (param === 'slidesPerView') {\n        breakpointOnlyParams[param] = parseFloat(paramValue);\n      } else {\n        breakpointOnlyParams[param] = parseInt(paramValue, 10);\n      }\n    });\n  }\n\n  var breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  var wasMultiRow = params.slidesPerColumn > 1;\n  var isMultiRow = breakpointParams.slidesPerColumn > 1;\n  var wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(params.containerModifierClass + \"multirow \" + params.containerModifierClass + \"multirow-column\");\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(params.containerModifierClass + \"multirow\");\n\n    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {\n      $el.addClass(params.containerModifierClass + \"multirow-column\");\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  var isEnabled = swiper.params.enabled;\n  extend(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}", "import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  var breakpoint = false;\n  var window = getWindow();\n  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  var points = Object.keys(breakpoints).map(function (point) {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      var minRatio = parseFloat(point.substr(1));\n      var value = currentHeight * minRatio;\n      return {\n        value: value,\n        point: point\n      };\n    }\n\n    return {\n      value: point,\n      point: point\n    };\n  });\n  points.sort(function (a, b) {\n    return parseInt(a.value, 10) - parseInt(b.value, 10);\n  });\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        point = _points$i.point,\n        value = _points$i.value;\n\n    if (base === 'window') {\n      if (window.matchMedia(\"(min-width: \" + value + \"px)\").matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}", "import setBreakpoint from './setBreakpoint';\nimport getBreakpoint from './getBreakpoint';\nexport default {\n  setBreakpoint: setBreakpoint,\n  getBreakpoint: getBreakpoint\n};", "function prepareClasses(entries, prefix) {\n  var resultClasses = [];\n  entries.forEach(function (item) {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(function (classNames) {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  var swiper = this;\n  var classNames = swiper.classNames,\n      params = swiper.params,\n      rtl = swiper.rtl,\n      $el = swiper.$el,\n      device = swiper.device,\n      support = swiper.support; // prettier-ignore\n\n  var suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': support.pointerEvents && !support.touch\n  }, {\n    'free-mode': params.freeMode\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'multirow': params.slidesPerColumn > 1\n  }, {\n    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }], params.containerModifierClass);\n  classNames.push.apply(classNames, suffixes);\n  $el.addClass([].concat(classNames).join(' '));\n  swiper.emitContainerClasses();\n}", "export default function removeClasses() {\n  var swiper = this;\n  var $el = swiper.$el,\n      classNames = swiper.classNames;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}", "import addClasses from './addClasses';\nimport removeClasses from './removeClasses';\nexport default {\n  addClasses: addClasses,\n  removeClasses: removeClasses\n};", "import { getWindow } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var window = getWindow();\n  var image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  var isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}", "export default function preloadImages() {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}", "import loadImage from './loadImage';\nimport preloadImages from './preloadImages';\nexport default {\n  loadImage: loadImage,\n  preloadImages: preloadImages\n};", "function checkOverflow() {\n  var swiper = this;\n  var params = swiper.params;\n  var wasLocked = swiper.isLocked;\n  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;\n\n  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {\n    swiper.isLocked = lastSlidePosition <= swiper.size;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  swiper.allowSlideNext = !swiper.isLocked;\n  swiper.allowSlidePrev = !swiper.isLocked; // events\n\n  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    if (swiper.navigation) swiper.navigation.update();\n  }\n}\n\nexport default {\n  checkOverflow: checkOverflow\n};", "export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: false,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-container-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};", "function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, now, deleteProps } from '../../utils/utils';\nimport { getSupport } from '../../utils/get-support';\nimport { getDevice } from '../../utils/get-device';\nimport { getBrowser } from '../../utils/get-browser';\nimport Resize from '../../modules/resize/resize';\nimport Observer from '../../modules/observer/observer';\nimport modular from './modular';\nimport eventsEmitter from './events-emitter';\nimport update from './update/index';\nimport translate from './translate/index';\nimport transition from './transition/index';\nimport slide from './slide/index';\nimport loop from './loop/index';\nimport grabCursor from './grab-cursor/index';\nimport manipulation from './manipulation/index';\nimport events from './events/index';\nimport breakpoints from './breakpoints/index';\nimport classes from './classes/index';\nimport images from './images/index';\nimport checkOverflow from './check-overflow/index';\nimport defaults from './defaults';\nvar prototypes = {\n  modular: modular,\n  eventsEmitter: eventsEmitter,\n  update: update,\n  translate: translate,\n  transition: transition,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow,\n  classes: classes,\n  images: images\n};\nvar extendedDefaults = {};\n\nvar Swiper = /*#__PURE__*/function () {\n  function Swiper() {\n    var el;\n    var params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      el = args[0];\n      params = args[1];\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      var swipers = [];\n      $(params.el).each(function (containerEl) {\n        var newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    var swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object' || moduleParams === null) return;\n\n        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            auto: true\n          };\n        }\n\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            enabled: true\n          };\n        }\n\n        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n          params[moduleParamName].enabled = true;\n        }\n\n        if (!params[moduleParamName]) params[moduleParamName] = {\n          enabled: false\n        };\n      }\n    }); // Extend defaults with modules params\n\n    var swiperParams = extend({}, defaults);\n    swiper.useParams(swiperParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(function (eventName) {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    extend(swiper, {\n      enabled: swiper.params.enabled,\n      el: el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n\n        if (swiper.support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        }\n\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    }); // Install Modules\n\n    swiper.useModules();\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  var _proto = Swiper.prototype;\n\n  _proto.enable = function enable() {\n    var swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  };\n\n  _proto.disable = function disable() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  };\n\n  _proto.setProgress = function setProgress(progress, speed) {\n    var swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    var min = swiper.minTranslate();\n    var max = swiper.maxTranslate();\n    var current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  };\n\n  _proto.emitContainerClasses = function emitContainerClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var classes = swiper.el.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', classes.join(' '));\n  };\n\n  _proto.getSlideClasses = function getSlideClasses(slideEl) {\n    var swiper = this;\n    return slideEl.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  };\n\n  _proto.emitSlidesClasses = function emitSlidesClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var updates = [];\n    swiper.slides.each(function (slideEl) {\n      var classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl: slideEl,\n        classNames: classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  };\n\n  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {\n    var swiper = this;\n    var params = swiper.params,\n        slides = swiper.slides,\n        slidesGrid = swiper.slidesGrid,\n        swiperSize = swiper.size,\n        activeIndex = swiper.activeIndex;\n    var spv = 1;\n\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {\n        if (slides[_i] && !breakLoop) {\n          slideSize += slides[_i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {\n        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n\n    return spv;\n  };\n\n  _proto.update = function update() {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var snapGrid = swiper.snapGrid,\n        params = swiper.params; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    var translated;\n\n    if (swiper.params.freeMode) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  };\n\n  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    var swiper = this;\n    var currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(\"\" + swiper.params.containerModifierClass + currentDirection).addClass(\"\" + swiper.params.containerModifierClass + newDirection);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(function (slideEl) {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  };\n\n  _proto.mount = function mount(el) {\n    var swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    var $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    var getWrapperSelector = function getWrapperSelector() {\n      return \".\" + (swiper.params.wrapperClass || '').trim().split(' ').join('.');\n    };\n\n    var getWrapper = function getWrapper() {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        var res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = function (options) {\n          return $el.children(options);\n        };\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    var $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      var document = getDocument();\n      var wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(\".\" + swiper.params.slideClass).each(function (slideEl) {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  };\n\n  _proto.init = function init(el) {\n    var swiper = this;\n    if (swiper.initialized) return swiper;\n    var mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  };\n\n  _proto.destroy = function destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params,\n        $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  };\n\n  Swiper.extendDefaults = function extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  };\n\n  Swiper.installModule = function installModule(module) {\n    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};\n    var name = module.name || Object.keys(Swiper.prototype.modules).length + \"_\" + now();\n    Swiper.prototype.modules[name] = module;\n  };\n\n  Swiper.use = function use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(function (m) {\n        return Swiper.installModule(m);\n      });\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  };\n\n  _createClass(Swiper, null, [{\n    key: \"extendedDefaults\",\n    get: function get() {\n      return extendedDefaults;\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return defaults;\n    }\n  }]);\n\n  return Swiper;\n}();\n\nObject.keys(prototypes).forEach(function (prototypeGroup) {\n  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;", "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, classesToSelector, createElementIfNotDefined } from '../../utils/utils';\nvar Pagination = {\n  update: function update() {\n    // Render || Update Pagination bullets/items\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el; // Current/Total\n\n    var current;\n    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      var bullets = swiper.pagination.bullets;\n      var firstIndex;\n      var lastIndex;\n      var midIndex;\n\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + \"px\");\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;\n\n          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (swiper.pagination.dynamicBulletIndex < 0) {\n            swiper.pagination.dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = current - swiper.pagination.dynamicBulletIndex;\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(params.bulletActiveClass + \" \" + params.bulletActiveClass + \"-next \" + params.bulletActiveClass + \"-next-next \" + params.bulletActiveClass + \"-prev \" + params.bulletActiveClass + \"-prev-prev \" + params.bulletActiveClass + \"-main\");\n\n      if ($el.length > 1) {\n        bullets.each(function (bullet) {\n          var $bullet = $(bullet);\n          var bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(params.bulletActiveClass + \"-main\");\n            }\n\n            if (bulletIndex === firstIndex) {\n              $bullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            }\n\n            if (bulletIndex === lastIndex) {\n              $bullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          }\n        });\n      } else {\n        var $bullet = bullets.eq(current);\n        var bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          var $firstDisplayedBullet = bullets.eq(firstIndex);\n          var $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (var i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(params.bulletActiveClass + \"-main\");\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {\n                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + \"-main\");\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + \"-prev\");\n            } else {\n              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          } else {\n            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;\n        var offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + \"px\");\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      var progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      var scale = (current + 1) / total;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(\"translate3d(0,0,0) scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\").transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  render: function render() {\n    // Render Container\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el;\n    var paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (var i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += \"<\" + params.bulletElement + \" class=\\\"\" + params.bulletClass + \"\\\"></\" + params.bulletElement + \">\";\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.currentClass + \"\\\"></span>\" + ' / ' + (\"<span class=\\\"\" + params.totalClass + \"\\\"></span>\");\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.progressbarFillClass + \"\\\"></span>\";\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    swiper.params.pagination = createElementIfNotDefined(swiper.$el, swiper.params.pagination, swiper.params.createElements, {\n      el: 'swiper-pagination'\n    });\n    var params = swiper.params.pagination;\n    if (!params.el) return;\n    var $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(\"\" + params.modifierClass + params.type + \"-dynamic\");\n      swiper.pagination.dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        var index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    extend(swiper.pagination, {\n      $el: $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n};\nexport default {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: function formatFractionCurrent(number) {\n        return number;\n      },\n      formatFractionTotal: function formatFractionTotal(number) {\n        return number;\n      },\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-',\n      // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',\n      clickableClass: 'swiper-pagination-clickable',\n      // NEW\n      lockClass: 'swiper-pagination-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      pagination: _extends({\n        dynamicBulletIndex: 0\n      }, Pagination)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange: function activeIndexChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange: function snapIndexChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange: function slidesLengthChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange: function snapGridLengthChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.pagination.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.pagination.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var targetEl = e.target;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          swiper.emit('paginationShow');\n        } else {\n          swiper.emit('paginationHide');\n        }\n\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    }\n  }\n};", "import { loadImage } from \"../utils/image\"\nimport { permute, slugify } from \"../utils/string\"\n\nconst MIN_LOADING_TIME = 300\n\nconst productGalleryMixin = {\n    data: {\n        isGalleryLoading: true,\n        galleryImages: [],\n        galleryPreviews: []\n    },\n\n    computed: {},\n\n    watch: {},\n\n    created() {\n        // Check module instance\n        if (!this.moduleInstance) return console.log(\"[beforeCreate] - Please store module instance 'this' into 'this.moduleInstance'\")\n\n        // Bind data\n        const productTitle = this.moduleInstance.productTitle\n        const productVariants = this.moduleInstance.productVariants\n        const productCurrentVariantId = this.moduleInstance.productCurrentVariantId\n        const productImages = this.moduleInstance.productImages\n\n        // Prepare array to store loaded images\n        this.loadedImages = []\n        this.isFirstLoading = true\n\n        // 1 - Get images list and slugify alt attribute\n        this.setProductImagesData(productImages)\n\n        // 2 - Get products variants, slugify options then create for each variant an array of images\n        this.allProductVariants = this.setProductVariantsData(productVariants, productTitle, productImages)\n\n        // 3 - Set current product variant\n        this.currentProductVariant = this.allProductVariants.find(variant => variant.id === productCurrentVariantId)\n\n        // 4 - Set gallery\n        this.updateGallery()\n    },\n\n    beforeDestroy() {\n        this.loadingTimeout && clearTimeout(this.loadingTimeout)\n    },\n\n    methods: {\n        /**\n        * Override productImages to add a slugify id and add HTTP protocol to create image link\n        */\n        setProductImagesData(images) {\n            const httpProtocol = window.location.protocol\n\n            let imagesIndex = 0\n            while (imagesIndex < images.length) {\n\n                const currentImageObj = images[imagesIndex]\n\n                currentImageObj.id = slugify(currentImageObj.rawId.trim())\n                currentImageObj.preview = httpProtocol + currentImageObj.preview\n                currentImageObj.image = httpProtocol + currentImageObj.image\n\n                imagesIndex++\n            }\n        },\n\n        /**\n        * Set new array of product variants\n        */\n        setProductVariantsData(variants, productTitle, productImages) {\n            const newVariantsModelArr = []\n            let variantsIndex = 0\n\n            // Prepare array for images used by variants\n            let usedImages = []\n\n            while (variantsIndex < variants.length) {\n                // Get current variant\n                const { id } = variants[variantsIndex]\n\n                // New object model\n                const newVariantObj = {\n                    id,\n                    optionsImagesIds: [],\n                    images: []\n                }\n\n                // 1 - Create array of all options combinations slugs\n                const optionsValues =  variants[variantsIndex].options.map((value, index) => {\n                    return slugify(value.trim())\n                })\n                const optionsCombinations = permute(optionsValues)\n                const optionsCombinationsIds = optionsCombinations.map((arr, index) => {\n                    return slugify(arr.join('-').trim())\n                })\n                newVariantObj.optionsImagesIds = [...optionsValues, ...optionsCombinationsIds]\n\n                // 2 - add variant images\n                newVariantObj.images = productImages.filter(images => newVariantObj.optionsImagesIds.indexOf(images.id) != -1);\n\n                // 3 - store images used\n                if (newVariantObj.images.length) {\n                    usedImages = [...usedImages, ...newVariantObj.images]\n                }\n\n                // 4 - then store new object\n                newVariantsModelArr.push(newVariantObj)\n\n                variantsIndex++\n            }\n\n            // Remove duplicates\n            const uniqUsedImages = [...new Set(usedImages)]\n\n            // Get unused images : it's the common images\n            const onlyInA = productImages.filter(this.compareImagesArr(uniqUsedImages));\n            const onlyInB = uniqUsedImages.filter(this.compareImagesArr(productImages));\n            const unusedImages = onlyInA.concat(onlyInB)\n\n            // Then add common images for each variants\n            if (unusedImages.length) {\n                newVariantsModelArr.forEach((variant) => {\n                    variant.images = [...variant.images, ...unusedImages]\n                })\n            }\n\n            return newVariantsModelArr\n        },\n\n        /**\n        * Load and populate gallery images\n        */\n        async updateGallery() {\n            const currentProductImages = this.currentProductVariant.images\n\n            this.loadingTimeout && clearTimeout(this.loadingTimeout)\n\n            // // Set loading state\n            // this.isGalleryLoading = true\n\n            // Get all product images url\n            const images = []\n            const previews = []\n            let index = 0\n            while (index < currentProductImages.length) {\n                const currentProductImagesObj = currentProductImages[index]\n                previews.push(currentProductImagesObj.preview)\n                images.push(currentProductImagesObj.image)\n                index++\n            }\n\n            // New images to load\n            const loadedImagesIds = this.loadedImages.map(imageObj => imageObj.id)\n            const imagesToLoad = images.filter(imageUrl => loadedImagesIds.indexOf(imageUrl) === -1)\n            const previewsToLoad = previews.filter(imageUrl => loadedImagesIds.indexOf(imageUrl) === -1)\n            const allImagesToLoad = [...imagesToLoad, ...previewsToLoad]\n\n            // console.group(\"IMAGES TO LOAD\");\n            // console.log(\"Images\", imagesToLoad);\n            // console.log(\"Previews\", previewsToLoad);\n            // console.groupEnd();\n\n            if (allImagesToLoad.length) {\n                // Set loading state\n                this.isGalleryLoading = true\n            }\n\n            if (imagesToLoad.length) {\n                await this.loadImages(imagesToLoad)\n            }\n\n            if (previewsToLoad.length) {\n                await this.loadImages(previewsToLoad)\n            }\n\n\n            this.loadingTimeout = setTimeout(() => {\n\n                // Set gallery images / previews\n                this.galleryImages = []\n                this.galleryPreviews = []\n\n                currentProductImages.forEach(image => {\n                    const targetImage = this.loadedImages.find(loadedImage => loadedImage.id === image.image)\n                    const targetPreview = this.loadedImages.find(loadedImage => loadedImage.id === image.preview)\n\n                    this.galleryImages.push(targetImage)\n                    this.galleryPreviews.push(targetPreview)\n                })\n\n                // Call hook\n                this.onUpdateGallery?.()\n\n                // Set state\n                this.isFirstLoading = false\n                this.isGalleryLoading = false\n\n            }, MIN_LOADING_TIME)\n        },\n\n        /**\n        * Promise to load image\n        */\n        async loadImages(imageArr) {\n            const loadingPromisesArr = []\n            let imageIndex = 0;\n\n            while (imageIndex < imageArr.length) {\n                const currentUrlToLoad = imageArr[imageIndex]\n                loadingPromisesArr.push(loadImage(currentUrlToLoad))\n                imageIndex++\n            }\n            const loadedImages = await Promise.all(loadingPromisesArr)\n\n            // Store loaded images\n            let loadedImagesIndex = 0\n            while (loadedImagesIndex < loadedImages.length) {\n                const currentLoadedImage = loadedImages[loadedImagesIndex]\n                this.loadedImages.push({\n                    id: currentLoadedImage.url,\n                    imageObj: currentLoadedImage\n                })\n                loadedImagesIndex++\n            }\n        },\n\n        /**\n        * Callback on variant change\n        */\n        onProductVariantChange(variantId) {\n\n            if (this.isFirstLoading) {\n                this.oldVariantId = variantId\n                return\n            }\n\n            // TODO: If variant doesn't exist do something\n            if (!variantId) return\n\n            // If already current variant id\n            if (this.oldVariantId === variantId) return\n\n            this.currentProductVariant = this.allProductVariants.find(variant => variant.id === variantId)\n\n            this.updateGallery()\n\n            this.oldVariantId = variantId\n        },\n\n        /**\n        * Compare image utils\n        */\n        compareImagesArr(imagesArr) {\n            return function(current){\n                return imagesArr.filter(function(image){\n                return image.id == current.id\n                }).length == 0;\n            }\n        }\n    }\n}\n\nexport default productGalleryMixin;\n", "import { module } from \"modujs\";\nimport Swiper from \"swiper\";\nimport productGalleryMixin from \"../vue-mixins/product-gallery-mixin\";\nimport { html } from \"../utils/environment\";\n\n\n// Install modules\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        // Retrieve shopify product values\n        this.productTitle = this.getData(\"title\");\n        this.productVariants = JSON.parse(document.getElementById('productGalleryVariants').innerHTML);\n        this.productCurrentVariantId = JSON.parse(\n            this.getData(\"current-variant-id\")\n        );\n        this.productImages = JSON.parse(this.getData(\"images\"));\n\n        // Init vue\n        this.initVue();\n    }\n\n    initVue() {\n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            mixins: [ productGalleryMixin ],\n\n            data: {\n                activeSwiperIndex: 0,\n            },\n\n            beforeCreate() {\n                this.moduleInstance = moduleInstance;\n            },\n\n            mounted() {\n                this.initSwiper()\n\n                this.$nextTick(() => {\n                    html.classList.add('is-gallery-ready')\n                })\n            },\n\n            beforeDestroy() {\n                this.unbindSwiperEvents()\n                this.swiperInstance?.destroy()\n                this.swiperThumbsInstance?.destroy()\n            },\n\n            methods: {\n                initSwiper() {\n                    if (!this.$refs.carousel && !this.$refs.carouselPagination) return\n\n                    this.swiperInstance = new Swiper(this.$refs.carousel, {\n                        slidesPerView: 1,\n                    });\n\n                    this.swiperThumbsInstance = new Swiper(this.$refs.carouselThumbs, {\n                        slidesPerView: 3,\n                        spaceBetween: 10,\n                        direction: \"vertical\"\n                    });\n\n                    this.bindSwiperEvents()\n                },\n\n                onUpdateGallery() {\n                    this.$nextTick(() => {\n                        this.swiperInstance?.update()\n                        this.swiperThumbsInstance?.update()\n\n                        this.swiperInstance?.slideTo(0, 0)\n                        this.swiperThumbsInstance?.slideTo(0, 0)\n                    })\n                },\n\n                slideTo(index) {\n                    this.swiperInstance?.slideTo(index)\n                },\n\n                bindSwiperEvents() {\n                    this.onSlideChange = this.onSlideChange.bind(this)\n                    this.swiperInstance?.on('slideChange', this.onSlideChange)\n                },\n\n                unbindSwiperEvents() {\n                    this.swiperInstance?.off('slideChange', this.onSlideChange)\n                },\n\n                onSlideChange(swiper) {\n                    this.activeSwiperIndex = swiper.activeIndex\n                    this.swiperThumbsInstance?.slideTo(swiper.activeIndex)\n                }\n            }\n        });\n    }\n\n    onProductVariantChange(variantId) {\n        this.app?.onProductVariantChange?.(variantId)\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "const reviewCache = []\n\nexport class StampedApi {\n\n    constructor(opts) {\n        this.apikey = opts.apikey\n        this.storeUrl = opts.storeUrl\n    }\n\n    getProductRatings(productId) {\n        return new Promise((resolve) => {\n            \n            const raw = JSON.stringify({\n                \"productIds\": [\n                  {\n                    \"productId\": productId\n                  }\n                ],\n                \"apiKey\": this.apikey,\n                \"storeUrl\": this.storeUrl\n            });\n\n            const headers = new Headers();\n            headers.append(\"Content-Type\", \"application/json\");\n\n            const requestOptions = {\n                method: 'POST',\n                headers: headers,\n                body: raw,\n                redirect: 'follow'\n            };\n\n            const endpoint = \"http://stamped.io/api/widget/badges?isIncludeBreakdown=true&isincludehtml=false\"\n    \n            fetch(endpoint, requestOptions)\n                .then(response => response.text())\n                .then(result => {\n                    const resultObj = { isError: false, result: JSON.parse(result)}\n                    resolve(resultObj)\n                })\n                .catch(error => resolve({ isError: true, error }));\n        })\n    }\n\n    getProductReviews(productId, options = {}) {\n        return new Promise((resolve) => {\n            const page = options.page || this.activePage\n            const take = options.take || 10\n            const sortReviews  = options.sort || 'featured'\n            const storeUrl = this.storeUrl\n            const apiKey = this.apikey\n\n            const endpoint = `https://stamped.io/api/widget/reviews?productId=${productId}&take=${take}&page=${page}&minRating=1&sortReviews=${sortReviews}&storeUrl=${storeUrl}&apiKey=${apiKey}`\n\n            const cacheObj = reviewCache.find(resultObj => resultObj.id === endpoint)\n            \n            if (cacheObj) {\n                console.log('Get from cache')\n                resolve(cacheObj.resultObj)\n                return\n            }\n    \n            const requestOptions = {\n                method: 'GET',\n                redirect: 'follow'\n            };\n    \n            fetch(endpoint, requestOptions)\n                .then(response => response.text())\n                .then(result => {\n                    const resultObj = { isError: false, result: JSON.parse(result)}\n                    reviewCache.push({\n                        id: endpoint, \n                        resultObj\n                    })\n                    resolve(resultObj)\n                })\n                .catch(error => resolve({ isError: true, error }));\n        })\n    }\n\n}", "import { module } from \"modujs\";\nimport { StampedApi } from \"../class/StampedApi\";\n\nconst REVIEWS_PER_PAGE = 4\nconst PAGINATION_ITEMS_LENGTH = 5\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    async init() {\n        // Prepare data\n        this.productId = this.getData('id');\n        this.apikey = this.getData('api-key');\n        this.storeUrl = this.getData('store-url');\n\n        // Init vue\n        this.initVue();\n    }\n\n    initVue() { \n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            data: {\n                sortedBy: 'featured',\n                sortOptions: [\n                    {\n                        value: 'featured',\n                        label: 'Featured'\n                    },\n                    {\n                        value: 'highest-rating',\n                        label: 'Highest Rating'\n                    },\n                    {\n                        value: 'lowest-rating',\n                        label: 'Lowest Rating'\n                    },\n                    {\n                        value: 'photos',\n                        label: 'Photos'\n                    },\n                    {\n                        value: 'most-votes',\n                        label: 'Most Votes'\n                    },\n                ],\n\n                reviews: [],\n                reviewCurrentPageIndex: 0,\n                reviewTotal: 0,\n\n                isLoadingReviews: false,\n                isLoadingSummary: false,\n                \n                metrics: {}\n            },\n\n            computed: {\n                // Get pagination buttons\n                reviewPagination() {\n                    return this.buildPagination(this.reviewCurrentPageIndex, this.reviewTotal, this.reviewPerPage, PAGINATION_ITEMS_LENGTH)\n                },\n                reviewPaginationLength() {\n                    return Math.ceil(this.reviewTotal / this.reviewPerPage)\n                }\n            },\n\n            watch: {\n                sortedBy: function (newSort, oldSort) {\n                    if (newSort === oldSort) return \n                    // Fetch new product review\n                    this.fetchProductReviews(1, true)\n                },\n            },\n\n            async beforeCreate() {\n                this.moduleInstance = moduleInstance\n\n                // Set data \n                this.reviewPerPage = REVIEWS_PER_PAGE;\n            },\n            \n            created() {\n                // Stamped Instance\n                this.stampedInstance = new StampedApi({\n                    storeUrl: this.moduleInstance.storeUrl,\n                    apikey: this.moduleInstance.apikey\n                })\n\n                // Metrics\n                this.defaultMetrics = {\n                    countReviews: 0,\n                    rating: 0,\n                    breakdown: ['0', '0', '0', '0', '0'],\n                    breakdownPercents: [-100, -100, -100, -100, -100]\n                }\n\n                this.metrics = {...this.metrics, ...this.defaultMetrics }\n\n                // Update metrics\n                this.fetchProductMetrics()\n            },\n\n\n            methods: {\n                // Requests\n                async fetchProductReviews(currentPageIndex = 1, forceFetch = false) {\n                    if (!forceFetch && currentPageIndex === this.reviewCurrentPageIndex) return\n\n                    // Loading state\n                    this.isLoadingReviews = true\n\n                    // Request\n                    const reviews = await this.stampedInstance.getProductReviews(this.moduleInstance.productId, {\n                        page: currentPageIndex,\n                        take: this.reviewPerPage,\n                        sort: this.sortedBy\n                    })\n                    \n                    // Error\n                    if (reviews.isError) {\n                        // Loading state\n                        this.isLoadingReviews = false\n                        return console.log('error', reviews.error)\n                    }\n\n                    // Set data\n                    this.reviewCurrentPageIndex = currentPageIndex\n                    this.reviews = []\n                    this.formatReviewData(reviews.result)\n                },\n\n                async fetchProductMetrics() {\n                    // Loading state\n                    this.isLoadingSummary = true\n\n                    // Request\n                    const ratings = await this.stampedInstance.getProductRatings(this.moduleInstance.productId)\n                    \n                    // Error\n                    if (ratings.isError) {\n                        console.log('error', ratings.error)\n                        return \n                    }\n\n                    // Set data\n                    this.formatMetricsData(ratings.result)\n                },\n\n\n                // Formatters\n                formatReviewData(reviews) {\n                    if (!reviews?.data?.length) {\n                        // Loading state\n                        this.isLoadingReviews = false\n                        return\n                    }\n\n                    // Global informations\n                    const { total, data, translations } = reviews\n                    this.reviewTotal = total\n\n                    // For each review\n                    data.forEach((reviewObj) => {\n                        const { author, avatar, reviewDate, reviewTitle, reviewMessage, reviewVerifiedType, reviewRating } = reviewObj\n                        let status = ''\n\n                        if (reviewVerifiedType === 2) {\n                            status = translations.label_verified_buyer\n                        }\n\n                        this.reviews.push({ author, avatar, status, reviewDate, reviewTitle, reviewMessage, reviewRating })\n                    })\n\n                    // Loading state\n                    this.$nextTick(() => {\n                        this.isLoadingReviews = false\n                    })\n                },\n\n                formatMetricsData(metrics) {\n                    if (!metrics.length) {\n                        // Loading state\n                        this.isLoadingSummary = false\n                        return\n                    }\n                    \n                    const {count, rating, breakdown} = metrics[0]\n\n                    // Global informations\n                    this.reviewTotal = count\n\n                    // Metrics\n                    const metricsObj = {\n                        countReviews: count,\n                        rating: Math.round(rating * 10) / 10,\n                        breakdown: breakdown ? Object.values(breakdown).reverse() : [],\n                        breakdownPercents: []\n                    }\n\n                    if (metricsObj.breakdown.length) {\n                        metricsObj.breakdown.forEach(breakdown => {\n                            metricsObj.breakdownPercents.push( -100 +  breakdown / this.reviewTotal * 100)\n                        })\n                    }\n\n                    this.metrics = {...this.metrics, ...metricsObj }\n\n                    // Loading state\n                    this.$nextTick(() => {\n                        this.isLoadingSummary = false\n\n                        // Share rating\n                        this.moduleInstance?.setProductFormRating?.(this.metrics.rating)\n                    })\n                },\n\n\n                // Pagination builder\n                buildPagination(currentItemIndex, itemsTotal, itemsPerPage, navigationLength) {\n                    const items = []\n                    const lastPageIndex = Math.ceil(itemsTotal / itemsPerPage)\n\n                    // Ex: 2 pages but expect 6 buttons\n                    if( lastPageIndex <= navigationLength) {\n                        for (let index = 1; index < lastPageIndex + 1; index++) {\n                            items.push({\n                                index,\n                                label: index.toString()\n                            })\n                        }\n\n                    // Ex: current index is one of the latest page\n                    } else if (currentItemIndex > lastPageIndex - navigationLength + 1 )  {\n                        for (let index = lastPageIndex - navigationLength + 1; index < lastPageIndex + 1; index++) {\n                            items.push({\n                                index,\n                                label: index.toString()\n                            })\n                        }\n\n                    // Ex: current index is the first page\n                    } else if (currentItemIndex === 1) {\n                        for (let index = currentItemIndex; index < currentItemIndex + navigationLength - 1; index++) {\n                            items.push({\n                                index,\n                                label: index === currentItemIndex + navigationLength - 2 ? '...' : index.toString(),\n                            })\n                        }\n\n                        items.push({\n                            index: lastPageIndex,\n                            label: lastPageIndex.toString(),\n                        })\n                    \n                    // Ex: first page < current index < last page - buttons length\n                    } else {\n                        for (let index = currentItemIndex - 1; index < currentItemIndex + navigationLength - 2; index++) {\n                            items.push({\n                                index,\n                                label: index === currentItemIndex + navigationLength - 3 ? '...' : index.toString(),\n                            })\n                        }\n\n                        items.push({\n                            index: lastPageIndex,\n                            label: lastPageIndex.toString(),\n                        })\n                    }\n\n                    return items\n                }\n            }\n        });\n    }\n\n    fetchData() {\n        //this?.app?.fetchProductMetrics?.()\n        this?.app?.fetchProductReviews?.()\n    }\n\n    setProductFormRating(rating) {\n        this.call('setProductRating', rating, 'ProductForm')\n    }\n\n    destroy() {\n        super.destroy();\n        \n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "function getDefaultRequestConfig() {\n  return JSON.parse(\n    JSON.stringify({\n      credentials: 'same-origin',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json;'\n      }\n    })\n  );\n}\n\nfunction fetchJSON(url, config) {\n  return fetch(url, config).then(function(response) {\n    if (!response.ok) {\n      throw response;\n    }\n    return response.json();\n  });\n}\n\nexport function cart() {\n  return fetchJSON('/cart.js', getDefaultRequestConfig());\n}\n\nexport function cartAdd(id, quantity, properties) {\n  var config = getDefaultRequestConfig();\n\n  config.method = 'POST';\n  config.body = JSON.stringify({\n    id: id,\n    quantity: quantity,\n    properties: properties\n  });\n\n  return fetchJSON('/cart/add.js', config);\n}\n\nexport function cartAddFromForm(formData) {\n  var config = getDefaultRequestConfig();\n  delete config.headers['Content-Type'];\n\n  config.method = 'POST';\n  config.body = formData;\n\n  return fetchJSON('/cart/add.js', config);\n}\n\nexport function cartChange(line, options) {\n  var config = getDefaultRequestConfig();\n\n  options = options || {};\n\n  config.method = 'POST';\n  config.body = JSON.stringify({\n    line: line,\n    quantity: options.quantity,\n    properties: options.properties\n  });\n\n  return fetchJSON('/cart/change.js', config);\n}\n\nexport function cartClear() {\n  var config = getDefaultRequestConfig();\n  config.method = 'POST';\n\n  return fetchJSON('/cart/clear.js', config);\n}\n\nexport function cartUpdate(body) {\n  var config = getDefaultRequestConfig();\n\n  config.method = 'POST';\n  config.body = JSON.stringify(body);\n\n  return fetchJSON('/cart/update.js', config);\n}\n\nexport function cartShippingRates() {\n  return fetchJSON('/cart/shipping_rates.json', getDefaultRequestConfig());\n}\n", "export function key(key) {\n  if (typeof key !== 'string' || key.split(':').length !== 2) {\n    throw new TypeError(\n      'Theme Cart: Provided key value is not a string with the format xxx:xxx'\n    );\n  }\n}\n\nexport function quantity(quantity) {\n  if (typeof quantity !== 'number' || isNaN(quantity)) {\n    throw new TypeError(\n      'Theme Cart: An object which specifies a quantity or properties value is required'\n    );\n  }\n}\n\nexport function id(id) {\n  if (typeof id !== 'number' || isNaN(id)) {\n    throw new TypeError('Theme Cart: Variant ID must be a number');\n  }\n}\n\nexport function properties(properties) {\n  if (typeof properties !== 'object') {\n    throw new TypeError('Theme Cart: Properties must be an object');\n  }\n}\n\nexport function form(form) {\n  if (!(form instanceof HTMLFormElement)) {\n    throw new TypeError('Theme Cart: Form must be an instance of HTMLFormElement');\n  }\n}\n\nexport function options(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Theme Cart: Options must be an object');\n  }\n\n  if (\n    typeof options.quantity === 'undefined' &&\n    typeof options.properties === 'undefined'\n  ) {\n    throw new Error(\n      'Theme Cart: You muse define a value for quantity or properties'\n    );\n  }\n\n  if (typeof options.quantity !== 'undefined') {\n    quantity(options.quantity);\n  }\n\n  if (typeof options.properties !== 'undefined') {\n    properties(options.properties);\n  }\n}\n", "/**\n * Cart Template Script\n * ------------------------------------------------------------------------------\n * A file that contains scripts highly couple code to the Cart template.\n *\n * @namespace cart\n */\n\nimport * as request from './request';\nimport * as validate from './validate';\n\n/**\n * Returns the state object of the cart\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function getState() {\n  return request.cart();\n}\n\n/**\n * Returns the index of the cart line item\n * @param {string} key The unique key of the line item\n * @returns {Promise} Resolves with the index number of the line item\n */\nexport function getItemIndex(key) {\n  validate.key(key);\n\n  return request.cart().then(function(state) {\n    var index = -1;\n\n    state.items.forEach(function(item, i) {\n      index = item.key === key ? i + 1 : index;\n    });\n\n    if (index === -1) {\n      return Promise.reject(\n        new Error('Theme Cart: Unable to match line item with provided key')\n      );\n    }\n\n    return index;\n  });\n}\n\n/**\n * Fetches the line item object\n * @param {string} key The unique key of the line item\n * @returns {Promise} Resolves with the line item object (See response of cart/add.js https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#add-to-cart)\n */\nexport function getItem(key) {\n  validate.key(key);\n\n  return request.cart().then(function(state) {\n    var lineItem = null;\n\n    state.items.forEach(function(item) {\n      lineItem = item.key === key ? item : lineItem;\n    });\n\n    if (lineItem === null) {\n      return Promise.reject(\n        new Error('Theme Cart: Unable to match line item with provided key')\n      );\n    }\n\n    return lineItem;\n  });\n}\n\n/**\n * Add a new line item to the cart\n * @param {number} id The variant's unique ID\n * @param {object} options Optional values to pass to /cart/add.js\n * @param {number} options.quantity The quantity of items to be added to the cart\n * @param {object} options.properties Line item property key/values (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-properties)\n * @returns {Promise} Resolves with the line item object (See response of cart/add.js https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#add-to-cart)\n */\nexport function addItem(id, options) {\n  options = options || {};\n\n  validate.id(id);\n\n  return request.cartAdd(id, options.quantity, options.properties);\n}\n\n/**\n * Add a new line item to the cart from a product form\n * @param {object} form DOM element which is equal to the <form> node\n * @returns {Promise} Resolves with the line item object (See response of cart/add.js https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#add-to-cart)\n */\nexport function addItemFromForm(form) {\n  validate.form(form);\n\n  var formData = new FormData(form);\n  validate.id(parseInt(formData.get('id'), 10));\n\n  return request.cartAddFromForm(formData);\n}\n\n/**\n * Changes the quantity and/or properties of an existing line item.\n * @param {string} key The unique key of the line item (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-key)\n * @param {object} options Optional values to pass to /cart/add.js\n * @param {number} options.quantity The quantity of items to be added to the cart\n * @param {object} options.properties Line item property key/values (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-properties)\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function updateItem(key, options) {\n  validate.key(key);\n  validate.options(options);\n\n  return getItemIndex(key).then(function(line) {\n    return request.cartChange(line, options);\n  });\n}\n\n/**\n * Removes a line item from the cart\n * @param {string} key The unique key of the line item (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-key)\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function removeItem(key) {\n  validate.key(key);\n\n  return getItemIndex(key).then(function(line) {\n    return request.cartChange(line, { quantity: 0 });\n  });\n}\n\n/**\n * Sets all quantities of all line items in the cart to zero. This does not remove cart attributes nor the cart note.\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function clearItems() {\n  return request.cartClear();\n}\n\n/**\n * Gets all cart attributes\n * @returns {Promise} Resolves with the cart attributes object\n */\nexport function getAttributes() {\n  return request.cart().then(function(state) {\n    return state.attributes;\n  });\n}\n\n/**\n * Sets all cart attributes\n * @returns {Promise} Resolves with the cart state object\n */\nexport function updateAttributes(attributes) {\n  return request.cartUpdate({ attributes: attributes });\n}\n\n/**\n * Clears all cart attributes\n * @returns {Promise} Resolves with the cart state object\n */\nexport function clearAttributes() {\n  return getAttributes().then(function(attributes) {\n    for (var key in attributes) {\n      attributes[key] = '';\n    }\n    return updateAttributes(attributes);\n  });\n}\n\n/**\n * Gets cart note\n * @returns {Promise} Resolves with the cart note string\n */\nexport function getNote() {\n  return request.cart().then(function(state) {\n    return state.note;\n  });\n}\n\n/**\n * Sets cart note\n * @returns {Promise} Resolves with the cart state object\n */\nexport function updateNote(note) {\n  return request.cartUpdate({ note: note });\n}\n\n/**\n * Clears cart note\n * @returns {Promise} Resolves with the cart state object\n */\nexport function clearNote() {\n  return request.cartUpdate({ note: '' });\n}\n\n/**\n * Get estimated shipping rates.\n * @returns {Promise} Resolves with response of /cart/shipping_rates.json (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-shipping-rates)\n */\nexport function getShippingRates() {\n  return request.cartShippingRates();\n}\n", "import { module } from \"modujs\";\nimport * as cart from '@shopify/theme-cart';\n\n/////////////////////////\n// SHOPIFY CART\n////////////////////////\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        return new Promise(async (resolve) => {\n            // Store initial cart state\n            this.cartInitialState = await this.getState();\n            // Resolve promise\n            resolve()\n        })\n    }\n\n    /**\n     * Retrieve cart state\n     * Return state object\n     */\n    getState() {\n        return cart.getState()\n    }\n\n    /**\n     * Add item to cart with variant ID\n     * Return state object\n     */\n    async addItem({ id, quantity = 1 }) {\n        try {\n            await cart.addItem(id, {quantity})\n        } catch (error) {\n            // Can't add another item, quantity max\n            if (error.status === 422) {\n                this.onCannotAddMoreItem?.(id)\n                alert(\"Sorry you can't add more item\")\n                return false\n            }\n        }\n        const cartState = await this.refresh()\n\n        // add property to cartState\n        cartState.latestItemAddedId = id\n\n        this.onAddItem?.(cartState)\n        return cartState\n    }\n\n    /**\n     * Remove item\n     * Return state object\n     */\n    async removeItem(key) {\n        const cartState = await cart.removeItem(key)\n        this.onRemoveItem?.(cartState)\n        return cartState\n    }\n\n    /**\n     * Update item\n     * Return state object\n     */\n     async updateItem({ key, quantity = 1 }) {\n        const cartState = await cart.updateItem(key, {quantity})\n        this.onUpdateItem?.(cartState)\n        return cartState\n    }\n\n    /**\n     * Retrieve cart state\n     * Return state object\n     */\n    async refresh() {\n        const cartState = await this.getState()\n        this.onRefreshCart?.(cartState)\n        return cartState\n    }\n    \n\n    destroy() {\n        super.destroy();\n    }\n}\n", "import { format_price } from \"../utils/cart-utils\"\n\nconst PREVIEW_WIDTH = 85 * 2\nconst PREVIEW_HEIGHT = 85 * 2\n\nconst cartModalMixin = {\n    data: {\n        cartItems: [],\n        cartTotal: {},\n        isCartLoading: false,\n        isCheckoutLoading: false\n    },\n\n    computed: {\n        cartCounter() {\n            let length = 0;\n\n            this.cartItems.forEach((item) => {\n                length += item.quantity\n            })\n\n            return length\n        },\n    },\n\n    watch: {},\n\n    created() {\n        // Check module instance\n        if (!this.moduleInstance) return console.log(\"[beforeCreate] - Please store module instance 'this' into 'this.moduleInstance'\")\n\n        // Get cart state\n        const cartInitialState = this.moduleInstance.cartInitialState\n        \n        // Set cart data\n        this.setCartData(cartInitialState, true)\n    },\n\n    mounted() {\n        this?.bindEvents?.()\n    },\n\n    beforeDestroy() {\n        this?.unbindEvents?.()\n    },\n\n    methods: {\n        setCartData(cartState, isForced) {\n            // Get items\n            const cartItems = cartState.items\n            this.updateCartItems(cartItems)\n\n            // Get cart price\n            const { original_total_price: originalTotal, total_price: total, total_discount: discount } = cartState;\n            this.cartTotal = {\n                originalTotal: format_price(originalTotal), \n                total: format_price(total), \n                discount: format_price(discount)\n            }\n\n            // Module Instance\n            if (!isForced) {\n                this.moduleInstance?.setCartData?.(cartState)\n            }\n        },\n\n        updateCartItems(cartItems) {\n            // Change cart item model\n            this.cartItems = cartItems.map((item) => {\n                let image = null\n                if (item.image) {\n                    image = PREVIEW_WIDTH && PREVIEW_HEIGHT ? this.getResizedImageUrl(item.image) : item.image\n                }\n                return {\n                    key: item.key,\n                    id: item.id,\n                    title: item.product_title,\n                    category: item.product_type,\n                    image,\n                    price: format_price(item.final_line_price),\n                    originalPrice: format_price(item.original_line_price),\n                    quantity: item.quantity,\n                    options: item.options_with_values,\n                    url: item.url\n                }\n            })\n        },\n\n        \n\n        onAddNewItem(cartState) {\n            // Set latest added item\n            if (cartState.latestItemAddedId) {\n                this.latestItemAddedId = cartState.latestItemAddedId\n            }\n\n            // Reordered cart\n            const reorderedCart = this.reorderCart(cartState)\n\n            this.setCartData(reorderedCart)\n        },\n\n        async onAddItem(itemKey) {\n            const item = this.cartItems.find(item => item.key === itemKey)\n            const quantity = item.quantity + 1\n\n            // Start loading\n            this.$set(item, 'isLoading', true)\n            this.isCartLoading = true\n\n            // Get New Cart\n            const newCartState = await this.moduleInstance.updateItem({\n                key: itemKey,\n                quantity\n            })\n\n            // End loading\n            this.$set(item, 'isLoading', false)\n            this.isCartLoading = false\n\n            // Reordered cart\n            const reorderedCart = this.reorderCart(newCartState)\n\n            // Set cart data\n            this.setCartData(reorderedCart)\n        },\n\n        async onRemoveItem(itemKey) {\n            const item = this.cartItems.find(item => item.key === itemKey)\n            const quantity = item.quantity - 1\n\n            // Start loading\n            this.$set(item, 'isLoading', true)\n            this.isCartLoading = true\n\n            // Get New Cart\n            const newCartState = await this.moduleInstance.updateItem({\n                key: itemKey,\n                quantity\n            })\n\n            // End loading\n            this.$set(item, 'isLoading', false)\n            this.isCartLoading = false\n\n            // Reordered cart\n            const reorderedCart = this.reorderCart(newCartState)\n\n            // Set cart data\n            this.setCartData(reorderedCart)\n        },\n\n        async onDeleteItem(itemKey) {\n            // Start Loading\n            this.isCartLoading = true\n\n            // Get New Cart\n            const newCartState = await this.moduleInstance.removeItem(itemKey)\n\n            // End Loading\n            this.isCartLoading = false\n\n            // Set cart data\n            this.setCartData(newCartState)\n        },\n\n        reorderCart(cart) {\n            if (!this.latestItemAddedId) return cart\n\n            // We need to add the latest item at the first position in the cart\n            // Get last item added index\n            const arrayTargetIndex = cart.items.map(item => item.id).indexOf(this.latestItemAddedId);\n            if (arrayTargetIndex > -1) {\n                // Remove this target item from cart items array\n                const targetObject = cart.items.splice(arrayTargetIndex, 1)[0];\n                // Then push this item at the first position\n                cart.items.unshift(targetObject)\n            } else {\n                return cart\n            }\n\n            return cart\n        },\n\n        onOpen() {},\n\n        onClose() {\n            this.moduleInstance?.onCloseModal?.()\n        },\n\n        onCheckout() {\n            this.isCheckoutLoading = true\n        },\n\n        getResizedImageUrl(imageUrl) {\n            const splitUrl = imageUrl.split('.')\n            const sizeExtension = `_${PREVIEW_WIDTH}x${PREVIEW_HEIGHT}_crop_center.${splitUrl.pop()}`\n            return splitUrl.join('.') + sizeExtension\n        }\n    }\n}\n\nexport default cartModalMixin;\n", "\nimport Raf from \"quark-raf\";\nimport { html, body } from '../utils/environment';\nimport { clamp, map } from \"../utils/maths\";\nimport { getIsTouchable } from \"../utils/touchable\";\n\nconst cartModalSwipeMixin = {\n    created() {\n        // Environment\n        this.isTouchable = getIsTouchable()\n                \n        // Drag\n        this.dragState = {\n            isSwipeRafPlaying: false,\n            isDragAvailable: false,\n            isDragging: false,\n            isExpanded: false,\n            isOpen: false,\n            isClose: true\n        }\n\n        this.drag = {\n            oldY: 0,\n            y: 0,\n            startY: 0,\n            smoothY: 0,\n            threshold: 100,\n        }\n\n        this.dragStep = {\n            openY: 0,\n            closeY: 0,\n            //preOpenY: 0,\n        }\n    },\n\n    mounted() {\n        this.bindEvents()\n\n        // If isTouchable change styles\n        if (this.isTouchable && window.isMobile) {\n            html.classList.add('has-swipe-cart-available')\n        }\n    },\n\n    beforeDestroy() {\n        this.stopSwipeRaf()\n        this.unbindEvents()\n    },\n\n    methods: {\n        /////////////////////////\n        // Binding\n        bindEvents() {\n            this.onResize = this.onResize.bind(this)\n            window.addEventListener('resize', this.onResize)\n        },\n\n        unbindEvents() {\n            window.removeEventListener('resize', this.onResize)\n        },\n\n        /////////////////////////\n        // Swipe Cart Steps\n        openSwipeCart() {\n            if (!this.isTouchable || !window.isMobile || this.dragState.isOpen || !this.dragState.isClose ) return\n\n            // Get metrics\n            this.computeDragMetrics()\n\n            this.$nextTick(() => {\n                // Start raf\n                this.playSwipeRaf()\n\n                // Set expanded state\n                this.expandSwipeCart()\n\n                // Set state values\n                this.dragState.isDragAvailable = true\n                this.dragState.isOpen = true\n\n                // Styles\n                this.$refs.cartContent.scrollTop = 0\n                \n                requestAnimationFrame(() => {\n                    html.classList.add('has-swipe-cart-open')\n                    this.moduleInstance?.onOpenSwipeModal?.()\n                })\n            })\n        },\n\n        expandSwipeCart() {\n            if (!this.isTouchable || !window.isMobile) return\n\n            // Set state\n            this.dragState.isExpanded = true\n\n            // Anime\n            this.drag.y = this.dragStep.openY;\n        },\n        \n        closeSwipeCart() {\n            if (!this.dragState.isOpen || this.dragState.isClose) return\n\n            // Get metrics (if new item is added to the cart when it's open)\n            const $cartInner = this.$refs.cartInner\n            const cartInnerHeight = $cartInner.offsetHeight\n            this.dragStep.closeY = cartInnerHeight\n            this.dragStep.openY = 0\n\n            // Set state\n            this.dragState.isDragAvailable = false\n            this.dragState.isDragging = false;\n            this.dragState.isExpanded = false;\n            this.dragState.isOpen = false\n\n            // Anime\n            this.drag.y = this.dragStep.closeY\n        },\n\n        onCloseAnimationEnded() {\n            html.classList.remove('has-cart-open')\n            html.classList.remove('has-swipe-cart-open')\n            this.moduleInstance?.onCloseSwipeModal?.()\n        },\n\n        /////////////////////////\n        // Events\n        onResize() {\n            this.computeDragMetrics(true)\n        },\n\n        onDragStart(event) {\n            if (!this.dragState.isDragAvailable || !this.dragState.isOpen || this.dragState.isClose) return\n\n            this.dragState.isDragging = true;\n\n            this.pointerEvent = event.type !== 'mousedown' ? (event.touches[0] || event.changedTouches[0]) : event;\n\n            this.drag.oldY = this.drag.y;\n\n            this.drag.startY = this.pointerEvent.clientY;\n\n            this.startTime = new Date().getTime()\n        },\n\n        onDrag(event) {\n            if(!this.dragState.isDragging) return;\n\n            this.pointerEvent = event.type !== 'mousemove' ? (event.touches[0] || event.changedTouches[0]) : event;\n\n            this.drag.y = this.drag.oldY + (this.pointerEvent.clientY - this.drag.startY);\n            \n            this.drag.y = clamp(this.drag.y,  this.dragStep.openY, this.dragStep.closeY)\n        },\n\n        onDragEnd(event) {\n            if(!this.dragState.isDragging) return;\n\n            this.dragState.isDragging = false;\n\n            this.dragDistY = this.pointerEvent.clientY - this.drag.startY\n\n            \n            if (!this.dragState.isExpanded && this.dragDistY > this.drag.threshold) {\n                this.closeSwipeCart()\n            }\n            else if (this.dragState.isExpanded && this.dragDistY > this.drag.threshold) {\n                this.closeSwipeCart()\n            }\n            else if (this.dragState.isExpanded && this.dragDistY < this.drag.threshold) {\n                this.expandSwipeCart()\n            }\n            else if (!this.dragState.isExpanded && this.dragDistY < this.drag.threshold) {\n                this.expandSwipeCart()\n            }\n        },\n\n        /////////////////////////\n        // Calc\n        computeDragMetrics(resize = false) {\n            const $cartInner = this.$refs.cartInner\n            const cartInnerHeight = $cartInner.offsetHeight\n\n            // Common metrics\n            this.dragStep.closeY = cartInnerHeight\n            this.dragStep.openY = 0\n\n            // Resize metrics\n            if (resize) {\n                if (this.dragState.isExpanded) {\n                    this.drag.y = 0 \n                }\n                \n            } else {\n                this.$refs.cartInner.style.transform = `translate3d(0, ${cartInnerHeight}px, 0)`;\n                this.drag.y = this.drag.smoothY = cartInnerHeight\n            }\n        },\n\n        /////////////////////////\n        // Animations\n        updateSwipeBackground(y, minY, maxY) {\n            if (!this.$refs.cartBackground) return\n            this.$refs.cartBackground.style.opacity = map(y, minY, maxY, 0, 1)\n        },\n        \n        updateSwipeTransform(y) {\n            if (!this.$refs.cartInner) return\n            this.$refs.cartInner.style.transform = `translate3d(0, ${y}px, 0)`;\n        },\n\n        /////////////////////////\n        // Render\n        playSwipeRaf() {\n            if (this.dragState.isSwipeRafPlaying) return\n            this.dragState.isSwipeRafPlaying = true\n            this.updateSwipeRaf = this.updateSwipeRaf.bind(this)\n            Raf.add(this.updateSwipeRaf);\n        },\n\n        stopSwipeRaf() {\n            if (!this.dragState.isSwipeRafPlaying) return\n            this.dragState.isSwipeRafPlaying = false\n            Raf.remove(this.updateSwipeRaf);\n        },\n\n        updateSwipeRaf() {\n            if (!this.dragState.isDragAvailable && this.drag.smoothY > this.dragStep.closeY - 1) {\n                this.stopSwipeRaf()\n            }\n\n            this.drag.smoothY += (this.drag.y - this.drag.smoothY) * 0.2;\n            this.drag.smoothY = clamp(this.drag.smoothY, this.dragStep.openY + .5, this.dragStep.closeY)\n\n            this.updateSwipeTransform(this.drag.smoothY)\n            this.updateSwipeBackground(this.drag.smoothY, this.dragStep.closeY, this.dragStep.openY)\n\n            if (this.dragState.isOpen && this.drag.smoothY <= this.dragStep.openY + .5) {\n                this.dragState.isClose = false\n            }\n\n            if (!this.dragState.isOpen && this.drag.smoothY >= this.dragStep.closeY - 1) {\n                this.onCloseAnimationEnded()\n                this.dragState.isClose = true\n            }\n        },\n    }\n}\n\nexport default cartModalSwipeMixin;\n", "export function lerp(start, end, amt){\n    return (1 - amt) * start + amt * end\n}\n\nexport function clamp( value, min, max ){\n    return value < min ? min: value > max ? max : value\n}\n\nexport function map(value, x1, y1, x2, y2) {\n    return (value - x1) * (y2 - x2) / (y1 - x1) + x2\n}", "export function getIsTouchable() {\n    // https://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript  \n    const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n    const mq = function (query) { return window.matchMedia(query).matches; }\n\n    // @ts-ignore\n    if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) { return true; }\n\n    // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n    // https://git.io/vznFH\n    const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n    return mq(query);\n}", "/*!\n  * focus-trap-vue v1.1.1\n  * (c) 2021 Eduardo San Martin Morote\n  * @license MIT\n  */\n/*!\n* tabbable 5.1.4\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nvar isContentEditable = function isContentEditable(node) {\n  return node.contentEditable === 'true';\n};\n\nvar getTabindex = function getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  } // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n\n  if (isContentEditable(node)) {\n    return 0;\n  } // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n\n\n  if ((node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || node.ownerDocument;\n  var radioSet = radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isHidden = function isHidden(node) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  while (node) {\n    if (getComputedStyle(node).display === 'none') {\n      return true;\n    }\n\n    node = node.parentElement;\n  }\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node) ||\n  /* For a details element with a summary, the summary element gets the focused  */\n  isDetailsWithSummary(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(node) {\n  if (!isNodeMatchingSelectorFocusable(node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable);\n  candidates.forEach(function (candidate, i) {\n    var candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  });\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(node);\n};\n\n/*!\n* focus-trap 6.2.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar activeFocusDelay;\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  var doc = document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{ firstTabbableNode: HTMLElement|null, lastTabbableNode: HTMLElement|null }>}\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  var containersContain = function containersContain(element) {\n    return state.containers.some(function (container) {\n      return container.contains(element);\n    });\n  };\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (!optionValue) {\n      return null;\n    }\n\n    var node = optionValue;\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` refers to no known node\"));\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` did not return a node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node;\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (containersContain(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      var firstTabbableGroup = state.tabbableGroups[0];\n      var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n      node = firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.tabbableGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container);\n\n      if (tabbableNodes.length > 0) {\n        return {\n          firstTabbableNode: tabbableNodes[0],\n          lastTabbableNode: tabbableNodes[tabbableNodes.length - 1]\n        };\n      }\n\n      return undefined;\n    }).filter(function (group) {\n      return !!group;\n    }); // remove groups with no tabbable nodes\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus')) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus');\n    return node ? node : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    if (containersContain(e.target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (config.clickOutsideDeactivates) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (config.allowOutsideClick && (typeof config.allowOutsideClick === 'boolean' ? config.allowOutsideClick : config.allowOutsideClick(e))) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var targetContained = containersContain(e.target); // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || e.target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = e.target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      if (e.shiftKey) {\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref) {\n          var firstTabbableNode = _ref.firstTabbableNode;\n          return e.target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex >= 0) {\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var lastTabbableNode = _ref2.lastTabbableNode;\n          return e.target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex >= 0) {\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n  };\n\n  var checkKey = function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    if (config.clickOutsideDeactivates) {\n      return;\n    }\n\n    if (containersContain(e.target)) {\n      return;\n    }\n\n    if (config.allowOutsideClick && (typeof config.allowOutsideClick === 'boolean' ? config.allowOutsideClick : config.allowOutsideClick(e))) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    activeFocusDelay = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      updateTabbableNodes();\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      var onActivate = activateOptions && activateOptions.onActivate ? activateOptions.onActivate : config.onActivate;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      addListeners();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(activeFocusDelay);\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = deactivateOptions && deactivateOptions.onDeactivate !== undefined ? deactivateOptions.onDeactivate : config.onDeactivate;\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var returnFocus = deactivateOptions && deactivateOptions.returnFocus !== undefined ? deactivateOptions.returnFocus : config.returnFocusOnDeactivate;\n\n      if (returnFocus) {\n        delay(function () {\n          tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n        });\n      }\n\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\n// import Component from 'vue-class-component'\r\n// @ts-ignore\r\nvar FocusTrap = {\r\n    // @ts-ignore\r\n    props: {\r\n        active: {\r\n            // TODO: could be options for activate\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n        escapeDeactivates: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n        returnFocusOnDeactivate: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n        allowOutsideClick: {\r\n            type: [Boolean, Function],\r\n            default: true,\r\n        },\r\n        clickOutsideDeactivates: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n        initialFocus: [String, Function],\r\n        fallbackFocus: [String, Function],\r\n    },\r\n    model: {\r\n        event: 'update:active',\r\n        prop: 'active',\r\n    },\r\n    mounted: function () {\r\n        var _this = this;\r\n        this.$watch('active', function (active) {\r\n            if (active) {\r\n                // has no effect if already activated\r\n                _this.trap = createFocusTrap(\r\n                // @ts-ignore\r\n                _this.$el, {\r\n                    escapeDeactivates: _this.escapeDeactivates,\r\n                    allowOutsideClick: function (e) { return (typeof _this.allowOutsideClick === 'function'\r\n                        ? _this.allowOutsideClick(e)\r\n                        : _this.allowOutsideClick); },\r\n                    clickOutsideDeactivates: _this.clickOutsideDeactivates,\r\n                    returnFocusOnDeactivate: _this.returnFocusOnDeactivate,\r\n                    onActivate: function () {\r\n                        _this.$emit('update:active', true);\r\n                        _this.$emit('activate');\r\n                    },\r\n                    onDeactivate: function () {\r\n                        _this.$emit('update:active', false);\r\n                        _this.$emit('deactivate');\r\n                    },\r\n                    initialFocus: _this.initialFocus || (function () { return _this.$el; }),\r\n                    fallbackFocus: _this.fallbackFocus,\r\n                });\r\n                _this.trap.activate();\r\n            }\r\n            else {\r\n                _this.trap && _this.trap.deactivate();\r\n            }\r\n        }, { immediate: true });\r\n    },\r\n    beforeDestroy: function () {\r\n        this.trap && this.trap.deactivate();\r\n        // @ts-ignore\r\n        this.trap = null;\r\n    },\r\n    methods: {\r\n        activate: function () {\r\n            // @ts-ignore\r\n            this.trap.activate();\r\n        },\r\n        deactivate: function () {\r\n            // @ts-ignore\r\n            this.trap.deactivate();\r\n        },\r\n    },\r\n    render: function () {\r\n        var content = this.$slots.default;\r\n        if (!content || !content.length || content.length > 1)\r\n            throw new Error('FocusTrap requires exactly one child');\r\n        return content[0];\r\n    },\r\n};\n\nexport { FocusTrap };\n", "export function getFirstFocusableElement(parent) {\n    const $elements = parent.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"]')\n    if ($elements[0]) {\n        $elements[0].focus();\n    }\n}", "\nconst cartCheckoutMixin = {\n\n    data: {\n        checkoutChecked: false\n    },\n\n    computed: {\n        isCheckoutAvailable() {\n            return this.checkoutChecked && this.cartItems.length > 0\n        },\n    },\n\n    watch: {\n        isCheckoutAvailable: function (newProductOptions, oldProductOptions) {\n            //console.log(newProductOptions)\n        },\n    },\n}\n\nexport default cartCheckoutMixin;\n", "import ShopifyCartModule from '../class/ShopifyCartModule';\nimport cartMixin from '../vue-mixins/cart-mixin';\nimport cartModalSwipeMixin from '../vue-mixins/cart-modal-swipe-mixin';\nimport { html } from '../utils/environment';\nimport { FocusTrap } from 'focus-trap-vue'\nimport { getFirstFocusableElement } from '../utils/getFirstFocusableElement';\nimport cartCheckoutMixin from '../vue-mixins/cart-checkout-mixin';\n\nVue.component('FocusTrap', FocusTrap)\n\nexport default class extends ShopifyCartModule {\n    constructor(m) {\n        super(m);\n    }\n\n    async init() {\n        // Await cart state\n        await super.init()\n\n        // Events\n        this.closeBind = (e) => {\n            if (e.key === \"Escape\") {\n                this.onCloseModal();\n            }\n        }\n        this.bindEvents()\n\n        // Init vue\n        this.initVue()\n    }\n\n    initVue() {\n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            data: {\n                isActive: false\n            },\n\n            mixins: [cartMixin, cartModalSwipeMixin, cartCheckoutMixin],\n\n            beforeCreate() {\n                this.moduleInstance = moduleInstance\n            },\n\n            methods: {\n                onActiveTrap() {\n                    this.isActive = true\n                    getFirstFocusableElement(this.$el)\n                },\n\n                onUnactiveTrap() {\n                    this.isActive = false\n                }\n            }\n        });\n    }\n\n    bindEvents() {\n        document.addEventListener('keyup', this.closeBind)\n    }\n\n    unbindEvents() {\n        document.removeEventListener('keyup', this.closeBind)\n    }\n\n    onOpenModal() {\n        html.classList.add('has-cart-open')\n\n        // Open Swipe Cart Vue\n        this.app?.openSwipeCart?.()\n\n        // Close search bar\n        this.call('close', null, 'Search')\n        // Close menu\n        this.call('close', null, 'Menu')\n\n        // Active trap\n        setTimeout(() => {\n            this.app?.onActiveTrap?.()\n        }, 600)\n    }\n\n    onCloseModal() {\n        html.classList.remove('has-cart-open')\n\n        // Close Swipe Cart Vue\n        this.app?.closeSwipeCart?.()\n\n        // Unactive trap\n        this.app?.onUnactiveTrap?.()\n    }\n\n    onOpenSwipeModal() { }\n\n    onCloseSwipeModal() { }\n\n    // Hooks\n    onAddItem(cart) {\n        //console.log('[add] - addedItem from product form', cart)\n\n        // Open Modal\n        this.onOpenModal()\n\n        /* /!\\ Refresh Cart Vue.js */\n        this.app?.onAddNewItem?.(cart)\n\n        // Set Cart counter\n        this.setCartCounter(cart)\n    }\n\n    onRemoveItem(cart) {\n        //console.log('[remove] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onUpdateItem(cart) {\n        //console.log('[update] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onRefreshCart(cart) {\n        //console.log('[refresh] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onCannotAddMoreItem(itemId) {\n        this.call('cannotAddMoreItem', itemId, 'ProductForm')\n    }\n\n    setCartCounter(cart) {\n        const cartLength = cart.item_count\n        this.call('setCartCounter', cartLength, 'CartCounter')\n    }\n\n    setCartData(cartState) {\n        this.call('setVueCartData', cartState, 'Cart')\n    }\n\n    setVueCartData(cartState) {\n        this.app?.setCartData?.(cartState, true)\n    }\n\n    destroy() {\n        super.destroy();\n\n        this.unbindEvents();\n\n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: 'open'\n        }\n    }\n\n    open() {\n        this.call('onOpenModal', null, 'CartModal')\n    }\n}\n", "import { module } from 'modujs';\nimport { lazyLoadImage } from '../utils/image';\n\nconst REWARD_LAUNCHER_URL = \"#smile-home\"\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: {\n                'sublist-toggler': 'onClick',\n            },\n            mouseenter: {\n                'sublist-toggler': 'onMouseEnter',\n                'sublist': 'onMouseEnter'\n            },\n            mouseleave: {\n                'sublist-toggler': 'onMouseLeave',\n                'sublist': 'onMouseLeave'\n            }\n        }\n    }\n\n    init() {\n        this.$sublists = this.$('sublist')\n        this.$sublistTogglers = this.$('sublist-toggler')\n        this.$rewardsButtons = this.el.querySelectorAll(\"[href='\" + REWARD_LAUNCHER_URL + \"']\");\n\n        this.bindEvents()\n    }\n\n    bindEvents() {\n        this.onRewardsClickBind = this.onRewardsClick.bind(this)\n        if (this.$rewardsButtons.length) {\n            this.$rewardsButtons.forEach($rewardButton => {\n                $rewardButton.addEventListener('click', this.onRewardsClickBind)\n            })\n        }\n    }\n\n    unbindEvents() {\n        if (this.$rewardsButtons.length) {\n            this.$rewardsButtons.forEach($rewardButton => {\n                $rewardButton.removeEventListener('click', this.onRewardsClickBind)\n            })\n        }\n    }\n\n    onClick(e) {\n        this.toggle(e)\n    }\n\n    onMouseEnter(e) {\n        const id = e.curTarget.dataset.id\n\n        this.clearItemsState()\n\n        this.$sublists.forEach((item) => {\n            if(item.dataset.id == id) {\n                let images = item.querySelectorAll('[data-lazy]')\n                images ??= false\n\n                if(images) {\n                    images.forEach((item) => {\n                        lazyLoadImage(item)\n                    })\n                }\n\n                item.classList.add('is-active')\n            }\n        })\n\n        this.$sublistTogglers.forEach((item) => {\n            if(item.dataset.id == id) item.classList.add('is-active')\n        })\n\n        // Close search bar\n        this.call('close', null, 'Search')\n    }\n\n    onMouseLeave(e) {\n        this.clearItemsState()\n    }\n\n    onRewardsClick() {\n        this.call('close', null, 'Menu')\n    }\n\n    toggle(e) {\n        let item = e.curTarget\n\n        if (item.classList.contains('is-active')) {\n            this.onMouseLeave(e)\n        } else {\n            this.onMouseLeave(e)\n            this.onMouseEnter(e)\n        }\n    }\n\n    clearItemsState() {\n        this.$sublists.forEach((item) => {\n            item.classList.remove('is-active')\n        })\n        this.$sublistTogglers.forEach((item) => {\n            item.classList.remove('is-active')\n        })\n    }\n\n    destroy() {\n        super.destroy()\n\n        this.unbindEvents()\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        setTimeout(() => {\n            this.call('scrollTo', [this.el, { duration: 300, offset: -100 }], 'Scroll')\n        }, 1500)\n    }\n}\n", "import Raf from \"quark-raf\";\n\nconst defaultTween = {\n  from: 0,\n  to: 1,\n  duration: 300,\n  onProgress: () => {},\n  onComplete: () => {},\n}\n\nfunction easeOut(progress, power = 2) {\n  return 1 - (1 - progress) ** power;\n}\n\nexport default class Tween {\n\n  constructor({to, from, duration, onProgress, onComplete} = defaultTween) {\n    this.to = to\n    this.from = from\n    this.delta = to - from\n    this.duration = duration\n    this.onProgress = onProgress\n    this.onComplete = onComplete\n\n    // bind\n    this._update = this._update.bind(this)\n    this.start = this.start.bind(this)\n    this.stop = this.stop.bind(this)\n  }\n\n  start() {\n    if (this.isPlaying) return\n    this.isPlaying = true\n    this.startTime = performance.now();\n    Raf.add(this._update);\n  }\n\n  stop() {\n    if (!this.isPlaying) return\n    this.isPlaying = false\n    Raf.remove(this._update);\n  }\n\n  _update() {\n    const dateNow = performance.now()\n    const elapsed = dateNow - this.startTime\n    const progress = Math.min(elapsed / this.duration, 1);\n    const latest = this.from + easeOut(progress) * this.delta;\n\n    this.onProgress?.(latest);\n\n    if (progress >= 1) {\n        this.stop()\n        this.onComplete?.()\n    }\n  }\n}", "const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nconst isContentEditable = function (node) {\n  return node.contentEditable === 'true';\n};\n\nconst getTabindex = function (node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (\n    (node.nodeName === 'AUDIO' ||\n      node.nodeName === 'VIDEO' ||\n      node.nodeName === 'DETAILS') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isHidden = function (node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    const { width, height } = node.getBoundingClientRect();\n    return width === 0 && height === 0;\n  }\n\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (\n    isInput(node) ||\n    node.tagName === 'SELECT' ||\n    node.tagName === 'TEXTAREA' ||\n    node.tagName === 'BUTTON'\n  ) {\n    let parentNode = node.parentElement;\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            }\n\n            // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n            return true;\n          }\n        }\n\n        // the node isn't in a legend, so no matter where it is now, it'll be disabled\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options.displayCheck) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    !isNodeMatchingSelectorFocusable(options, node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  const regularTabbables = [];\n  const orderedTabbables = [];\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorTabbable.bind(null, options)\n  );\n\n  candidates.forEach(function (candidate, i) {\n    const candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  });\n\n  const tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorFocusable.bind(null, options)\n  );\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n", "import { tabbable, isFocusable, isTabbable } from 'tabbable';\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{ container: HTMLElement, firstTabbableNode: HTMLElement|null, lastTabbableNode: HTMLElement|null }>}\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  const containersContain = function (element) {\n    return !!(\n      element &&\n      state.containers.some((container) => container.contains(element))\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  const getNodeForOption = function (optionName, ...params) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\n          `\\`${optionName}\\` as selector refers to no known node`\n        );\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (containersContain(doc.activeElement)) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.tabbableGroups = state.containers\n      .map((container) => {\n        const tabbableNodes = tabbable(container);\n\n        if (tabbableNodes.length > 0) {\n          return {\n            container,\n            firstTabbableNode: tabbableNodes[0],\n            lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n          };\n        }\n\n        return undefined;\n      })\n      .filter((group) => !!group); // remove groups with no tabbable nodes\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const target = getActualTarget(e);\n    const targetContained = containersContain(target);\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    const target = getActualTarget(e);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findIndex(state.tabbableGroups, ({ container }) =>\n        container.contains(target)\n      );\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (state.tabbableGroups[containerIndex].container === target ||\n            (isFocusable(target) && !isTabbable(target)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus), in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (state.tabbableGroups[containerIndex].container === target ||\n            (isFocusable(target) && !isTabbable(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus), in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (e) {\n    if (\n      isEscapeEvent(e) &&\n      valueOrHandler(config.escapeDeactivates, e) !== false\n    ) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      const onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(\n        deactivateOptions,\n        'checkCanReturnFocus'\n      );\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const returnFocus = getOption(\n        deactivateOptions,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n", "import { module } from 'modujs';\nimport Tween from '../class/Tween'\nimport { lazyLoadImage } from '../utils/image';\nimport { createFocusTrap } from 'focus-trap';\n\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: {\n                toggler: 'toggle'\n            }\n        }\n\n        this.activeClass = \"-open\"\n\n        // this.focusTrapOptions = {\n        //     /**\n        //      * There is a delay between when the class is applied\n        //      * and when the element is focusable\n        //      */\n        //     checkCanFocusTrap: (trapContainers) => {\n        //         const results = trapContainers.map((trapContainer) => {\n        //             return new Promise((resolve) => {\n        //                 const interval = setInterval(() => {\n        //                     if (getComputedStyle(trapContainer).visibility !== 'hidden') {\n        //                         resolve();\n        //                         clearInterval(interval);\n        //                     }\n        //                 }, 5);\n        //             });\n        //         });\n\n        //         // Return a promise that resolves when all the trap containers are able to receive focus\n        //         return Promise.all(results);\n        //     },\n\n        //     onActivate: () => {\n        //         this.$currentItem.classList.add(this.activeClass);\n        //         this.$currentItem.setAttribute('aria-hidden', false)\n        //     },\n\n        //     onPostActivate: () => {\n        //         if (this.toggler) {\n        //             this.toggler.setAttribute('aria-expanded', true);\n        //         }\n        //     },\n\n        //     onDeactivate: () => {\n        //         this.$currentItem.classList.remove(this.activeClass);\n        //         this.$currentItem.setAttribute('aria-hidden', true)\n        //     },\n\n        //     onPostDeactivate: () => {\n        //         if (this.toggler) {\n        //             this.toggler.setAttribute('aria-expanded', false);\n        //             this.toggler = null;\n        //         }\n        //     },\n        // };\n    }\n\n    init() {\n        const $collapsibles = this.el.querySelectorAll('[data-accordions=\"content\"]');\n        for (let index = 0; index < $collapsibles.length; index++) {\n            const $element = $collapsibles[index];\n            $element.style.visibility = \"hidden\"\n        }\n\n        this.lastItemIndex = null\n        this.bindEvents()\n    }\n\n    /**\n     * Toggler\n     *\n     * @param item {node}\n     */\n    toggle(e) {\n        let item = e.curTarget\n        let parent = item.parentNode\n\n        if (parent.classList.contains(this.activeClass)) {\n            this.close()\n        } else {\n            this.close()\n            this.open(parent)\n        }\n    }\n\n    /**\n     * open\n     *\n     * @param parentNode item {node}\n     */\n    open(item) {\n        this.$currentItem = item\n        // this.focusTrap = createFocusTrap(item, this.focusTrapOptions);\n        // this.focusTrap?.activate?.();\n\n        let $collapsible = item.querySelector('[data-accordions=\"content\"]')\n\n        this.lastItemIndex = Array.from(item.parentNode.children).indexOf(item)\n\n        let img = item.querySelectorAll('[data-lazy]')\n        img ??= false\n\n        if (img) {\n            img.forEach((item) => {\n                lazyLoadImage(item)\n            })\n        }\n\n        $collapsible.style.visibility = \"visible\"\n\n        requestAnimationFrame(() => {\n            const $inner = item.querySelector('[data-accordions=\"inner\"]');\n            let tween = new Tween({\n                from: 0,\n                to: this.compute($inner).height,\n                duration: 200,\n                onProgress: (progress = number) => {\n                    $collapsible.style.height = progress + \"px\"\n                },\n                onComplete: () => {\n                    this.$currentItem.classList.add(this.activeClass)\n                    this.call('scrollTo', [item, { duration: 800, offset: -80 }], 'Scroll', 'main')\n                }\n            })\n            tween.start()\n        })\n    }\n\n\n    /**\n     * Close\n     *\n     * @param\n     */\n    close() {\n        if (this.lastItemIndex == null) return\n\n        let item = this.$('item')[this.lastItemIndex]\n\n        //this.focusTrap?.deactivate?.();\n\n        const $collapsible = item.querySelector('[data-accordions=\"content\"]')\n\n        if ($collapsible) {\n            let tween = new Tween({\n                from: this.compute($collapsible).height,\n                to: 0,\n                duration: 200,\n                onProgress: (progress = number) => {\n                    $collapsible.style.height = progress + \"px\"\n                },\n                onComplete: () => {\n                    requestAnimationFrame(() => {\n                        item.classList.remove(this.activeClass)\n                        $collapsible.style.visibility = \"hidden\"\n                    })\n                }\n            })\n            tween.start()\n        }\n\n        this.lastItemIndex = null\n    }\n\n    /**\n     * compute\n     *\n     * @param\n     */\n    compute(item) {\n        return item.getBoundingClientRect()\n    }\n\n    /**\n     * bindEvents\n     *\n     * @param\n     */\n    bindEvents() {\n        this.bindOnResize = this.onResize.bind(this)\n        window.addEventListener('resize', this.bindOnResize)\n    }\n\n    /**\n     * unbindEvents\n     *\n     * @param\n     */\n    unbindEvents() {\n        window.removeEventListener('resize', this.bindOnResize)\n    }\n\n    /**\n     * onResize\n     *\n     * @param\n     */\n    onResize() {\n        if (this.lastItemIndex == null) return\n        const $item = this.$('item')[this.lastItemIndex]\n        const $collapsible = $item.querySelector('[data-accordions=\"content\"]')\n        const $collapsibleInner = $item.querySelector('[data-accordions=\"inner\"]')\n\n        requestAnimationFrame(() => {\n            $collapsible.style.height = this.compute($collapsibleInner).height + \"px\"\n        })\n    }\n\n    /**\n     * destroy\n     *\n     * @param\n     */\n    destroy() {\n        super.destroy();\n        this.unbindEvents()\n    }\n}\n", "import { createFocusTrap } from 'focus-trap';\nimport { module } from 'modujs';\nimport { html } from '../utils/environment';\n\n/**\n * Generic component to display a modal.\n *\n * @property {string} activeClass - The CSS class name to apply to `<html>` to mark the modal as open.\n */\nexport default class extends module {\n    /**\n     * Creates a new Modal.\n     *\n     * @param  {object} options          - The module options.\n     * @param  {string} options.name     - The module class name.\n     * @param  {string} options.dataName - The module data attribute name.\n     * @throws {TypeError} If the class does not have an active CSS class defined.\n     */\n    constructor(options) {\n        super(options);\n\n\n        this.moduleName = options.name;\n\n        this.events = {\n            click: {\n                close: 'close',\n            },\n        };\n\n        this.closeBind = (e) => {\n            if (e.key === \"Escape\") {\n                // const isAccordionItemOpen = document.querySelector('[data-accordions=\"content\"].is-active') \n                // if (!isAccordionItemOpen) {\n                this.close();\n                // }\n            }\n        }\n\n        this.toggler = null;\n        this.focusTrapOptions = {\n            /**\n             * There is a delay between when the class is applied\n             * and when the element is focusable\n             */\n            checkCanFocusTrap: (trapContainers) => {\n                const results = trapContainers.map((trapContainer) => {\n                    return new Promise((resolve) => {\n                        const interval = setInterval(() => {\n                            if (getComputedStyle(trapContainer).visibility !== 'hidden') {\n                                resolve();\n                                clearInterval(interval);\n                            }\n                        }, 5);\n                    });\n                });\n\n                // Return a promise that resolves when all the trap containers are able to receive focus\n                return Promise.all(results);\n            },\n\n            onActivate: () => {\n                html.classList.add(this.activeClass);\n                this.el.setAttribute('aria-hidden', false)\n            },\n\n            onPostActivate: () => {\n                if (this.toggler) {\n                    this.toggler.setAttribute('aria-expanded', true);\n                }\n            },\n\n            onDeactivate: () => {\n                html.classList.remove(this.activeClass);\n                this.el.setAttribute('aria-hidden', true)\n            },\n\n            onPostDeactivate: () => {\n                if (this.toggler) {\n                    this.toggler.setAttribute('aria-expanded', false);\n                    this.toggler = null;\n                }\n            },\n        };\n    }\n\n    init() {\n        if (typeof this.activeClass !== 'string' || !this.activeClass) {\n            throw new TypeError(\n                `${this.moduleName} expects a CSS class name for the 'activeClass' property`\n            );\n        }\n\n        this.focusTrap = createFocusTrap(this.el, this.focusTrapOptions);\n\n        document.addEventListener('keyup', this.closeBind)\n\n        this.onInit?.()\n    }\n\n    /**\n     * @param {HTMLButtonElement} toggler - The toggle element.\n     */\n    toggle(toggler) {\n        if (toggler) {\n            this.toggler = toggler;\n        }\n\n        if (html.classList.contains(this.activeClass)) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    open() {\n        this.focusTrap?.activate?.();\n\n        this.onOpen?.()\n    }\n\n    close() {\n        this.focusTrap?.deactivate?.();\n\n        this.onClose?.()\n    }\n\n    destroy() {\n        this.focusTrap?.deactivate?.({\n            returnFocus: false\n        });\n\n        document.removeEventListener('keyup', this.closeBind)\n\n        this.onDestroy?.()\n\n        super.destroy();\n    }\n}\n", "import { default as Modal } from './AbstractModal';\n\nconst REWARD_LAUNCHER_URL = \"#smile-home\"\n\nexport default class extends Modal {\n    /**\n     * The CSS class name to apply to `<html>` to mark the modal as open.\n     *\n     * @var {string}\n     */\n    activeClass = 'has-menu-open'\n\n    onInit() {\n        this.$close = this.$('close')[0]\n        this.$rewardsButtons = this.el.querySelectorAll(\"[href='\" + REWARD_LAUNCHER_URL + \"']\");\n        this.bindEvents()\n    }\n\n    onDestroy() {\n        this.unbindEvents()\n    }\n\n    onOpen() {\n        this.call('close', null, 'Search')\n        this.call('onPlay', null, 'Globe', 'menu')\n\n        setTimeout(() => {\n            this.$close.focus()\n        }, 200)\n    }\n\n    onClose() {\n        this.call('close', null, 'Accordions', 'menu')\n        this.call('onStop', null, 'Globe', 'menu')\n    }\n\n    onRewardsClick() {\n        this.close()\n    }\n\n    bindEvents() {\n        this.onRewardsClickBind = this.onRewardsClick.bind(this)\n        if (this.$rewardsButtons.length) {\n            this.$rewardsButtons.forEach($rewardButton => {\n                $rewardButton.addEventListener('click', this.onRewardsClickBind)\n            })\n        }\n    }\n\n    unbindEvents() {\n        if (this.$rewardsButtons.length) {\n            this.$rewardsButtons.forEach($rewardButton => {\n                $rewardButton.removeEventListener('click', this.onRewardsClickBind)\n            })\n        }\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: 'toggle'\n        }\n    }\n\n    init() {\n\n    }\n\n    toggle() {\n        this.call('toggle', null, 'Menu')\n    }\n}\n", "import Raf from \"quark-raf\";\nimport { module } from 'modujs';\nimport {Renderer, Camera, Transform, Vec3, Vec2, Program, GLTFLoader, Post } from 'ogl';\nimport vertexShader from \"../shaders/globeVertex\";\nimport fragmentShader from \"../shaders/globeFragment\";\nimport Tween from \"../class/Tween\";\nimport { queryClosestParent } from '../utils/html';\n\n// WIP - Try Post processing\nconst fragment = /* glsl */ `\n    precision highp float;\n\n    // Default uniform for previous pass is 'tMap'.\n    // Can change this using the 'textureUniform' property\n    // when adding a pass.\n    uniform sampler2D tMap;\n    uniform vec2 uResolution;\n    varying vec2 vUv;\n\n    vec3 mod289(vec3 x) {\n        return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec4 mod289(vec4 x) {\n        return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec4 permute(vec4 x) {\n        return mod289(((x*34.0)+1.0)*x);\n    }\n\n    vec4 taylorInvSqrt(vec4 r) {\n        return 1.79284291400159 - 0.85373472095314 * r;\n    }\n\n    vec3 fade(vec3 t) {\n        return t*t*t*(t*(t*6.0-15.0)+10.0);\n    }\n\n    float cnoise(vec3 P) {\n        vec3 Pi0 = floor(P); // Integer part for indexing\n        vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n        Pi0 = mod289(Pi0);\n        Pi1 = mod289(Pi1);\n        vec3 Pf0 = fract(P); // Fractional part for interpolation\n        vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n        vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n        vec4 iy = vec4(Pi0.yy, Pi1.yy);\n        vec4 iz0 = Pi0.zzzz;\n        vec4 iz1 = Pi1.zzzz;\n\n        vec4 ixy = permute(permute(ix) + iy);\n        vec4 ixy0 = permute(ixy + iz0);\n        vec4 ixy1 = permute(ixy + iz1);\n\n        vec4 gx0 = ixy0 * (1.0 / 7.0);\n        vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n        gx0 = fract(gx0);\n        vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n        vec4 sz0 = step(gz0, vec4(0.0));\n        gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n        gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n        vec4 gx1 = ixy1 * (1.0 / 7.0);\n        vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n        gx1 = fract(gx1);\n        vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n        vec4 sz1 = step(gz1, vec4(0.0));\n        gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n        gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n        vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n        vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n        vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n        vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n        vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n        vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n        vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n        vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n        vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n        g000 *= norm0.x;\n        g010 *= norm0.y;\n        g100 *= norm0.z;\n        g110 *= norm0.w;\n        vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n        g001 *= norm1.x;\n        g011 *= norm1.y;\n        g101 *= norm1.z;\n        g111 *= norm1.w;\n\n        float n000 = dot(g000, Pf0);\n        float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n        float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n        float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n        float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n        float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n        float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n        float n111 = dot(g111, Pf1);\n\n        vec3 fade_xyz = fade(Pf0);\n        vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n        vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n        float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n        return 2.2 * n_xyz;\n    }\n\n    vec4 fxaa(sampler2D tex, vec2 uv, vec2 resolution) {\n        vec2 pixel = vec2(1) / resolution;\n        vec3 l = vec3(0.299, 0.587, 0.114);\n        float lNW = dot(texture2D(tex, uv + vec2(-1, -1) * pixel).rgb, l);\n        float lNE = dot(texture2D(tex, uv + vec2( 1, -1) * pixel).rgb, l);\n        float lSW = dot(texture2D(tex, uv + vec2(-1,  1) * pixel).rgb, l);\n        float lSE = dot(texture2D(tex, uv + vec2( 1,  1) * pixel).rgb, l);\n        float lM  = dot(texture2D(tex, uv).rgb, l);\n        float lMin = min(lM, min(min(lNW, lNE), min(lSW, lSE)));\n        float lMax = max(lM, max(max(lNW, lNE), max(lSW, lSE)));\n\n        vec2 dir = vec2(\n            -((lNW + lNE) - (lSW + lSE)),\n            ((lNW + lSW) - (lNE + lSE))\n        );\n\n        float dirReduce = max((lNW + lNE + lSW + lSE) * 0.03125, 0.0078125);\n        float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n        dir = min(vec2(8, 8), max(vec2(-8, -8), dir * rcpDirMin)) * pixel;\n\n        vec3 rgbA = 0.5 * (\n            texture2D(tex, uv + dir * (1.0 / 3.0 - 0.5)).rgb +\n            texture2D(tex, uv + dir * (2.0 / 3.0 - 0.5)).rgb);\n        vec3 rgbB = rgbA * 0.5 + 0.25 * (\n            texture2D(tex, uv + dir * -0.5).rgb +\n            texture2D(tex, uv + dir * 0.5).rgb);\n        float lB = dot(rgbB, l);\n        return mix(\n            vec4(rgbB, 1),\n            vec4(rgbA, 1),\n            max(sign(lB - lMin), 0.0) * max(sign(lB - lMax), 0.0)\n        );\n    }\n\n\n    void main() {\n        vec2 uv = vUv;\n\n        float noise = cnoise(vec3(uv, cos(.1 * 0.1)) * 2.0 + .1 * 0.5);\n\n        uv.x += noise * .1;\n        uv.y += noise * .1;\n\n\n        vec4 raw = texture2D(tMap, uv);\n        vec4 aa = fxaa(tMap, uv, uResolution);\n\n        gl_FragColor = raw;\n    }\n`;\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        // Flag\n        this.isPlaying = false\n        this.isGltfLoaded = false\n\n        // Metrics\n        this.wrapperBCR = this.el.getBoundingClientRect();\n\n        // Functions binding\n        this.onRender = this.onRender.bind(this)\n        this.onResize = this.onResize.bind(this);\n        this.onEnter = this.onEnter.bind(this);\n        this.onLeave = this.onLeave.bind(this);\n\n        // GLTF Values\n        this.gltfUrl = this.getData('gltf')\n        this.gltfColors = [\n            {\n                value: this.getData('wires-color') ? this.hexToGlsl(this.getData('wires-color')) : new Vec3(0.,0.886,0.929)\n            },\n        ]\n\n        this.gltfDefaultColorRGB = this.getData('wires-color') ? this.hexToRgb(this.getData('wires-color')) : {r: 0, g: 0, b:0}\n        this.gltfHoverColorRGB = this.getData('wires-color-hover') ? this.hexToRgb(this.getData('wires-color-hover')) : {r: 0, g: 0, b:0}\n\n\n        // Programs\n        this.programs = []\n\n        // Tweak Values\n        this.rotationX = 0.01\n        this.rotationY = 0.01\n        this.rotationZ = 0.00\n        this.light = 0\n    }\n\n    /////////////////////////\n    // Lifecycle\n    init() {\n        // Call\n        this.bindUI();\n        this.bindEvents();\n        this.initCanvas();\n\n        this.hoverEnterTween = new Tween({\n            from: 0,\n            to: 1,\n            duration: 0,\n            onProgress: (progress) => {\n                this.animeEnterColor(progress)\n            }\n        })\n        this.hoverLeaveTween = new Tween({\n            from: 0,\n            to: 1,\n            duration: 0,\n            onProgress: (progress) => {\n                this.animeLeaveColor(progress)\n            }\n        })\n    }\n\n    destroy() {\n        super.destroy();\n        this.unbindEvents();\n        this.onStop();\n    }\n\n\n    /////////////////////////\n    // Binding\n    bindUI() {\n        this.ui = {};\n        this.ui.$el = this.el;\n        this.ui.$wrapper = this.$(\"wrap\")[0];\n        this.ui.$panel = this.$(\"panel\")[0];\n        this.ui.$parent = queryClosestParent(this.ui.$el, '.c-phone')\n    }\n\n    bindEvents() {\n        window.addEventListener(\"resize\", this.onResize);\n        this.ui.$parent.addEventListener('pointerenter', this.onEnter)\n        this.ui.$parent.addEventListener('pointerleave', this.onLeave)\n    }\n\n    unbindEvents() {\n        window.removeEventListener(\"resize\", this.onResize);\n        this.ui.$parent.removeEventListener('pointerenter', this.onEnter)\n        this.ui.$parent.removeEventListener('pointerleave', this.onLeave)\n    }\n\n\n    /////////////////////////\n    // Init Canvas\n    async initCanvas() {\n        // Init Renderer\n        this.renderer = new Renderer({\n            dpr: 1,\n            antialias: true,\n            webgl: 1,\n            alpha: true,\n        });\n        this.renderer.setSize(this.wrapperBCR.width, this.wrapperBCR.height);\n\n        // Store renderer\n        this.gl = this.renderer.gl;\n        // Then add to the DOM\n        this.ui.$wrapper.appendChild(this.gl.canvas);\n\n        // Post copies the current renderer values (width, height, dpr) if none are passed in\n        this.post = new Post(this.gl);\n\n        // Set resolution\n        this.uResolution = {value: new Vec2(this.gl.canvas.width, this.gl.canvas.height)};\n\n        // Call\n        this.initScene();\n        this.initCamera();\n        await this.initShape();\n\n        // update size\n        this.onResize(true);\n\n        // Play auto\n        this.onRender()\n    }\n\n    initScene() {\n        this.scene = new Transform();\n    }\n\n    initCamera() {\n        this.camera = new Camera(this.gl)\n        this.camera.fov = 45\n        this.camera.position.z = 2.65;\n        this.camera.lookAt([0, 0, 0]);\n    }\n\n    async initShape() {\n        // Gltf\n        const formattedGltfUrl = this.gltfUrl.split(\"?\")[0]\n        this.gltf = await GLTFLoader.load(this.gl, formattedGltfUrl);\n        this.addGltf(this.gltf)\n\n        const pass = this.post.addPass({\n            // If not passed in, pass will use the default vertex/fragment\n            // shaders found within the class.\n            fragment,\n            uniforms: {\n                uResolution: this.uResolution,\n            },\n        });\n    }\n\n    onEnter() {\n        this.hoverEnterTween?.start()\n    }\n\n    onLeave() {\n        this.hoverLeaveTween?.start()\n    }\n\n    /////////////////////////\n    // Callbacks\n    onToggle() {\n        if (this.isPlaying) {\n            this.onStop()\n        } else if (!this.isPlaying) {\n            this.onPlay()\n        }\n    }\n\n    onPlay() {\n        if (this.isPlaying) return\n        this.isPlaying = true\n        Raf.add(this.onRender);\n    }\n\n    onStop() {\n        if (!this.isPlaying) return\n        this.isPlaying = false\n        Raf.remove(this.onRender);\n    }\n\n    onResize(force = false) {\n        // Check if I need to update size\n        const newElWidth = this.el.offsetWidth\n        const newElHeight = this.el.offsetHeight\n        if(newElWidth == this.wrapperBCR.width && !force || newElHeight == this.wrapperBCR.height && !force) return\n\n        // Metrics\n        this.wrapperBCR = this.el.getBoundingClientRect();\n\n        // Set canvas size\n        this.gl.canvas.style.width = `${this.wrapperBCR.width}px`;\n        this.gl.canvas.style.height = `${this.wrapperBCR.height}px`;\n\n        // Set renderer size\n        this.renderer.setSize(this.wrapperBCR.width, this.wrapperBCR.height);\n\n        // Then Camera perspective\n        this.aspect = this.wrapperBCR.width / this.wrapperBCR.height;\n        this.camera.perspective({ aspect: this.aspect});\n\n        this.post.resize()\n        this.uResolution = {value: new Vec2(this.gl.canvas.width, this.gl.canvas.height)}\n    }\n\n    onRender() {\n        if (!this.isGltfLoaded) return\n\n        // Post processing\n        //this.post.render({scene: this.scene, camera: this.camera, sort: false, frustumCull: false});\n\n        // Or classic renderer\n        this.renderer.render({scene: this.scene, camera: this.camera, sort: false, frustumCull: false});\n\n        this.scene.children[0].rotation.x += this.rotationX;\n        this.scene.children[0].rotation.y += this.rotationY;\n        this.scene.children[0].rotation.z += this.rotationZ;\n    }\n\n    /////////////////////////\n    // Methods\n    addGltf() {\n        const gltfScene = this.gltf.scene\n        gltfScene.forEach((root, index) => {\n            root.setParent(this.scene);\n            root.traverse((node) => {\n                if (node.program) {\n                    node.program = this.createProgram(node, index);\n                    this.programs.push(node.program)\n                }\n            });\n        });\n\n        // Calculate world matrices for bounds<\u2020\n        this.scene.updateMatrixWorld();\n\n        // set gltf loaded\n        this.isGltfLoaded = true\n    }\n\n    createProgram(node, index) {\n        const gltf = node.program.gltfMaterial || {};\n\n        const vertexPrefix = this.renderer.isWebgl2\n            ? /* glsl */ `#version 300 es\n            #define attribute in\n            #define varying out\n            #define texture2D texture\n        `\n            : ``;\n\n        const fragmentPrefix = this.renderer.isWebgl2\n            ? /* glsl */ `#version 300 es\n            precision highp float;\n            #define varying in\n            #define texture2D texture\n            #define gl_FragColor FragColor\n            out vec4 FragColor;\n        `\n            : /* glsl */ `#extension GL_OES_standard_derivatives : enable\n            precision highp float;\n        `;\n\n        let defines = `\n            ${node.geometry.attributes.uv ? `#define UV` : ``}\n            ${node.geometry.attributes.normal ? `#define NORMAL` : ``}\n            ${node.geometry.isInstanced ? `#define INSTANCED` : ``}\n            ${node.boneTexture ? `#define SKINNING` : ``}\n            ${gltf.alphaMode === 'MASK' ? `#define ALPHA_MASK` : ``}\n            ${gltf.baseColorTexture ? `#define COLOR_MAP` : ``}\n            ${gltf.normalTexture ? `#define NORMAL_MAP` : ``}\n            ${gltf.metallicRoughnessTexture ? `#define RM_MAP` : ``}\n            ${gltf.occlusionTexture ? `#define OCC_MAP` : ``}\n            ${gltf.emissiveTexture ? `#define EMISSIVE_MAP` : ``}\n        `;\n\n        let vertex = vertexPrefix + defines + vertexShader;\n        let fragment = fragmentPrefix + defines + fragmentShader;\n\n        const program = new Program(this.gl, {\n            vertex,\n            fragment,\n            uniforms: {\n                uColor: this.gltfColors[index],\n                uLight: { value: this.light },\n            },\n            transparent: gltf.alphaMode === 'BLEND',\n            cullFace: gltf.doubleSided ? null : this.gl.BACK,\n        });\n\n        return program;\n    }\n\n    animeEnterColor(progress) {\n        const newR = this.gltfHoverColorRGB.r\n        const newG = this.gltfHoverColorRGB.g\n        const newB = this.gltfHoverColorRGB.b\n\n        const oldR = this.gltfDefaultColorRGB.r\n        const oldG = this.gltfDefaultColorRGB.g\n        const oldB = this.gltfDefaultColorRGB.b\n\n        const diffR = newR - oldR\n        const diffG = newG - oldG\n        const diffB = newB - oldB\n\n\n        this.programs[0].uniforms.uColor.value = new Vec3((oldR + (diffR * progress)) / 255, (oldG + (diffG * progress)) / 255, (oldB + (diffB * progress)) / 255)\n    }\n\n    animeLeaveColor(progress) {\n        const newR = this.gltfDefaultColorRGB.r\n        const newG = this.gltfDefaultColorRGB.g\n        const newB = this.gltfDefaultColorRGB.b\n\n        const oldR = this.gltfHoverColorRGB.r\n        const oldG = this.gltfHoverColorRGB.g\n        const oldB = this.gltfHoverColorRGB.b\n\n        const diffR = newR - oldR\n        const diffG = newG - oldG\n        const diffB = newB - oldB\n\n\n        this.programs[0].uniforms.uColor.value = new Vec3((oldR + (diffR * progress)) / 255, (oldG + (diffG * progress)) / 255, (oldB + (diffB * progress)) / 255)\n    }\n\n    hexToRgb(hex) {\n        const convertedValue = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        const r = parseInt(convertedValue[1], 16),\n              g = parseInt(convertedValue[2], 16),\n              b = parseInt(convertedValue[3], 16);\n        return {r, g, b}\n    }\n\n    hexToGlsl(hex) {\n        const {r, g, b } = this.hexToRgb(hex)\n        return new Vec3(r/255, g/255, b/255)\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    out[2] = 1.0 / a[2];\n    return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let len = x * x + y * y + z * z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return out;\n}\n\n/**\n * Same as above but doesn't apply translation.\n * Useful for rays.\n */\nexport function scaleRotateMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let qx = q[0],\n        qy = q[1],\n        qz = q[2],\n        qw = q[3];\n\n    let uvx = qy * z - qz * y;\n    let uvy = qz * x - qx * z;\n    let uvz = qx * y - qy * x;\n\n    let uuvx = qy * uvz - qz * uvy;\n    let uuvy = qz * uvx - qx * uvz;\n    let uuvz = qx * uvy - qy * uvx;\n\n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n\n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n\n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport const angle = (function () {\n    const tempA = [0, 0, 0];\n    const tempB = [0, 0, 0];\n\n    return function (a, b) {\n        copy(tempA, a);\n        copy(tempB, b);\n\n        normalize(tempA, tempA);\n        normalize(tempB, tempB);\n\n        let cosine = dot(tempA, tempB);\n\n        if (cosine > 1.0) {\n            return 0;\n        } else if (cosine < -1.0) {\n            return Math.PI;\n        } else {\n            return Math.acos(cosine);\n        }\n    };\n})();\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n", "import * as Vec3Func from './functions/Vec3Func.js';\n\nexport class Vec3 extends Array {\n    constructor(x = 0, y = x, z = x) {\n        super(x, y, z);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        Vec3Func.set(this, x, y, z);\n        return this;\n    }\n\n    copy(v) {\n        Vec3Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec3Func.add(this, va, vb);\n        else Vec3Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec3Func.subtract(this, va, vb);\n        else Vec3Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec3Func.multiply(this, this, v);\n        else Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec3Func.divide(this, this, v);\n        else Vec3Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec3Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec3Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec3Func.distance(this, v);\n        else return Vec3Func.length(this);\n    }\n\n    squaredLen() {\n        return Vec3Func.squaredLength(this);\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec3Func.squaredDistance(this, v);\n        else return Vec3Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec3Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) Vec3Func.cross(this, va, vb);\n        else Vec3Func.cross(this, this, va);\n        return this;\n    }\n\n    scale(v) {\n        Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec3Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec3Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec3Func.exactEquals(this, v);\n    }\n\n    applyMatrix4(mat4) {\n        Vec3Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    scaleRotateMatrix4(mat4) {\n        Vec3Func.scaleRotateMat4(this, this, mat4);\n        return this;\n    }\n\n    applyQuaternion(q) {\n        Vec3Func.transformQuat(this, this, q);\n        return this;\n    }\n\n    angle(v) {\n        return Vec3Func.angle(this, v);\n    }\n\n    lerp(v, t) {\n        Vec3Func.lerp(this, this, v, t);\n        return this;\n    }\n\n    clone() {\n        return new Vec3(this[0], this[1], this[2]);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n\n    transformDirection(mat4) {\n        const x = this[0];\n        const y = this[1];\n        const z = this[2];\n\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\n\n        return this.normalize();\n    }\n}\n", "// attribute params\n// {\n//     data - typed array eg UInt16Array for indices, Float32Array\n//     size - int default 1\n//     instanced - default null. Pass divisor amount\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\n//     normalized - boolean default false\n\n//     buffer - gl buffer, if buffer exists, don't need to provide data\n//     stride - default 0 - for when passing in buffer\n//     offset - default 0 - for when passing in buffer\n//     count - default null - for when passing in buffer\n//     min - array - for when passing in buffer\n//     max - array - for when passing in buffer\n// }\n\n// TODO: fit in transform feedback\n// TODO: when would I disableVertexAttribArray ?\n// TODO: use offset/stride if exists\n\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempVec3 = new Vec3();\n\nlet ID = 1;\nlet ATTR_ID = 1;\n\n// To stop inifinite warnings\nlet isBoundsWarned = false;\n\nexport class Geometry {\n    constructor(gl, attributes = {}) {\n        if (!gl.canvas) console.error('gl not passed as first argument to Geometry');\n        this.gl = gl;\n        this.attributes = attributes;\n        this.id = ID++;\n\n        // Store one VAO per program attribute locations order\n        this.VAOs = {};\n\n        this.drawRange = { start: 0, count: 0 };\n        this.instancedCount = 0;\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        this.gl.renderer.bindVertexArray(null);\n        this.gl.renderer.currentGeometry = null;\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // create the buffers\n        for (let key in attributes) {\n            this.addAttribute(key, attributes[key]);\n        }\n    }\n\n    addAttribute(key, attr) {\n        this.attributes[key] = attr;\n\n        // Set options\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\n        attr.size = attr.size || 1;\n        attr.type =\n            attr.type ||\n            (attr.data.constructor === Float32Array\n                ? this.gl.FLOAT\n                : attr.data.constructor === Uint16Array\n                ? this.gl.UNSIGNED_SHORT\n                : this.gl.UNSIGNED_INT); // Uint32Array\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\n        attr.normalized = attr.normalized || false;\n        attr.stride = attr.stride || 0;\n        attr.offset = attr.offset || 0;\n        attr.count = attr.count || (attr.stride ? attr.data.byteLength / attr.stride : attr.data.length / attr.size);\n        attr.divisor = attr.instanced || 0;\n        attr.needsUpdate = false;\n\n        if (!attr.buffer) {\n            attr.buffer = this.gl.createBuffer();\n\n            // Push data to buffer\n            this.updateAttribute(attr);\n        }\n\n        // Update geometry counts. If indexed, ignore regular attributes\n        if (attr.divisor) {\n            this.isInstanced = true;\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\n                console.warn('geometry has multiple instanced buffers of different length');\n                return (this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor));\n            }\n            this.instancedCount = attr.count * attr.divisor;\n        } else if (key === 'index') {\n            this.drawRange.count = attr.count;\n        } else if (!this.attributes.index) {\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\n        }\n    }\n\n    updateAttribute(attr) {\n        if (this.glState.boundBuffer !== attr.buffer) {\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n        }\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\n        attr.needsUpdate = false;\n    }\n\n    setIndex(value) {\n        this.addAttribute('index', value);\n    }\n\n    setDrawRange(start, count) {\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n    }\n\n    setInstancedCount(value) {\n        this.instancedCount = value;\n    }\n\n    createVAO(program) {\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n        this.bindAttributes(program);\n    }\n\n    bindAttributes(program) {\n        // Link all attributes to program using gl.vertexAttribPointer\n        program.attributeLocations.forEach((location, { name, type }) => {\n            // If geometry missing a required shader attribute\n            if (!this.attributes[name]) {\n                console.warn(`active attribute ${name} not being supplied`);\n                return;\n            }\n\n            const attr = this.attributes[name];\n\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n\n            // For matrix attributes, buffer needs to be defined per column\n            let numLoc = 1;\n            if (type === 35674) numLoc = 2; // mat2\n            if (type === 35675) numLoc = 3; // mat3\n            if (type === 35676) numLoc = 4; // mat4\n\n            const size = attr.size / numLoc;\n            const stride = numLoc === 1 ? 0 : numLoc * numLoc * numLoc;\n            const offset = numLoc === 1 ? 0 : numLoc * numLoc;\n\n            for (let i = 0; i < numLoc; i++) {\n                this.gl.vertexAttribPointer(location + i, size, attr.type, attr.normalized, attr.stride + stride, attr.offset + i * offset);\n                this.gl.enableVertexAttribArray(location + i);\n\n                // For instanced attributes, divisor needs to be set.\n                // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\n                this.gl.renderer.vertexAttribDivisor(location + i, attr.divisor);\n            }\n        });\n\n        // Bind indices if geometry indexed\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\n    }\n\n    draw({ program, mode = this.gl.TRIANGLES }) {\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\n        }\n\n        // Check if any attributes need updating\n        program.attributeLocations.forEach((location, { name }) => {\n            const attr = this.attributes[name];\n            if (attr.needsUpdate) this.updateAttribute(attr);\n        });\n\n        if (this.isInstanced) {\n            if (this.attributes.index) {\n                this.gl.renderer.drawElementsInstanced(\n                    mode,\n                    this.drawRange.count,\n                    this.attributes.index.type,\n                    this.attributes.index.offset + this.drawRange.start * 2,\n                    this.instancedCount\n                );\n            } else {\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\n            }\n        } else {\n            if (this.attributes.index) {\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\n            } else {\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\n            }\n        }\n    }\n\n    getPosition() {\n        // Use position buffer, or min/max if available\n        const attr = this.attributes.position;\n        // if (attr.min) return [...attr.min, ...attr.max];\n        if (attr.data) return attr;\n        if (isBoundsWarned) return;\n        console.warn('No position buffer data found to compute bounds');\n        return (isBoundsWarned = true);\n    }\n\n    computeBoundingBox(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        const offset = attr.offset || 0;\n        const stride = attr.stride || attr.size;\n\n        if (!this.bounds) {\n            this.bounds = {\n                min: new Vec3(),\n                max: new Vec3(),\n                center: new Vec3(),\n                scale: new Vec3(),\n                radius: Infinity,\n            };\n        }\n\n        const min = this.bounds.min;\n        const max = this.bounds.max;\n        const center = this.bounds.center;\n        const scale = this.bounds.scale;\n\n        min.set(+Infinity);\n        max.set(-Infinity);\n\n        // TODO: check size of position (eg triangle with Vec2)\n        for (let i = offset, l = array.length; i < l; i += stride) {\n            const x = array[i];\n            const y = array[i + 1];\n            const z = array[i + 2];\n\n            min.x = Math.min(x, min.x);\n            min.y = Math.min(y, min.y);\n            min.z = Math.min(z, min.z);\n\n            max.x = Math.max(x, max.x);\n            max.y = Math.max(y, max.y);\n            max.z = Math.max(z, max.z);\n        }\n\n        scale.sub(max, min);\n        center.add(min, max).divide(2);\n    }\n\n    computeBoundingSphere(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        const offset = attr.offset || 0;\n        const stride = attr.stride || attr.size;\n\n        if (!this.bounds) this.computeBoundingBox(attr);\n\n        let maxRadiusSq = 0;\n        for (let i = offset, l = array.length; i < l; i += stride) {\n            tempVec3.fromArray(array, i);\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\n        }\n\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\n    }\n\n    remove() {\n        if (this.vao) this.gl.renderer.deleteVertexArray(this.vao);\n        for (let key in this.attributes) {\n            this.gl.deleteBuffer(this.attributes[key].buffer);\n            delete this.attributes[key];\n        }\n    }\n}\n", "// TODO: upload empty texture if null ? maybe not\n// TODO: upload identity matrix if null ?\n// TODO: sampler Cube\n\nlet ID = 1;\n\n// cache of typed arrays used to flatten uniform arrays\nconst arrayCacheF32 = {};\n\nexport class Program {\n    constructor(\n        gl,\n        {\n            vertex,\n            fragment,\n            uniforms = {},\n\n            transparent = false,\n            cullFace = gl.BACK,\n            frontFace = gl.CCW,\n            depthTest = true,\n            depthWrite = true,\n            depthFunc = gl.LESS,\n        } = {}\n    ) {\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\n        this.gl = gl;\n        this.uniforms = uniforms;\n        this.id = ID++;\n\n        if (!vertex) console.warn('vertex shader not supplied');\n        if (!fragment) console.warn('fragment shader not supplied');\n\n        // Store program state\n        this.transparent = transparent;\n        this.cullFace = cullFace;\n        this.frontFace = frontFace;\n        this.depthTest = depthTest;\n        this.depthWrite = depthWrite;\n        this.depthFunc = depthFunc;\n        this.blendFunc = {};\n        this.blendEquation = {};\n\n        // set default blendFunc if transparent flagged\n        if (this.transparent && !this.blendFunc.src) {\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        }\n\n        // compile vertex shader and log errors\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vertex);\n        gl.compileShader(vertexShader);\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\n        }\n\n        // compile fragment shader and log errors\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragment);\n        gl.compileShader(fragmentShader);\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\n        }\n\n        // compile program and log errors\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, vertexShader);\n        gl.attachShader(this.program, fragmentShader);\n        gl.linkProgram(this.program);\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            return console.warn(gl.getProgramInfoLog(this.program));\n        }\n\n        // Remove shader once linked\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n\n        // Get active uniform locations\n        this.uniformLocations = new Map();\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\n            let uniform = gl.getActiveUniform(this.program, uIndex);\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\n\n            // split uniforms' names to separate array and struct declarations\n            const split = uniform.name.match(/(\\w+)/g);\n\n            uniform.uniformName = split[0];\n\n            if (split.length === 3) {\n                uniform.isStructArray = true;\n                uniform.structIndex = Number(split[1]);\n                uniform.structProperty = split[2];\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\n                uniform.isStruct = true;\n                uniform.structProperty = split[1];\n            }\n        }\n\n        // Get active attribute locations\n        this.attributeLocations = new Map();\n        const locations = [];\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\n            const location = gl.getAttribLocation(this.program, attribute.name);\n            locations[location] = attribute.name;\n            this.attributeLocations.set(attribute, location);\n        }\n        this.attributeOrder = locations.join('');\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        this.blendFunc.src = src;\n        this.blendFunc.dst = dst;\n        this.blendFunc.srcAlpha = srcAlpha;\n        this.blendFunc.dstAlpha = dstAlpha;\n        if (src) this.transparent = true;\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        this.blendEquation.modeRGB = modeRGB;\n        this.blendEquation.modeAlpha = modeAlpha;\n    }\n\n    applyState() {\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\n\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\n\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\n        else this.gl.renderer.disable(this.gl.BLEND);\n\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\n        this.gl.renderer.setFrontFace(this.frontFace);\n        this.gl.renderer.setDepthMask(this.depthWrite);\n        this.gl.renderer.setDepthFunc(this.depthFunc);\n        if (this.blendFunc.src)\n            this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\n        this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\n    }\n\n    use({ flipFaces = false } = {}) {\n        let textureUnit = -1;\n        const programActive = this.gl.renderer.currentProgram === this.id;\n\n        // Avoid gl call if program already in use\n        if (!programActive) {\n            this.gl.useProgram(this.program);\n            this.gl.renderer.currentProgram = this.id;\n        }\n\n        // Set only the active uniforms found in the shader\n        this.uniformLocations.forEach((location, activeUniform) => {\n            let name = activeUniform.uniformName;\n\n            // get supplied uniform\n            let uniform = this.uniforms[name];\n\n            // For structs, get the specific property instead of the entire object\n            if (activeUniform.isStruct) {\n                uniform = uniform[activeUniform.structProperty];\n                name += `.${activeUniform.structProperty}`;\n            }\n            if (activeUniform.isStructArray) {\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\n            }\n\n            if (!uniform) {\n                return warn(`Active uniform ${name} has not been supplied`);\n            }\n\n            if (uniform && uniform.value === undefined) {\n                return warn(`${name} uniform is missing a value parameter`);\n            }\n\n            if (uniform.value.texture) {\n                textureUnit = textureUnit + 1;\n\n                // Check if texture needs to be updated\n                uniform.value.update(textureUnit);\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\n            }\n\n            // For texture arrays, set uniform as an array of texture units instead of just one\n            if (uniform.value.length && uniform.value[0].texture) {\n                const textureUnits = [];\n                uniform.value.forEach((value) => {\n                    textureUnit = textureUnit + 1;\n                    value.update(textureUnit);\n                    textureUnits.push(textureUnit);\n                });\n\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\n            }\n\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\n        });\n\n        this.applyState();\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\n    }\n\n    remove() {\n        this.gl.deleteProgram(this.program);\n    }\n}\n\nfunction setUniform(gl, type, location, value) {\n    value = value.length ? flatten(value) : value;\n    const setValue = gl.renderer.state.uniformLocations.get(location);\n\n    // Avoid redundant uniform commands\n    if (value.length) {\n        if (setValue === undefined || setValue.length !== value.length) {\n            // clone array to store as cache\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\n        } else {\n            if (arraysEqual(setValue, value)) return;\n\n            // Update cached array values\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\n            gl.renderer.state.uniformLocations.set(location, setValue);\n        }\n    } else {\n        if (setValue === value) return;\n        gl.renderer.state.uniformLocations.set(location, value);\n    }\n\n    switch (type) {\n        case 5126:\n            return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\n        case 35664:\n            return gl.uniform2fv(location, value); // FLOAT_VEC2\n        case 35665:\n            return gl.uniform3fv(location, value); // FLOAT_VEC3\n        case 35666:\n            return gl.uniform4fv(location, value); // FLOAT_VEC4\n        case 35670: // BOOL\n        case 5124: // INT\n        case 35678: // SAMPLER_2D\n        case 35680:\n            return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\n        case 35671: // BOOL_VEC2\n        case 35667:\n            return gl.uniform2iv(location, value); // INT_VEC2\n        case 35672: // BOOL_VEC3\n        case 35668:\n            return gl.uniform3iv(location, value); // INT_VEC3\n        case 35673: // BOOL_VEC4\n        case 35669:\n            return gl.uniform4iv(location, value); // INT_VEC4\n        case 35674:\n            return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\n        case 35675:\n            return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\n        case 35676:\n            return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\n    }\n}\n\nfunction addLineNumbers(string) {\n    let lines = string.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n        lines[i] = i + 1 + ': ' + lines[i];\n    }\n    return lines.join('\\n');\n}\n\nfunction flatten(a) {\n    const arrayLen = a.length;\n    const valueLen = a[0].length;\n    if (valueLen === undefined) return a;\n    const length = arrayLen * valueLen;\n    let value = arrayCacheF32[length];\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\n    return value;\n}\n\nfunction arraysEqual(a, b) {\n    if (a.length !== b.length) return false;\n    for (let i = 0, l = a.length; i < l; i++) {\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n}\n\nfunction setArray(a, b) {\n    for (let i = 0, l = a.length; i < l; i++) {\n        a[i] = b[i];\n    }\n}\n\nlet warnCount = 0;\nfunction warn(message) {\n    if (warnCount > 100) return;\n    console.warn(message);\n    warnCount++;\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\n}\n", "import { Vec3 } from '../math/Vec3.js';\n\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\n\n// Not automatic - devs to use these methods manually\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\n// gl.clearColor( r, g, b, a );\n// gl.stencilMask( stencilMask );\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n// gl.clearStencil( stencil );\n\nconst tempVec3 = new Vec3();\nlet ID = 1;\n\nexport class Renderer {\n    constructor({\n        canvas = document.createElement('canvas'),\n        width = 300,\n        height = 150,\n        dpr = 1,\n        alpha = false,\n        depth = true,\n        stencil = false,\n        antialias = false,\n        premultipliedAlpha = false,\n        preserveDrawingBuffer = false,\n        powerPreference = 'default',\n        autoClear = true,\n        webgl = 2,\n    } = {}) {\n        const attributes = { alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference };\n        this.dpr = dpr;\n        this.alpha = alpha;\n        this.color = true;\n        this.depth = depth;\n        this.stencil = stencil;\n        this.premultipliedAlpha = premultipliedAlpha;\n        this.autoClear = autoClear;\n        this.id = ID++;\n\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\n        this.isWebgl2 = !!this.gl;\n        if (!this.gl) {\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\n        }\n        if (!this.gl) console.error('unable to create webgl context');\n\n        // Attach renderer to gl so that all classes have access to internal state functions\n        this.gl.renderer = this;\n\n        // initialise size values\n        this.setSize(width, height);\n\n        // gl state stores to avoid redundant calls on methods used internally\n        this.state = {};\n        this.state.blendFunc = { src: this.gl.ONE, dst: this.gl.ZERO };\n        this.state.blendEquation = { modeRGB: this.gl.FUNC_ADD };\n        this.state.cullFace = null;\n        this.state.frontFace = this.gl.CCW;\n        this.state.depthMask = true;\n        this.state.depthFunc = this.gl.LESS;\n        this.state.premultiplyAlpha = false;\n        this.state.flipY = false;\n        this.state.unpackAlignment = 4;\n        this.state.framebuffer = null;\n        this.state.viewport = { width: null, height: null };\n        this.state.textureUnits = [];\n        this.state.activeTextureUnit = 0;\n        this.state.boundBuffer = null;\n        this.state.uniformLocations = new Map();\n\n        // store requested extensions\n        this.extensions = {};\n\n        // Initialise extra format types\n        if (this.isWebgl2) {\n            this.getExtension('EXT_color_buffer_float');\n            this.getExtension('OES_texture_float_linear');\n        } else {\n            this.getExtension('OES_texture_float');\n            this.getExtension('OES_texture_float_linear');\n            this.getExtension('OES_texture_half_float');\n            this.getExtension('OES_texture_half_float_linear');\n            this.getExtension('OES_element_index_uint');\n            this.getExtension('OES_standard_derivatives');\n            this.getExtension('EXT_sRGB');\n            this.getExtension('WEBGL_depth_texture');\n            this.getExtension('WEBGL_draw_buffers');\n        }\n\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\n\n        // Store device parameters\n        this.parameters = {};\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic')\n            ? this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT)\n            : 0;\n    }\n\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n\n        this.gl.canvas.width = width * this.dpr;\n        this.gl.canvas.height = height * this.dpr;\n\n        Object.assign(this.gl.canvas.style, {\n            width: width + 'px',\n            height: height + 'px',\n        });\n    }\n\n    setViewport(width, height) {\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\n        this.state.viewport.width = width;\n        this.state.viewport.height = height;\n        this.gl.viewport(0, 0, width, height);\n    }\n\n    enable(id) {\n        if (this.state[id] === true) return;\n        this.gl.enable(id);\n        this.state[id] = true;\n    }\n\n    disable(id) {\n        if (this.state[id] === false) return;\n        this.gl.disable(id);\n        this.state[id] = false;\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        if (\n            this.state.blendFunc.src === src &&\n            this.state.blendFunc.dst === dst &&\n            this.state.blendFunc.srcAlpha === srcAlpha &&\n            this.state.blendFunc.dstAlpha === dstAlpha\n        )\n            return;\n        this.state.blendFunc.src = src;\n        this.state.blendFunc.dst = dst;\n        this.state.blendFunc.srcAlpha = srcAlpha;\n        this.state.blendFunc.dstAlpha = dstAlpha;\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\n        else this.gl.blendFunc(src, dst);\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        modeRGB = modeRGB || this.gl.FUNC_ADD;\n        if (this.state.blendEquation.modeRGB === modeRGB && this.state.blendEquation.modeAlpha === modeAlpha) return;\n        this.state.blendEquation.modeRGB = modeRGB;\n        this.state.blendEquation.modeAlpha = modeAlpha;\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\n        else this.gl.blendEquation(modeRGB);\n    }\n\n    setCullFace(value) {\n        if (this.state.cullFace === value) return;\n        this.state.cullFace = value;\n        this.gl.cullFace(value);\n    }\n\n    setFrontFace(value) {\n        if (this.state.frontFace === value) return;\n        this.state.frontFace = value;\n        this.gl.frontFace(value);\n    }\n\n    setDepthMask(value) {\n        if (this.state.depthMask === value) return;\n        this.state.depthMask = value;\n        this.gl.depthMask(value);\n    }\n\n    setDepthFunc(value) {\n        if (this.state.depthFunc === value) return;\n        this.state.depthFunc = value;\n        this.gl.depthFunc(value);\n    }\n\n    activeTexture(value) {\n        if (this.state.activeTextureUnit === value) return;\n        this.state.activeTextureUnit = value;\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\n    }\n\n    bindFramebuffer({ target = this.gl.FRAMEBUFFER, buffer = null } = {}) {\n        if (this.state.framebuffer === buffer) return;\n        this.state.framebuffer = buffer;\n        this.gl.bindFramebuffer(target, buffer);\n    }\n\n    getExtension(extension, webgl2Func, extFunc) {\n        // if webgl2 function supported, return func bound to gl context\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\n\n        // fetch extension once only\n        if (!this.extensions[extension]) {\n            this.extensions[extension] = this.gl.getExtension(extension);\n        }\n\n        // return extension if no function requested\n        if (!webgl2Func) return this.extensions[extension];\n\n        // Return null if extension not supported\n        if (!this.extensions[extension]) return null;\n\n        // return extension function, bound to extension\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\n    }\n\n    sortOpaque(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else if (a.zDepth !== b.zDepth) {\n            return a.zDepth - b.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortTransparent(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        }\n        if (a.zDepth !== b.zDepth) {\n            return b.zDepth - a.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortUI(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    getRenderList({ scene, camera, frustumCull, sort }) {\n        let renderList = [];\n\n        if (camera && frustumCull) camera.updateFrustum();\n\n        // Get visible\n        scene.traverse((node) => {\n            if (!node.visible) return true;\n            if (!node.draw) return;\n\n            if (frustumCull && node.frustumCulled && camera) {\n                if (!camera.frustumIntersectsMesh(node)) return;\n            }\n\n            renderList.push(node);\n        });\n\n        if (sort) {\n            const opaque = [];\n            const transparent = []; // depthTest true\n            const ui = []; // depthTest false\n\n            renderList.forEach((node) => {\n                // Split into the 3 render groups\n                if (!node.program.transparent) {\n                    opaque.push(node);\n                } else if (node.program.depthTest) {\n                    transparent.push(node);\n                } else {\n                    ui.push(node);\n                }\n\n                node.zDepth = 0;\n\n                // Only calculate z-depth if renderOrder unset and depthTest is true\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\n\n                // update z-depth\n                node.worldMatrix.getTranslation(tempVec3);\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\n                node.zDepth = tempVec3.z;\n            });\n\n            opaque.sort(this.sortOpaque);\n            transparent.sort(this.sortTransparent);\n            ui.sort(this.sortUI);\n\n            renderList = opaque.concat(transparent, ui);\n        }\n\n        return renderList;\n    }\n\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true, clear }) {\n        if (target === null) {\n            // make sure no render target bound so draws to canvas\n            this.bindFramebuffer();\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\n        } else {\n            // bind supplied render target and update viewport\n            this.bindFramebuffer(target);\n            this.setViewport(target.width, target.height);\n        }\n\n        if (clear || (this.autoClear && clear !== false)) {\n            // Ensure depth buffer writing is enabled so it can be cleared\n            if (this.depth && (!target || target.depth)) {\n                this.enable(this.gl.DEPTH_TEST);\n                this.setDepthMask(true);\n            }\n            this.gl.clear(\n                (this.color ? this.gl.COLOR_BUFFER_BIT : 0) |\n                    (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) |\n                    (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0)\n            );\n        }\n\n        // updates all scene graph matrices\n        if (update) scene.updateMatrixWorld();\n\n        // Update camera separately, in case not in scene graph\n        if (camera) camera.updateMatrixWorld();\n\n        // Get render list - entails culling and sorting\n        const renderList = this.getRenderList({ scene, camera, frustumCull, sort });\n\n        renderList.forEach((node) => {\n            node.draw({ camera });\n        });\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    let len = x * x + y * y + z * z + w * w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    let aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n}\n", "import * as vec4 from './Vec4Func.js';\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n    rad = rad * 0.5;\n    let s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n}\n\n/**\n * Multiplies two quats\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let by = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bz = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    let omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n    }\n    // calculate coefficients\n    if (1.0 - cosom > 0.000001) {\n        // standard case (slerp)\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {\n        // \"from\" and \"to\" quaternions are very close\n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n    let a0 = a[0],\n        a1 = a[1],\n        a2 = a[2],\n        a3 = a[3];\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n    let invDot = dot ? 1.0 / dot : 0;\n\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0 * invDot;\n    out[1] = -a1 * invDot;\n    out[2] = -a2 * invDot;\n    out[3] = a3 * invDot;\n    return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    let fTrace = m[0] + m[4] + m[8];\n    let fRoot;\n\n    if (fTrace > 0.0) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0); // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot; // 1/(4w)\n        out[0] = (m[5] - m[7]) * fRoot;\n        out[1] = (m[6] - m[2]) * fRoot;\n        out[2] = (m[1] - m[3]) * fRoot;\n    } else {\n        // |w| <= 1/2\n        let i = 0;\n        if (m[4] > m[0]) i = 1;\n        if (m[8] > m[i * 3 + i]) i = 2;\n        let j = (i + 1) % 3;\n        let k = (i + 2) % 3;\n\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n    }\n\n    return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} euler Angles to rotate around each axis in degrees.\n * @param {String} order detailing order of operations. Default 'XYZ'.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, euler, order = 'YXZ') {\n    let sx = Math.sin(euler[0] * 0.5);\n    let cx = Math.cos(euler[0] * 0.5);\n    let sy = Math.sin(euler[1] * 0.5);\n    let cy = Math.cos(euler[1] * 0.5);\n    let sz = Math.sin(euler[2] * 0.5);\n    let cz = Math.cos(euler[2] * 0.5);\n\n    if (order === 'XYZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'YXZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'ZXY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'ZYX') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'YZX') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'XZY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    }\n\n    return out;\n}\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;\n", "import * as QuatFunc from './functions/QuatFunc.js';\n\nexport class Quat extends Array {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        super(x, y, z, w);\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set w(v) {\n        this[3] = v;\n        this.onChange();\n    }\n\n    identity() {\n        QuatFunc.identity(this);\n        this.onChange();\n        return this;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        QuatFunc.set(this, x, y, z, w);\n        this.onChange();\n        return this;\n    }\n\n    rotateX(a) {\n        QuatFunc.rotateX(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateY(a) {\n        QuatFunc.rotateY(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateZ(a) {\n        QuatFunc.rotateZ(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    inverse(q = this) {\n        QuatFunc.invert(this, q);\n        this.onChange();\n        return this;\n    }\n\n    conjugate(q = this) {\n        QuatFunc.conjugate(this, q);\n        this.onChange();\n        return this;\n    }\n\n    copy(q) {\n        QuatFunc.copy(this, q);\n        this.onChange();\n        return this;\n    }\n\n    normalize(q = this) {\n        QuatFunc.normalize(this, q);\n        this.onChange();\n        return this;\n    }\n\n    multiply(qA, qB) {\n        if (qB) {\n            QuatFunc.multiply(this, qA, qB);\n        } else {\n            QuatFunc.multiply(this, this, qA);\n        }\n        this.onChange();\n        return this;\n    }\n\n    dot(v) {\n        return QuatFunc.dot(this, v);\n    }\n\n    fromMatrix3(matrix3) {\n        QuatFunc.fromMat3(this, matrix3);\n        this.onChange();\n        return this;\n    }\n\n    fromEuler(euler) {\n        QuatFunc.fromEuler(this, euler, euler.order);\n        return this;\n    }\n\n    fromAxisAngle(axis, a) {\n        QuatFunc.setAxisAngle(this, axis, a);\n        return this;\n    }\n\n    slerp(q, t) {\n        QuatFunc.slerp(this, this, q, t);\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        return a;\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n}\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a03 = a[3];\n        let a12 = a[6],\n            a13 = a[7];\n        let a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    let b0 = b[0],\n        b1 = b[1],\n        b2 = b[2],\n        b3 = b[3];\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n    return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0];\n        a01 = a[1];\n        a02 = a[2];\n        a03 = a[3];\n        a10 = a[4];\n        a11 = a[5];\n        a12 = a[6];\n        a13 = a[7];\n        a20 = a[8];\n        a21 = a[9];\n        a22 = a[10];\n        a23 = a[11];\n\n        out[0] = a00;\n        out[1] = a01;\n        out[2] = a02;\n        out[3] = a03;\n        out[4] = a10;\n        out[5] = a11;\n        out[6] = a12;\n        out[7] = a13;\n        out[8] = a20;\n        out[9] = a21;\n        out[10] = a22;\n        out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n    let x = axis[0],\n        y = axis[1],\n        z = axis[2];\n    let len = Math.hypot(x, y, z);\n    let s, c, t;\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n    let b00, b01, b02;\n    let b10, b11, b12;\n    let b20, b21, b22;\n\n    if (Math.abs(len) < EPSILON) {\n        return null;\n    }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c;\n    b01 = y * x * t + z * s;\n    b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s;\n    b11 = y * y * t + c;\n    b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s;\n    b21 = y * z * t - x * s;\n    b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) {\n        // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n    out[0] = mat[12];\n    out[1] = mat[13];\n    out[2] = mat[14];\n\n    return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    out[0] = Math.hypot(m11, m12, m13);\n    out[1] = Math.hypot(m21, m22, m23);\n    out[2] = Math.hypot(m31, m32, m33);\n\n    return out;\n}\n\nexport function getMaxScaleOnAxis(mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\n\n    return Math.sqrt(Math.max(x, y, z));\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport const getRotation = (function () {\n    const temp = [0, 0, 0];\n\n    return function (out, mat) {\n        let scaling = temp;\n        getScaling(scaling, mat);\n\n        let is1 = 1 / scaling[0];\n        let is2 = 1 / scaling[1];\n        let is3 = 1 / scaling[2];\n\n        let sm11 = mat[0] * is1;\n        let sm12 = mat[1] * is2;\n        let sm13 = mat[2] * is3;\n        let sm21 = mat[4] * is1;\n        let sm22 = mat[5] * is2;\n        let sm23 = mat[6] * is3;\n        let sm31 = mat[8] * is1;\n        let sm32 = mat[9] * is2;\n        let sm33 = mat[10] * is3;\n\n        let trace = sm11 + sm22 + sm33;\n        let S = 0;\n\n        if (trace > 0) {\n            S = Math.sqrt(trace + 1.0) * 2;\n            out[3] = 0.25 * S;\n            out[0] = (sm23 - sm32) / S;\n            out[1] = (sm31 - sm13) / S;\n            out[2] = (sm12 - sm21) / S;\n        } else if (sm11 > sm22 && sm11 > sm33) {\n            S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n            out[3] = (sm23 - sm32) / S;\n            out[0] = 0.25 * S;\n            out[1] = (sm12 + sm21) / S;\n            out[2] = (sm31 + sm13) / S;\n        } else if (sm22 > sm33) {\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n            out[3] = (sm31 - sm13) / S;\n            out[0] = (sm12 + sm21) / S;\n            out[1] = 0.25 * S;\n            out[2] = (sm23 + sm32) / S;\n        } else {\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n            out[3] = (sm12 - sm21) / S;\n            out[0] = (sm31 + sm13) / S;\n            out[1] = (sm23 + sm32) / S;\n            out[2] = 0.25 * S;\n        }\n\n        return out;\n    };\n})();\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n    // Quaternion math\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let xy = x * y2;\n    let xz = x * z2;\n    let yy = y * y2;\n    let yz = y * z2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n    let sx = s[0];\n    let sy = s[1];\n    let sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n    let f = 1.0 / Math.tan(fovy / 2);\n    let nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 2 * far * near * nf;\n    out[15] = 0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n    let lr = 1 / (left - right);\n    let bt = 1 / (bottom - top);\n    let nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} target Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n    let eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2];\n\n    let z0 = eyex - target[0],\n        z1 = eyey - target[1],\n        z2 = eyez - target[2];\n\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\n    if (len === 0) {\n        // eye and target are in the same position\n        z2 = 1;\n    } else {\n        len = 1 / Math.sqrt(len);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n    }\n\n    let x0 = upy * z2 - upz * z1,\n        x1 = upz * z0 - upx * z2,\n        x2 = upx * z1 - upy * z0;\n\n    len = x0 * x0 + x1 * x1 + x2 * x2;\n    if (len === 0) {\n        // up and z are parallel\n        if (upz) {\n            upx += 1e-6;\n        } else if (upy) {\n            upz += 1e-6;\n        } else {\n            upy += 1e-6;\n        }\n        (x0 = upy * z2 - upz * z1), (x1 = upz * z0 - upx * z2), (x2 = upx * z1 - upy * z0);\n\n        len = x0 * x0 + x1 * x1 + x2 * x2;\n    }\n\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n\n    out[0] = x0;\n    out[1] = x1;\n    out[2] = x2;\n    out[3] = 0;\n    out[4] = z1 * x2 - z2 * x1;\n    out[5] = z2 * x0 - z0 * x2;\n    out[6] = z0 * x1 - z1 * x0;\n    out[7] = 0;\n    out[8] = z0;\n    out[9] = z1;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = eyex;\n    out[13] = eyey;\n    out[14] = eyez;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    out[9] = a[9] + b[9];\n    out[10] = a[10] + b[10];\n    out[11] = a[11] + b[11];\n    out[12] = a[12] + b[12];\n    out[13] = a[13] + b[13];\n    out[14] = a[14] + b[14];\n    out[15] = a[15] + b[15];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    out[9] = a[9] - b[9];\n    out[10] = a[10] - b[10];\n    out[11] = a[11] - b[11];\n    out[12] = a[12] - b[12];\n    out[13] = a[13] - b[13];\n    out[14] = a[14] - b[14];\n    out[15] = a[15] - b[15];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    out[9] = a[9] * b;\n    out[10] = a[10] * b;\n    out[11] = a[11] * b;\n    out[12] = a[12] * b;\n    out[13] = a[13] * b;\n    out[14] = a[14] * b;\n    out[15] = a[15] * b;\n    return out;\n}\n", "import * as Mat4Func from './functions/Mat4Func.js';\n\nexport class Mat4 extends Array {\n    constructor(\n        m00 = 1,\n        m01 = 0,\n        m02 = 0,\n        m03 = 0,\n        m10 = 0,\n        m11 = 1,\n        m12 = 0,\n        m13 = 0,\n        m20 = 0,\n        m21 = 0,\n        m22 = 1,\n        m23 = 0,\n        m30 = 0,\n        m31 = 0,\n        m32 = 0,\n        m33 = 1\n    ) {\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    get x() {\n        return this[12];\n    }\n\n    get y() {\n        return this[13];\n    }\n\n    get z() {\n        return this[14];\n    }\n\n    get w() {\n        return this[15];\n    }\n\n    set x(v) {\n        this[12] = v;\n    }\n\n    set y(v) {\n        this[13] = v;\n    }\n\n    set z(v) {\n        this[14] = v;\n    }\n\n    set w(v) {\n        this[15] = v;\n    }\n\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n        if (m00.length) return this.copy(m00);\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat4Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, axis, m = this) {\n        Mat4Func.rotate(this, m, v, axis);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat4Func.scale(this, m, typeof v === 'number' ? [v, v, v] : v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat4Func.multiply(this, ma, mb);\n        } else {\n            Mat4Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat4Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat4Func.copy(this, m);\n        return this;\n    }\n\n    fromPerspective({ fov, aspect, near, far } = {}) {\n        Mat4Func.perspective(this, fov, aspect, near, far);\n        return this;\n    }\n\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat4Func.fromQuat(this, q);\n        return this;\n    }\n\n    setPosition(v) {\n        this.x = v[0];\n        this.y = v[1];\n        this.z = v[2];\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat4Func.invert(this, m);\n        return this;\n    }\n\n    compose(q, pos, scale) {\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\n        return this;\n    }\n\n    getRotation(q) {\n        Mat4Func.getRotation(q, this);\n        return this;\n    }\n\n    getTranslation(pos) {\n        Mat4Func.getTranslation(pos, this);\n        return this;\n    }\n\n    getScaling(scale) {\n        Mat4Func.getScaling(scale, this);\n        return this;\n    }\n\n    getMaxScaleOnAxis() {\n        return Mat4Func.getMaxScaleOnAxis(this);\n    }\n\n    lookAt(eye, target, up) {\n        Mat4Func.targetTo(this, eye, target, up);\n        return this;\n    }\n\n    determinant() {\n        return Mat4Func.determinant(this);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        this[4] = a[o + 4];\n        this[5] = a[o + 5];\n        this[6] = a[o + 6];\n        this[7] = a[o + 7];\n        this[8] = a[o + 8];\n        this[9] = a[o + 9];\n        this[10] = a[o + 10];\n        this[11] = a[o + 11];\n        this[12] = a[o + 12];\n        this[13] = a[o + 13];\n        this[14] = a[o + 14];\n        this[15] = a[o + 15];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        a[o + 4] = this[4];\n        a[o + 5] = this[5];\n        a[o + 6] = this[6];\n        a[o + 7] = this[7];\n        a[o + 8] = this[8];\n        a[o + 9] = this[9];\n        a[o + 10] = this[10];\n        a[o + 11] = this[11];\n        a[o + 12] = this[12];\n        a[o + 13] = this[13];\n        a[o + 14] = this[14];\n        a[o + 15] = this[15];\n        return a;\n    }\n}\n", "// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\n    if (order === 'XYZ') {\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\n        if (Math.abs(m[8]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[2] = Math.atan2(-m[4], m[0]);\n        } else {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[2] = 0;\n        }\n    } else if (order === 'YXZ') {\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\n        if (Math.abs(m[9]) < 0.99999) {\n            out[1] = Math.atan2(m[8], m[10]);\n            out[2] = Math.atan2(m[1], m[5]);\n        } else {\n            out[1] = Math.atan2(-m[2], m[0]);\n            out[2] = 0;\n        }\n    } else if (order === 'ZXY') {\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\n        if (Math.abs(m[6]) < 0.99999) {\n            out[1] = Math.atan2(-m[2], m[10]);\n            out[2] = Math.atan2(-m[4], m[5]);\n        } else {\n            out[1] = 0;\n            out[2] = Math.atan2(m[1], m[0]);\n        }\n    } else if (order === 'ZYX') {\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\n        if (Math.abs(m[2]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[10]);\n            out[2] = Math.atan2(m[1], m[0]);\n        } else {\n            out[0] = 0;\n            out[2] = Math.atan2(-m[4], m[5]);\n        }\n    } else if (order === 'YZX') {\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\n        if (Math.abs(m[1]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[5]);\n            out[1] = Math.atan2(-m[2], m[0]);\n        } else {\n            out[0] = 0;\n            out[1] = Math.atan2(m[8], m[10]);\n        }\n    } else if (order === 'XZY') {\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\n        if (Math.abs(m[4]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[1] = Math.atan2(m[8], m[0]);\n        } else {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[1] = 0;\n        }\n    }\n\n    return out;\n}\n", "import * as EulerFunc from './functions/EulerFunc.js';\nimport { Mat4 } from './Mat4.js';\n\nconst tmpMat4 = new Mat4();\n\nexport class Euler extends Array {\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\n        super(x, y, z);\n        this.order = order;\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        this[0] = x;\n        this[1] = y;\n        this[2] = z;\n        this.onChange();\n        return this;\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        this.onChange();\n        return this;\n    }\n\n    reorder(order) {\n        this.order = order;\n        this.onChange();\n        return this;\n    }\n\n    fromRotationMatrix(m, order = this.order) {\n        EulerFunc.fromRotationMatrix(this, m, order);\n        return this;\n    }\n\n    fromQuaternion(q, order = this.order) {\n        tmpMat4.fromQuaternion(q);\n        return this.fromRotationMatrix(tmpMat4, order);\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n}\n", "import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Euler } from '../math/Euler.js';\n\nexport class Transform {\n    constructor() {\n        this.parent = null;\n        this.children = [];\n        this.visible = true;\n\n        this.matrix = new Mat4();\n        this.worldMatrix = new Mat4();\n        this.matrixAutoUpdate = true;\n\n        this.position = new Vec3();\n        this.quaternion = new Quat();\n        this.scale = new Vec3(1);\n        this.rotation = new Euler();\n        this.up = new Vec3(0, 1, 0);\n\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    setParent(parent, notifyParent = true) {\n        if (this.parent && parent !== this.parent) this.parent.removeChild(this, false);\n        this.parent = parent;\n        if (notifyParent && parent) parent.addChild(this, false);\n    }\n\n    addChild(child, notifyChild = true) {\n        if (!~this.children.indexOf(child)) this.children.push(child);\n        if (notifyChild) child.setParent(this, false);\n    }\n\n    removeChild(child, notifyChild = true) {\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\n        if (notifyChild) child.setParent(null, false);\n    }\n\n    updateMatrixWorld(force) {\n        if (this.matrixAutoUpdate) this.updateMatrix();\n        if (this.worldMatrixNeedsUpdate || force) {\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\n            this.worldMatrixNeedsUpdate = false;\n            force = true;\n        }\n\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].updateMatrixWorld(force);\n        }\n    }\n\n    updateMatrix() {\n        this.matrix.compose(this.quaternion, this.position, this.scale);\n        this.worldMatrixNeedsUpdate = true;\n    }\n\n    traverse(callback) {\n        // Return true in callback to stop traversing children\n        if (callback(this)) return;\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].traverse(callback);\n        }\n    }\n\n    decompose() {\n        this.matrix.getTranslation(this.position);\n        this.matrix.getRotation(this.quaternion);\n        this.matrix.getScaling(this.scale);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    lookAt(target, invert = false) {\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\n        else this.matrix.lookAt(target, this.position, this.up);\n        this.matrix.getRotation(this.quaternion);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n}\n", "import { Transform } from './Transform.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempMat4 = new Mat4();\nconst tempVec3a = new Vec3();\nconst tempVec3b = new Vec3();\n\nexport class Camera extends Transform {\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\n        super();\n\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\n\n        this.projectionMatrix = new Mat4();\n        this.viewMatrix = new Mat4();\n        this.projectionViewMatrix = new Mat4();\n        this.worldPosition = new Vec3();\n\n        // Use orthographic if left/right set, else default to perspective camera\n        this.type = left || right ? 'orthographic' : 'perspective';\n\n        if (this.type === 'orthographic') this.orthographic();\n        else this.perspective();\n    }\n\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\n        Object.assign(this, { near, far, fov, aspect });\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\n        this.type = 'perspective';\n        return this;\n    }\n\n    orthographic({\n        near = this.near,\n        far = this.far,\n        left = this.left,\n        right = this.right,\n        bottom = this.bottom,\n        top = this.top,\n        zoom = this.zoom,\n    } = {}) {\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\n        left /= zoom;\n        right /= zoom;\n        bottom /= zoom;\n        top /= zoom;\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\n        this.type = 'orthographic';\n        return this;\n    }\n\n    updateMatrixWorld() {\n        super.updateMatrixWorld();\n        this.viewMatrix.inverse(this.worldMatrix);\n        this.worldMatrix.getTranslation(this.worldPosition);\n\n        // used for sorting\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\n        return this;\n    }\n\n    lookAt(target) {\n        super.lookAt(target, true);\n        return this;\n    }\n\n    // Project 3D coordinate to 2D point\n    project(v) {\n        v.applyMatrix4(this.viewMatrix);\n        v.applyMatrix4(this.projectionMatrix);\n        return this;\n    }\n\n    // Unproject 2D point to 3D coordinate\n    unproject(v) {\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\n        v.applyMatrix4(this.worldMatrix);\n        return this;\n    }\n\n    updateFrustum() {\n        if (!this.frustum) {\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\n        }\n\n        const m = this.projectionViewMatrix;\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\n\n        for (let i = 0; i < 6; i++) {\n            const invLen = 1.0 / this.frustum[i].distance();\n            this.frustum[i].multiply(invLen);\n            this.frustum[i].constant *= invLen;\n        }\n    }\n\n    frustumIntersectsMesh(node) {\n        // If no position attribute, treat as frustumCulled false\n        if (!node.geometry.attributes.position) return true;\n\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\n\n        if (!node.geometry.bounds) return true;\n\n        const center = tempVec3a;\n        center.copy(node.geometry.bounds.center);\n        center.applyMatrix4(node.worldMatrix);\n\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\n\n        return this.frustumIntersectsSphere(center, radius);\n    }\n\n    frustumIntersectsSphere(center, radius) {\n        const normal = tempVec3b;\n\n        for (let i = 0; i < 6; i++) {\n            const plane = this.frustum[i];\n            const distance = normal.copy(plane).dot(center) + plane.constant;\n            if (distance < -radius) return false;\n        }\n        return true;\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n}\n\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m10;\n    out[4] = m11;\n    out[5] = m12;\n    out[6] = m20;\n    out[7] = m21;\n    out[8] = m22;\n    return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b01 = a22 * a11 - a12 * a21;\n    let b11 = -a22 * a10 + a12 * a20;\n    let b21 = a21 * a10 - a11 * a20;\n\n    // Calculate the determinant\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b00 = b[0],\n        b01 = b[1],\n        b02 = b[2];\n    let b10 = b[3],\n        b11 = b[4],\n        b12 = b[5];\n    let b20 = b[6],\n        b21 = b[7],\n        b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        x = v[0],\n        y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n}\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {mat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\nexport function normalFromMat4(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    return out;\n}\n", "import * as Mat3Func from './functions/Mat3Func.js';\n\nexport class Mat3 extends Array {\n    constructor(m00 = 1, m01 = 0, m02 = 0, m10 = 0, m11 = 1, m12 = 0, m20 = 0, m21 = 0, m22 = 1) {\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n        if (m00.length) return this.copy(m00);\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat3Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, m = this) {\n        Mat3Func.rotate(this, m, v);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat3Func.scale(this, m, v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat3Func.multiply(this, ma, mb);\n        } else {\n            Mat3Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat3Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat3Func.copy(this, m);\n        return this;\n    }\n\n    fromMatrix4(m) {\n        Mat3Func.fromMat4(this, m);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat3Func.fromQuat(this, q);\n        return this;\n    }\n\n    fromBasis(vec3a, vec3b, vec3c) {\n        this.set(vec3a[0], vec3a[1], vec3a[2], vec3b[0], vec3b[1], vec3b[2], vec3c[0], vec3c[1], vec3c[2]);\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat3Func.invert(this, m);\n        return this;\n    }\n\n    getNormalMatrix(m) {\n        Mat3Func.normalFromMat4(this, m);\n        return this;\n    }\n}\n", "import { Transform } from './Transform.js';\nimport { Mat3 } from '../math/Mat3.js';\nimport { Mat4 } from '../math/Mat4.js';\n\nlet ID = 0;\n\nexport class Mesh extends Transform {\n    constructor(gl, { geometry, program, mode = gl.TRIANGLES, frustumCulled = true, renderOrder = 0 } = {}) {\n        super();\n        if (!gl.canvas) console.error('gl not passed as first argument to Mesh');\n        this.gl = gl;\n        this.id = ID++;\n        this.geometry = geometry;\n        this.program = program;\n        this.mode = mode;\n\n        // Used to skip frustum culling\n        this.frustumCulled = frustumCulled;\n\n        // Override sorting to force an order\n        this.renderOrder = renderOrder;\n        this.modelViewMatrix = new Mat4();\n        this.normalMatrix = new Mat3();\n        this.beforeRenderCallbacks = [];\n        this.afterRenderCallbacks = [];\n    }\n\n    onBeforeRender(f) {\n        this.beforeRenderCallbacks.push(f);\n        return this;\n    }\n\n    onAfterRender(f) {\n        this.afterRenderCallbacks.push(f);\n        return this;\n    }\n\n    draw({ camera } = {}) {\n        this.beforeRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n        if (camera) {\n            // Add empty matrix uniforms to program if unset\n            if (!this.program.uniforms.modelMatrix) {\n                Object.assign(this.program.uniforms, {\n                    modelMatrix: { value: null },\n                    viewMatrix: { value: null },\n                    modelViewMatrix: { value: null },\n                    normalMatrix: { value: null },\n                    projectionMatrix: { value: null },\n                    cameraPosition: { value: null },\n                });\n            }\n\n            // Set the matrix uniforms\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\n        }\n\n        // determine if faces need to be flipped - when mesh scaled negatively\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\n        this.program.use({ flipFaces });\n        this.geometry.draw({ mode: this.mode, program: this.program });\n        this.afterRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n    }\n}\n", "// TODO: delete texture\n// TODO: use texSubImage2D for updates (video or when loaded)\n// TODO: need? encoding = linearEncoding\n// TODO: support non-compressed mipmaps uploads\n\nconst emptyPixel = new Uint8Array(4);\n\nfunction isPowerOf2(value) {\n    return (value & (value - 1)) === 0;\n}\n\nlet ID = 1;\n\nexport class Texture {\n    constructor(\n        gl,\n        {\n            image,\n            target = gl.TEXTURE_2D,\n            type = gl.UNSIGNED_BYTE,\n            format = gl.RGBA,\n            internalFormat = format,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            generateMipmaps = true,\n            minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\n            magFilter = gl.LINEAR,\n            premultiplyAlpha = false,\n            unpackAlignment = 4,\n            flipY = target == gl.TEXTURE_2D ? true : false,\n            anisotropy = 0,\n            level = 0,\n            width, // used for RenderTargets or Data Textures\n            height = width,\n        } = {}\n    ) {\n        this.gl = gl;\n        this.id = ID++;\n\n        this.image = image;\n        this.target = target;\n        this.type = type;\n        this.format = format;\n        this.internalFormat = internalFormat;\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.generateMipmaps = generateMipmaps;\n        this.premultiplyAlpha = premultiplyAlpha;\n        this.unpackAlignment = unpackAlignment;\n        this.flipY = flipY;\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\n        this.level = level;\n        this.width = width;\n        this.height = height;\n        this.texture = this.gl.createTexture();\n\n        this.store = {\n            image: null,\n        };\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // State store to avoid redundant calls for per-texture state\n        this.state = {};\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\n        this.state.magFilter = this.gl.LINEAR;\n        this.state.wrapS = this.gl.REPEAT;\n        this.state.wrapT = this.gl.REPEAT;\n        this.state.anisotropy = 0;\n    }\n\n    bind() {\n        // Already bound to active texture unit\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\n        this.gl.bindTexture(this.target, this.texture);\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\n    }\n\n    update(textureUnit = 0) {\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\n\n        // Make sure that texture is bound to its texture unit\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\n            // set active texture unit to perform texture functions\n            this.gl.renderer.activeTexture(textureUnit);\n            this.bind();\n        }\n\n        if (!needsUpdate) return;\n        this.needsUpdate = false;\n\n        if (this.flipY !== this.glState.flipY) {\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\n            this.glState.flipY = this.flipY;\n        }\n\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\n        }\n\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\n            this.glState.unpackAlignment = this.unpackAlignment;\n        }\n\n        if (this.minFilter !== this.state.minFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\n            this.state.minFilter = this.minFilter;\n        }\n\n        if (this.magFilter !== this.state.magFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\n            this.state.magFilter = this.magFilter;\n        }\n\n        if (this.wrapS !== this.state.wrapS) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\n            this.state.wrapS = this.wrapS;\n        }\n\n        if (this.wrapT !== this.state.wrapT) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\n            this.state.wrapT = this.wrapT;\n        }\n\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\n            this.gl.texParameterf(\n                this.target,\n                this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT,\n                this.anisotropy\n            );\n            this.state.anisotropy = this.anisotropy;\n        }\n\n        if (this.image) {\n            if (this.image.width) {\n                this.width = this.image.width;\n                this.height = this.image.height;\n            }\n\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n                // For cube maps\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\n                        this.level,\n                        this.internalFormat,\n                        this.format,\n                        this.type,\n                        this.image[i]\n                    );\n                }\n            } else if (ArrayBuffer.isView(this.image)) {\n                // Data texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\n            } else if (this.image.isCompressedTexture) {\n                // Compressed texture\n                for (let level = 0; level < this.image.length; level++) {\n                    this.gl.compressedTexImage2D(\n                        this.target,\n                        level,\n                        this.internalFormat,\n                        this.image[level].width,\n                        this.image[level].height,\n                        0,\n                        this.image[level].data\n                    );\n                }\n            } else {\n                // Regular texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\n            }\n\n            if (this.generateMipmaps) {\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\n                    this.generateMipmaps = false;\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\n                    this.minFilter = this.gl.LINEAR;\n                } else {\n                    this.gl.generateMipmap(this.target);\n                }\n            }\n\n            // Callback for when data is pushed to GPU\n            this.onUpdate && this.onUpdate();\n        } else {\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\n                        0,\n                        this.gl.RGBA,\n                        1,\n                        1,\n                        0,\n                        this.gl.RGBA,\n                        this.gl.UNSIGNED_BYTE,\n                        emptyPixel\n                    );\n                }\n            } else if (this.width) {\n                // image intentionally left null for RenderTarget\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\n            } else {\n                // Upload empty pixel if no image to avoid errors while image or video loading\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\n            }\n        }\n        this.store.image = this.image;\n    }\n}\n", "// TODO: multi target rendering\n// TODO: test stencil and depth\n// TODO: destroy\n// TODO: blit on resize?\nimport { Texture } from './Texture.js';\n\nexport class RenderTarget {\n    constructor(\n        gl,\n        {\n            width = gl.canvas.width,\n            height = gl.canvas.height,\n            target = gl.FRAMEBUFFER,\n            color = 1, // number of color attachments\n            depth = true,\n            stencil = false,\n            depthTexture = false, // note - stencil breaks\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            minFilter = gl.LINEAR,\n            magFilter = minFilter,\n            type = gl.UNSIGNED_BYTE,\n            format = gl.RGBA,\n            internalFormat = format,\n            unpackAlignment,\n            premultiplyAlpha,\n        } = {}\n    ) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.depth = depth;\n        this.buffer = this.gl.createFramebuffer();\n        this.target = target;\n        this.gl.bindFramebuffer(this.target, this.buffer);\n\n        this.textures = [];\n        const drawBuffers = [];\n\n        // create and attach required num of color textures\n        for (let i = 0; i < color; i++) {\n            this.textures.push(\n                new Texture(gl, {\n                    width,\n                    height,\n                    wrapS,\n                    wrapT,\n                    minFilter,\n                    magFilter,\n                    type,\n                    format,\n                    internalFormat,\n                    unpackAlignment,\n                    premultiplyAlpha,\n                    flipY: false,\n                    generateMipmaps: false,\n                })\n            );\n            this.textures[i].update();\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\n        }\n\n        // For multi-render targets shader access\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\n\n        // alias for majority of use cases\n        this.texture = this.textures[0];\n\n        // note depth textures break stencil - so can't use together\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\n            this.depthTexture = new Texture(gl, {\n                width,\n                height,\n                minFilter: this.gl.NEAREST,\n                magFilter: this.gl.NEAREST,\n                format: this.gl.DEPTH_COMPONENT,\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\n                type: this.gl.UNSIGNED_INT,\n            });\n            this.depthTexture.update();\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\n        } else {\n            // Render buffers\n            if (depth && !stencil) {\n                this.depthBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\n            }\n\n            if (stencil && !depth) {\n                this.stencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\n            }\n\n            if (depth && stencil) {\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\n            }\n        }\n\n        this.gl.bindFramebuffer(this.target, null);\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nexport function set(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    var x = a[0],\n        y = a[1];\n    return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nexport function normalize(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x * x + y * y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product returns a scalar\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} cross product of a and b\n */\nexport function cross(a, b) {\n    return a[0] * b[1] - a[1] * b[0];\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nexport function lerp(out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2d(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat3(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0];\n    let y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\n", "import * as Vec2Func from './functions/Vec2Func.js';\n\nexport class Vec2 extends Array {\n    constructor(x = 0, y = x) {\n        super(x, y);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set(x, y = x) {\n        if (x.length) return this.copy(x);\n        Vec2Func.set(this, x, y);\n        return this;\n    }\n\n    copy(v) {\n        Vec2Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec2Func.add(this, va, vb);\n        else Vec2Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec2Func.subtract(this, va, vb);\n        else Vec2Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec2Func.multiply(this, this, v);\n        else Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec2Func.divide(this, this, v);\n        else Vec2Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec2Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec2Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec2Func.distance(this, v);\n        else return Vec2Func.length(this);\n    }\n\n    squaredLen() {\n        return this.squaredDistance();\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec2Func.squaredDistance(this, v);\n        else return Vec2Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec2Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) return Vec2Func.cross(va, vb);\n        return Vec2Func.cross(this, va);\n    }\n\n    scale(v) {\n        Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec2Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec2Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec2Func.exactEquals(this, v);\n    }\n\n    applyMatrix3(mat3) {\n        Vec2Func.transformMat3(this, this, mat3);\n        return this;\n    }\n\n    applyMatrix4(mat4) {\n        Vec2Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    lerp(v, a) {\n        Vec2Func.lerp(this, this, v, a);\n    }\n\n    clone() {\n        return new Vec2(this[0], this[1]);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        return a;\n    }\n}\n", "import { Geometry } from '../core/Geometry.js';\n\nexport class Triangle extends Geometry {\n    constructor(gl, { attributes = {} } = {}) {\n        Object.assign(attributes, {\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\n        });\n\n        super(gl, attributes);\n    }\n}\n", "// TODO: Destroy render targets if size changed and exists\n\nimport { Program } from '../core/Program.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { RenderTarget } from '../core/RenderTarget.js';\nimport { Triangle } from './Triangle.js';\n\nexport class Post {\n    constructor(\n        gl,\n        {\n            width,\n            height,\n            dpr,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            minFilter = gl.LINEAR,\n            magFilter = gl.LINEAR,\n            geometry = new Triangle(gl),\n            targetOnly = null,\n        } = {}\n    ) {\n        this.gl = gl;\n\n        this.options = { wrapS, wrapT, minFilter, magFilter };\n\n        this.passes = [];\n\n        this.geometry = geometry;\n\n        this.uniform = { value: null };\n        this.targetOnly = targetOnly;\n\n        const fbo = (this.fbo = {\n            read: null,\n            write: null,\n            swap: () => {\n                let temp = fbo.read;\n                fbo.read = fbo.write;\n                fbo.write = temp;\n            },\n        });\n\n        this.resize({ width, height, dpr });\n    }\n\n    addPass({ vertex = defaultVertex, fragment = defaultFragment, uniforms = {}, textureUniform = 'tMap', enabled = true } = {}) {\n        uniforms[textureUniform] = { value: this.fbo.read.texture };\n\n        const program = new Program(this.gl, { vertex, fragment, uniforms });\n        const mesh = new Mesh(this.gl, { geometry: this.geometry, program });\n\n        const pass = {\n            mesh,\n            program,\n            uniforms,\n            enabled,\n            textureUniform,\n        };\n\n        this.passes.push(pass);\n        return pass;\n    }\n\n    resize({ width, height, dpr } = {}) {\n        if (dpr) this.dpr = dpr;\n        if (width) {\n            this.width = width;\n            this.height = height || width;\n        }\n\n        dpr = this.dpr || this.gl.renderer.dpr;\n        width = Math.floor((this.width || this.gl.renderer.width) * dpr);\n        height = Math.floor((this.height || this.gl.renderer.height) * dpr);\n\n        this.options.width = width;\n        this.options.height = height;\n\n        this.fbo.read = new RenderTarget(this.gl, this.options);\n        this.fbo.write = new RenderTarget(this.gl, this.options);\n    }\n\n    // Uses same arguments as renderer.render, with addition of optional texture passed in to avoid scene render\n    render({ scene, camera, texture, target = null, update = true, sort = true, frustumCull = true }) {\n        const enabledPasses = this.passes.filter((pass) => pass.enabled);\n\n        if (!texture) {\n            this.gl.renderer.render({\n                scene,\n                camera,\n                target: enabledPasses.length || (!target && this.targetOnly) ? this.fbo.write : target,\n                update,\n                sort,\n                frustumCull,\n            });\n            this.fbo.swap();\n        }\n\n        enabledPasses.forEach((pass, i) => {\n            pass.mesh.program.uniforms[pass.textureUniform].value = !i && texture ? texture : this.fbo.read.texture;\n            this.gl.renderer.render({\n                scene: pass.mesh,\n                target: i === enabledPasses.length - 1 && (target || !this.targetOnly) ? target : this.fbo.write,\n                clear: true,\n            });\n            this.fbo.swap();\n        });\n\n        this.uniform.value = this.fbo.read.texture;\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n`;\n", "import { Program } from '../core/Program.js';\n\nconst vertex = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    attribute vec3 position;\n    attribute vec3 normal;\n\n    uniform mat3 normalMatrix;\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    varying vec3 vNormal;\n\n    void main() {\n        vNormal = normalize(normalMatrix * normal);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n\nconst fragment = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    varying vec3 vNormal;\n\n    void main() {\n        gl_FragColor.rgb = normalize(vNormal);\n        gl_FragColor.a = 1.0;\n    }\n`;\n\nexport function NormalProgram(gl) {\n    return new Program(gl, {\n        vertex: vertex,\n        fragment: fragment,\n        cullFace: null,\n    });\n}\n", "import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\n\nconst tmpVec3A = new Vec3();\nconst tmpVec3B = new Vec3();\nconst tmpVec3C = new Vec3();\nconst tmpVec3D = new Vec3();\n\nconst tmpQuatA = new Quat();\nconst tmpQuatB = new Quat();\nconst tmpQuatC = new Quat();\nconst tmpQuatD = new Quat();\n\nexport class GLTFAnimation {\n    constructor(data, weight = 1) {\n        this.data = data;\n        this.elapsed = 0;\n        this.weight = weight;\n\n        // Set to false to not apply modulo to elapsed against duration\n        this.loop = true;\n\n        // Find starting time as exports from blender (perhaps others too) don't always start from 0\n        this.startTime = data.reduce((a, { times }) => Math.min(a, times[0]), Infinity);\n        // Get largest final time in all channels to calculate duration\n        this.endTime = data.reduce((a, { times }) => Math.max(a, times[times.length - 1]), 0);\n        this.duration = this.endTime - this.startTime;\n    }\n\n    update(totalWeight = 1, isSet) {\n        const weight = isSet ? 1 : this.weight / totalWeight;\n        const elapsed = (this.loop ? this.elapsed % this.duration : Math.min(this.elapsed, this.duration - 0.001)) + this.startTime;\n\n        this.data.forEach(({ node, transform, interpolation, times, values }) => {\n            // Get index of two time values elapsed is between\n            const prevIndex =\n                Math.max(\n                    1,\n                    times.findIndex((t) => t > elapsed)\n                ) - 1;\n            const nextIndex = prevIndex + 1;\n\n            // Get linear blend/alpha between the two\n            let alpha = (elapsed - times[prevIndex]) / (times[nextIndex] - times[prevIndex]);\n            if (interpolation === 'STEP') alpha = 0;\n\n            let prevVal = tmpVec3A;\n            let prevTan = tmpVec3B;\n            let nextTan = tmpVec3C;\n            let nextVal = tmpVec3D;\n            let size = 3;\n\n            if (transform === 'quaternion') {\n                prevVal = tmpQuatA;\n                prevTan = tmpQuatB;\n                nextTan = tmpQuatC;\n                nextVal = tmpQuatD;\n                size = 4;\n            }\n\n            if (interpolation === 'CUBICSPLINE') {\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size * 3 + size * 1);\n                prevTan.fromArray(values, prevIndex * size * 3 + size * 2);\n                nextTan.fromArray(values, nextIndex * size * 3 + size * 0);\n                nextVal.fromArray(values, nextIndex * size * 3 + size * 1);\n\n                // interpolate for final value\n                prevVal = this.cubicSplineInterpolate(alpha, prevVal, prevTan, nextTan, nextVal);\n                if (size === 4) prevVal.normalize();\n            } else {\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size);\n                nextVal.fromArray(values, nextIndex * size);\n\n                // interpolate for final value\n                if (size === 4) prevVal.slerp(nextVal, alpha);\n                else prevVal.lerp(nextVal, alpha);\n            }\n\n            // interpolate between multiple possible animations\n            if (size === 4) node[transform].slerp(prevVal, weight);\n            else node[transform].lerp(prevVal, weight);\n        });\n    }\n\n    cubicSplineInterpolate(t, prevVal, prevTan, nextTan, nextVal) {\n        const t2 = t * t;\n        const t3 = t2 * t;\n\n        const s2 = 3 * t2 - 2 * t3;\n        const s3 = t3 - t2;\n        const s0 = 1 - s2;\n        const s1 = s3 - t2 + t;\n\n        for (let i = 0; i < prevVal.length; i++) {\n            prevVal[i] = s0 * prevVal[i] + s1 * (1 - t) * prevTan[i] + s2 * nextVal[i] + s3 * t * nextTan[i];\n        }\n\n        return prevVal;\n    }\n}\n", "import { Mesh } from '../core/Mesh.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Texture } from '../core/Texture.js';\n\nconst tempMat4 = new Mat4();\nconst identity = new Mat4();\n\nexport class GLTFSkin extends Mesh {\n    constructor(gl, { skeleton, geometry, program, mode = gl.TRIANGLES } = {}) {\n        super(gl, { geometry, program, mode });\n        this.skeleton = skeleton;\n        this.program = program;\n        this.createBoneTexture();\n        this.animations = [];\n    }\n\n    createBoneTexture() {\n        if (!this.skeleton.joints.length) return;\n        const size = Math.max(4, Math.pow(2, Math.ceil(Math.log(Math.sqrt(this.skeleton.joints.length * 4)) / Math.LN2)));\n        this.boneMatrices = new Float32Array(size * size * 4);\n        this.boneTextureSize = size;\n        this.boneTexture = new Texture(this.gl, {\n            image: this.boneMatrices,\n            generateMipmaps: false,\n            type: this.gl.FLOAT,\n            internalFormat: this.gl.renderer.isWebgl2 ? this.gl.RGBA32F : this.gl.RGBA,\n            minFilter: this.gl.NEAREST,\n            magFilter: this.gl.NEAREST,\n            flipY: false,\n            width: size,\n        });\n    }\n\n    // addAnimation(data) {\n    //     const animation = new Animation({ objects: this.bones, data });\n    //     this.animations.push(animation);\n    //     return animation;\n    // }\n\n    // updateAnimations() {\n    //     // Calculate combined animation weight\n    //     let total = 0;\n    //     this.animations.forEach((animation) => (total += animation.weight));\n\n    //     this.animations.forEach((animation, i) => {\n    //         // force first animation to set in order to reset frame\n    //         animation.update(total, i === 0);\n    //     });\n    // }\n\n    updateUniforms() {\n        // Update bone texture\n        this.skeleton.joints.forEach((bone, i) => {\n            // Find difference between current and bind pose\n            tempMat4.multiply(bone.worldMatrix, bone.bindInverse);\n            this.boneMatrices.set(tempMat4, i * 16);\n        });\n        if (this.boneTexture) this.boneTexture.needsUpdate = true;\n    }\n\n    draw({ camera } = {}) {\n        if (!this.program.uniforms.boneTexture) {\n            Object.assign(this.program.uniforms, {\n                boneTexture: { value: this.boneTexture },\n                boneTextureSize: { value: this.boneTextureSize },\n            });\n        }\n\n        this.updateUniforms();\n\n        // Switch the world matrix with identity to ignore any transforms\n        // on the mesh itself - only use skeleton's transforms\n        const _worldMatrix = this.worldMatrix;\n        this.worldMatrix = identity;\n\n        super.draw({ camera });\n\n        // Switch back to leave identity untouched\n        this.worldMatrix = _worldMatrix;\n    }\n}\n", "import { Geometry } from '../core/Geometry.js';\nimport { Transform } from '../core/Transform.js';\nimport { Texture } from '../core/Texture.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { GLTFAnimation } from './GLTFAnimation.js';\nimport { GLTFSkin } from './GLTFSkin.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { NormalProgram } from './NormalProgram.js';\n\n// Supports\n// [x] Geometry\n// [ ] Sparse support\n// [x] Nodes and Hierarchy\n// [x] Instancing\n// [ ] Morph Targets\n// [x] Skins\n// [ ] Materials\n// [x] Textures\n// [x] Animation\n// [ ] Cameras\n// [ ] Extensions\n// [x] GLB support\n\n// TODO: Sparse accessor packing? For morph targets basically\n// TODO: init accessor missing bufferView with 0s\n// TODO: morph target animations\n// TODO: what to do if multiple instances are in different groups? Only uses local matrices\n// TODO: what if instancing isn't wanted? Eg collision maps\n// TODO: ie11 fallback for TextDecoder?\n\nconst TYPE_ARRAY = {\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array,\n    'image/jpeg': Uint8Array,\n    'image/png': Uint8Array,\n};\n\nconst TYPE_SIZE = {\n    SCALAR: 1,\n    VEC2: 2,\n    VEC3: 3,\n    VEC4: 4,\n    MAT2: 4,\n    MAT3: 9,\n    MAT4: 16,\n};\n\nconst ATTRIBUTES = {\n    POSITION: 'position',\n    NORMAL: 'normal',\n    TANGENT: 'tangent',\n    TEXCOORD_0: 'uv',\n    TEXCOORD_1: 'uv2',\n    COLOR_0: 'color',\n    WEIGHTS_0: 'skinWeight',\n    JOINTS_0: 'skinIndex',\n};\n\nconst TRANSFORMS = {\n    translation: 'position',\n    rotation: 'quaternion',\n    scale: 'scale',\n};\n\nexport class GLTFLoader {\n    static async load(gl, src) {\n        const dir = src.split('/').slice(0, -1).join('/') + '/';\n\n        // load main description json\n        const desc = await this.parseDesc(src);\n\n        return await this.parse(gl, desc, dir);\n    }\n\n    static async parse(gl, desc, dir) {\n        if (desc.asset === undefined || desc.asset.version[0] < 2) console.warn('Only GLTF >=2.0 supported. Attempting to parse.');\n\n        // Load buffers async\n        const buffers = await this.loadBuffers(desc, dir);\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        gl.renderer.bindVertexArray(null);\n\n        // Create gl buffers from bufferViews\n        const bufferViews = this.parseBufferViews(gl, desc, buffers);\n\n        // Create images from either bufferViews or separate image files\n        const images = this.parseImages(gl, desc, dir, bufferViews);\n\n        const textures = this.parseTextures(gl, desc, images);\n\n        // Just pass through material data for now\n        const materials = this.parseMaterials(gl, desc, textures);\n\n        // Fetch the inverse bind matrices for skeleton joints\n        const skins = this.parseSkins(gl, desc, bufferViews);\n\n        // Create geometries for each mesh primitive\n        const meshes = this.parseMeshes(gl, desc, bufferViews, materials, skins);\n\n        // Create transforms, meshes and hierarchy\n        const nodes = this.parseNodes(gl, desc, meshes, skins);\n\n        // Place nodes in skeletons\n        this.populateSkins(skins, nodes);\n\n        // Create animation handlers\n        const animations = this.parseAnimations(gl, desc, nodes, bufferViews);\n\n        // Get top level nodes for each scene\n        const scenes = this.parseScenes(desc, nodes);\n        const scene = scenes[desc.scene];\n\n        // Remove null nodes (instanced transforms)\n        for (let i = nodes.length; i >= 0; i--) if (!nodes[i]) nodes.splice(i, 1);\n\n        return {\n            json: desc,\n            buffers,\n            bufferViews,\n            images,\n            textures,\n            materials,\n            meshes,\n            nodes,\n            animations,\n            scenes,\n            scene,\n        };\n    }\n\n    static async parseDesc(src) {\n        if (!src.match(/\\.glb$/)) {\n            return await fetch(src).then((res) => res.json());\n        } else {\n            return await fetch(src)\n                .then((res) => res.arrayBuffer())\n                .then((glb) => this.unpackGLB(glb));\n        }\n    }\n\n    // From https://github.com/donmccurdy/glTF-Transform/blob/e4108cc/packages/core/src/io/io.ts#L32\n    static unpackGLB(glb) {\n        // Decode and verify GLB header.\n        const header = new Uint32Array(glb, 0, 3);\n        if (header[0] !== 0x46546c67) {\n            throw new Error('Invalid glTF asset.');\n        } else if (header[1] !== 2) {\n            throw new Error(`Unsupported glTF binary version, \"${header[1]}\".`);\n        }\n        // Decode and verify chunk headers.\n        const jsonChunkHeader = new Uint32Array(glb, 12, 2);\n        const jsonByteOffset = 20;\n        const jsonByteLength = jsonChunkHeader[0];\n        if (jsonChunkHeader[1] !== 0x4e4f534a) {\n            throw new Error('Unexpected GLB layout.');\n        }\n\n        // Decode JSON.\n        const jsonText = new TextDecoder().decode(glb.slice(jsonByteOffset, jsonByteOffset + jsonByteLength));\n        const json = JSON.parse(jsonText);\n        // JSON only\n        if (jsonByteOffset + jsonByteLength === glb.byteLength) return json;\n\n        const binaryChunkHeader = new Uint32Array(glb, jsonByteOffset + jsonByteLength, 2);\n        if (binaryChunkHeader[1] !== 0x004e4942) {\n            throw new Error('Unexpected GLB layout.');\n        }\n        // Decode content.\n        const binaryByteOffset = jsonByteOffset + jsonByteLength + 8;\n        const binaryByteLength = binaryChunkHeader[0];\n        const binary = glb.slice(binaryByteOffset, binaryByteOffset + binaryByteLength);\n        // Attach binary to buffer\n        json.buffers[0].binary = binary;\n        return json;\n    }\n\n    // Threejs GLTF Loader https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/GLTFLoader.js#L1085\n    static resolveURI(uri, dir) {\n        // Invalid URI\n        if (typeof uri !== 'string' || uri === '') return '';\n\n        // Host Relative URI\n        if (/^https?:\\/\\//i.test(dir) && /^\\//.test(uri)) {\n            dir = dir.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n        }\n\n        // Absolute URI http://, https://, //\n        if (/^(https?:)?\\/\\//i.test(uri)) return uri;\n\n        // Data URI\n        if (/^data:.*,.*$/i.test(uri)) return uri;\n\n        // Blob URI\n        if (/^blob:.*$/i.test(uri)) return uri;\n\n        // Relative URI\n        return dir + uri;\n    }\n\n    static async loadBuffers(desc, dir) {\n        if (!desc.buffers) return null;\n        return await Promise.all(\n            desc.buffers.map((buffer) => {\n                // For GLB, binary buffer ready to go\n                if (buffer.binary) return buffer.binary;\n                const uri = this.resolveURI(buffer.uri, dir);\n                return fetch(uri).then((res) => res.arrayBuffer());\n            })\n        );\n    }\n\n    static parseBufferViews(gl, desc, buffers) {\n        if (!desc.bufferViews) return null;\n        // Clone to leave description pure\n        const bufferViews = desc.bufferViews.map((o) => Object.assign({}, o));\n\n        desc.meshes &&\n            desc.meshes.forEach(({ primitives }) => {\n                primitives.forEach(({ attributes, indices }) => {\n                    // Flag bufferView as an attribute, so it knows to create a gl buffer\n                    for (let attr in attributes) bufferViews[desc.accessors[attributes[attr]].bufferView].isAttribute = true;\n\n                    if (indices === undefined) return;\n                    bufferViews[desc.accessors[indices].bufferView].isAttribute = true;\n\n                    // Make sure indices bufferView have a target property for gl buffer binding\n                    bufferViews[desc.accessors[indices].bufferView].target = gl.ELEMENT_ARRAY_BUFFER;\n                });\n            });\n\n        // Get componentType of each bufferView from the accessors\n        desc.accessors.forEach(({ bufferView: i, componentType }) => {\n            bufferViews[i].componentType = componentType;\n        });\n\n        // Get mimetype of bufferView from images\n        desc.images &&\n            desc.images.forEach(({ uri, bufferView: i, mimeType }) => {\n                if (i === undefined) return;\n                bufferViews[i].mimeType = mimeType;\n            });\n\n        // Push each bufferView to the GPU as a separate buffer\n        bufferViews.forEach(\n            (\n                {\n                    buffer: bufferIndex, // required\n                    byteOffset = 0, // optional\n                    byteLength, // required\n                    byteStride, // optional\n                    target = gl.ARRAY_BUFFER, // optional, added above for elements\n                    name, // optional\n                    extensions, // optional\n                    extras, // optional\n\n                    componentType, // optional, added from accessor above\n                    mimeType, // optional, added from images above\n                    isAttribute,\n                },\n                i\n            ) => {\n                const TypeArray = TYPE_ARRAY[componentType || mimeType];\n                const elementBytes = TypeArray.BYTES_PER_ELEMENT;\n\n                const data = new TypeArray(buffers[bufferIndex], byteOffset, byteLength / elementBytes);\n                bufferViews[i].data = data;\n                bufferViews[i].originalBuffer = buffers[bufferIndex];\n\n                if (!isAttribute) return;\n                // Create gl buffers for the bufferView, pushing it to the GPU\n                const buffer = gl.createBuffer();\n                gl.bindBuffer(target, buffer);\n                gl.renderer.state.boundBuffer = buffer;\n                gl.bufferData(target, data, gl.STATIC_DRAW);\n                bufferViews[i].buffer = buffer;\n            }\n        );\n\n        return bufferViews;\n    }\n\n    static parseImages(gl, desc, dir, bufferViews) {\n        if (!desc.images) return null;\n        return desc.images.map(({ uri, bufferView: bufferViewIndex, mimeType, name }) => {\n            const image = new Image();\n            image.name = name;\n            if (uri) {\n                image.src = this.resolveURI(uri, dir);\n            } else if (bufferViewIndex !== undefined) {\n                const { data } = bufferViews[bufferViewIndex];\n                const blob = new Blob([data], { type: mimeType });\n                image.src = URL.createObjectURL(blob);\n            }\n            image.ready = new Promise((res) => {\n                image.onload = () => res();\n            });\n            return image;\n        });\n    }\n\n    static parseTextures(gl, desc, images) {\n        if (!desc.textures) return null;\n        return desc.textures.map(({ sampler: samplerIndex, source: sourceIndex, name, extensions, extras }) => {\n            const options = {\n                flipY: false,\n                wrapS: gl.REPEAT, // Repeat by default, opposed to OGL's clamp by default\n                wrapT: gl.REPEAT,\n            };\n            const sampler = samplerIndex !== undefined ? desc.samplers[samplerIndex] : null;\n            if (sampler) {\n                ['magFilter', 'minFilter', 'wrapS', 'wrapT'].forEach((prop) => {\n                    if (sampler[prop]) options[prop] = sampler[prop];\n                });\n            }\n            const texture = new Texture(gl, options);\n            texture.name = name;\n            const image = images[sourceIndex];\n            image.ready.then(() => (texture.image = image));\n\n            return texture;\n        });\n    }\n\n    static parseMaterials(gl, desc, textures) {\n        if (!desc.materials) return null;\n        return desc.materials.map(\n            ({\n                name,\n                extensions,\n                extras,\n                pbrMetallicRoughness = {},\n                normalTexture,\n                occlusionTexture,\n                emissiveTexture,\n                emissiveFactor = [0, 0, 0],\n                alphaMode = 'OPAQUE',\n                alphaCutoff = 0.5,\n                doubleSided = false,\n            }) => {\n                const {\n                    baseColorFactor = [1, 1, 1, 1],\n                    baseColorTexture,\n                    metallicFactor = 1,\n                    roughnessFactor = 1,\n                    metallicRoughnessTexture,\n                    //   extensions,\n                    //   extras,\n                } = pbrMetallicRoughness;\n\n                if (baseColorTexture) {\n                    baseColorTexture.texture = textures[baseColorTexture.index];\n                    // texCoord\n                }\n                if (normalTexture) {\n                    normalTexture.texture = textures[normalTexture.index];\n                    // scale: 1\n                    // texCoord\n                }\n                if (metallicRoughnessTexture) {\n                    metallicRoughnessTexture.texture = textures[metallicRoughnessTexture.index];\n                    // texCoord\n                }\n                if (occlusionTexture) {\n                    occlusionTexture.texture = textures[occlusionTexture.index];\n                    // strength 1\n                    // texCoord\n                }\n                if (emissiveTexture) {\n                    emissiveTexture.texture = textures[emissiveTexture.index];\n                    // texCoord\n                }\n\n                return {\n                    name,\n                    baseColorFactor,\n                    baseColorTexture,\n                    metallicFactor,\n                    roughnessFactor,\n                    metallicRoughnessTexture,\n                    normalTexture,\n                    occlusionTexture,\n                    emissiveTexture,\n                    emissiveFactor,\n                    alphaMode,\n                    alphaCutoff,\n                    doubleSided,\n                };\n            }\n        );\n    }\n\n    static parseSkins(gl, desc, bufferViews) {\n        if (!desc.skins) return null;\n        return desc.skins.map(\n            ({\n                inverseBindMatrices, // optional\n                skeleton, // optional\n                joints, // required\n                // name,\n                // extensions,\n                // extras,\n            }) => {\n                return {\n                    inverseBindMatrices: this.parseAccessor(inverseBindMatrices, desc, bufferViews),\n                    skeleton,\n                    joints,\n                };\n            }\n        );\n    }\n\n    static parseMeshes(gl, desc, bufferViews, materials, skins) {\n        if (!desc.meshes) return null;\n        return desc.meshes.map(\n            (\n                {\n                    primitives, // required\n                    weights, // optional\n                    name, // optional\n                    extensions, // optional\n                    extras, // optional\n                },\n                meshIndex\n            ) => {\n                // TODO: weights stuff ?\n                // Parse through nodes to see how many instances there are\n                // and if there is a skin attached\n                let numInstances = 0;\n                let skinIndex = false;\n                desc.nodes &&\n                    desc.nodes.forEach(({ mesh, skin }) => {\n                        if (mesh === meshIndex) {\n                            numInstances++;\n                            if (skin !== undefined) skinIndex = skin;\n                        }\n                    });\n\n                primitives = this.parsePrimitives(gl, primitives, desc, bufferViews, materials, numInstances).map(({ geometry, program, mode }) => {\n                    // Create either skinned mesh or regular mesh\n                    const mesh =\n                        typeof skinIndex === 'number'\n                            ? new GLTFSkin(gl, { skeleton: skins[skinIndex], geometry, program, mode })\n                            : new Mesh(gl, { geometry, program, mode });\n                    mesh.name = name;\n                    if (mesh.geometry.isInstanced) {\n                        // Tag mesh so that nodes can add their transforms to the instance attribute\n                        mesh.numInstances = numInstances;\n                        // Avoid incorrect culling for instances\n                        mesh.frustumCulled = false;\n                    }\n                    return mesh;\n                });\n\n                return {\n                    primitives,\n                    weights,\n                    name,\n                };\n            }\n        );\n    }\n\n    static parsePrimitives(gl, primitives, desc, bufferViews, materials, numInstances) {\n        return primitives.map(\n            ({\n                attributes, // required\n                indices, // optional\n                material: materialIndex, // optional\n                mode = 4, // optional\n                targets, // optional\n                extensions, // optional\n                extras, // optional\n            }) => {\n                const geometry = new Geometry(gl);\n\n                // Add each attribute found in primitive\n                for (let attr in attributes) {\n                    geometry.addAttribute(ATTRIBUTES[attr], this.parseAccessor(attributes[attr], desc, bufferViews));\n                }\n\n                // Add index attribute if found\n                if (indices !== undefined) {\n                    geometry.addAttribute('index', this.parseAccessor(indices, desc, bufferViews));\n                }\n\n                // Add instanced transform attribute if multiple instances\n                if (numInstances > 1) {\n                    geometry.addAttribute('instanceMatrix', {\n                        instanced: 1,\n                        size: 16,\n                        data: new Float32Array(numInstances * 16),\n                    });\n                }\n\n                // TODO: materials\n                const program = new NormalProgram(gl);\n                if (materialIndex !== undefined) {\n                    program.gltfMaterial = materials[materialIndex];\n                }\n\n                return {\n                    geometry,\n                    program,\n                    mode,\n                };\n            }\n        );\n    }\n\n    static parseAccessor(index, desc, bufferViews) {\n        // TODO: init missing bufferView with 0s\n        // TODO: support sparse\n\n        const {\n            bufferView: bufferViewIndex, // optional\n            byteOffset = 0, // optional\n            componentType, // required\n            normalized = false, // optional\n            count, // required\n            type, // required\n            min, // optional\n            max, // optional\n            sparse, // optional\n            // name, // optional\n            // extensions, // optional\n            // extras, // optional\n        } = desc.accessors[index];\n\n        const {\n            data, // attached in parseBufferViews\n            originalBuffer, // attached in parseBufferViews\n            buffer, // replaced to be the actual GL buffer\n            byteOffset: bufferByteOffset = 0,\n            // byteLength, // applied in parseBufferViews\n            byteStride = 0,\n            target,\n            // name,\n            // extensions,\n            // extras,\n        } = bufferViews[bufferViewIndex];\n\n        const size = TYPE_SIZE[type];\n\n        // Parse data from joined buffers\n        const TypeArray = TYPE_ARRAY[componentType];\n        const elementBytes = data.BYTES_PER_ELEMENT;\n        const componentOffset = byteOffset / elementBytes;\n        const componentStride = byteStride / elementBytes;\n        const isInterleaved = !!byteStride && componentStride !== size;\n\n        // TODO: interleaved\n        const newData = isInterleaved ? data : new TypeArray(originalBuffer, byteOffset + bufferByteOffset, count * size);\n\n        // Return attribute data\n        return {\n            data: newData,\n            size,\n            type: componentType,\n            normalized,\n            buffer,\n            stride: byteStride,\n            offset: byteOffset,\n            count,\n            min,\n            max,\n        };\n    }\n\n    static parseNodes(gl, desc, meshes, skins) {\n        if (!desc.nodes) return null;\n        const nodes = desc.nodes.map(\n            ({\n                camera, // optional\n                children, // optional\n                skin: skinIndex, // optional\n                matrix, // optional\n                mesh: meshIndex, // optional\n                rotation, // optional\n                scale, // optional\n                translation, // optional\n                weights, // optional\n                name, // optional\n                extensions, // optional\n                extras, // optional\n            }) => {\n                const node = new Transform();\n                if (name) node.name = name;\n\n                // Apply transformations\n                if (matrix) {\n                    node.matrix.copy(matrix);\n                    node.decompose();\n                } else {\n                    if (rotation) node.quaternion.copy(rotation);\n                    if (scale) node.scale.copy(scale);\n                    if (translation) node.position.copy(translation);\n                    node.updateMatrix();\n                }\n\n                // Flags for avoiding duplicate transforms and removing unused instance nodes\n                let isInstanced = false;\n                let isFirstInstance = true;\n\n                // add mesh if included\n                if (meshIndex !== undefined) {\n                    meshes[meshIndex].primitives.forEach((mesh) => {\n                        if (mesh.geometry.isInstanced) {\n                            isInstanced = true;\n                            if (!mesh.instanceCount) {\n                                mesh.instanceCount = 0;\n                            } else {\n                                isFirstInstance = false;\n                            }\n                            node.matrix.toArray(mesh.geometry.attributes.instanceMatrix.data, mesh.instanceCount * 16);\n                            mesh.instanceCount++;\n\n                            if (mesh.instanceCount === mesh.numInstances) {\n                                // Remove properties once all instances added\n                                delete mesh.numInstances;\n                                delete mesh.instanceCount;\n                                // Flag attribute as dirty\n                                mesh.geometry.attributes.instanceMatrix.needsUpdate = true;\n                            }\n                        }\n\n                        // For instances, only the first node will actually have the mesh\n                        if (isInstanced) {\n                            if (isFirstInstance) mesh.setParent(node);\n                        } else {\n                            mesh.setParent(node);\n                        }\n                    });\n                }\n\n                // Reset node if instanced to not duplicate transforms\n                if (isInstanced) {\n                    // Remove unused nodes just providing an instance transform\n                    if (!isFirstInstance) return null;\n                    // Avoid duplicate transform for node containing the instanced mesh\n                    node.matrix.identity();\n                    node.decompose();\n                }\n\n                return node;\n            }\n        );\n\n        desc.nodes.forEach(({ children = [] }, i) => {\n            // Set hierarchy now all nodes created\n            children.forEach((childIndex) => {\n                if (!nodes[childIndex]) return;\n                nodes[childIndex].setParent(nodes[i]);\n            });\n        });\n\n        return nodes;\n    }\n\n    static populateSkins(skins, nodes) {\n        if (!skins) return;\n        skins.forEach((skin) => {\n            skin.joints = skin.joints.map((i, index) => {\n                const joint = nodes[i];\n                joint.bindInverse = new Mat4(...skin.inverseBindMatrices.data.slice(index * 16, (index + 1) * 16));\n                return joint;\n            });\n            if (skin.skeleton) skin.skeleton = nodes[skin.skeleton];\n        });\n    }\n\n    static parseAnimations(gl, desc, nodes, bufferViews) {\n        if (!desc.animations) return null;\n        return desc.animations.map(\n            ({\n                channels, // required\n                samplers, // required\n                name, // optional\n                // extensions, // optional\n                // extras,  // optional\n            }) => {\n                const data = channels.map(\n                    ({\n                        sampler: samplerIndex, // required\n                        target, // required\n                        // extensions, // optional\n                        // extras, // optional\n                    }) => {\n                        const {\n                            input: inputIndex, // required\n                            interpolation = 'LINEAR',\n                            output: outputIndex, // required\n                            // extensions, // optional\n                            // extras, // optional\n                        } = samplers[samplerIndex];\n\n                        const {\n                            node: nodeIndex, // optional - TODO: when is it not included?\n                            path, // required\n                            // extensions, // optional\n                            // extras, // optional\n                        } = target;\n\n                        const node = nodes[nodeIndex];\n                        const transform = TRANSFORMS[path];\n                        const times = this.parseAccessor(inputIndex, desc, bufferViews).data;\n                        const values = this.parseAccessor(outputIndex, desc, bufferViews).data;\n\n                        return {\n                            node,\n                            transform,\n                            interpolation,\n                            times,\n                            values,\n                        };\n                    }\n                );\n\n                return {\n                    name,\n                    animation: new GLTFAnimation(data),\n                };\n            }\n        );\n    }\n\n    static parseScenes(desc, nodes) {\n        if (!desc.scenes) return null;\n        return desc.scenes.map(\n            ({\n                nodes: nodesIndices = [],\n                name, // optional\n                extensions,\n                extras,\n            }) => {\n                return nodesIndices.reduce((map, i) => {\n                    // Don't add null nodes (instanced transforms)\n                    if (nodes[i]) map.push(nodes[i]);\n                    return map;\n                }, []);\n            }\n        );\n    }\n}\n", "export default `\n    attribute vec3 position;\n    attribute vec3 normal;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix\n    ;\n    uniform mat3 normalMatrix;\n    varying vec3 vNormal;\n\n    void main() {\n        vNormal = normalize(normalMatrix * normal);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n", "export default `\n    precision highp float;\n\n    varying vec3 vNormal;\n    \n    uniform vec3 uColor;\n    uniform float uLight;\n\n    void main() {\n        vec3 normal = normalize(vNormal);\n        float lighting = dot(normal, normalize(vec3(-0.3, 0.8, 0.6)));\n        gl_FragColor.rgb = uColor + lighting * 0.1 * uLight;\n        gl_FragColor.a = 1.0;\n    }\n`;\n", "import { module } from 'modujs';\nimport Swiper, { Pagination } from \"swiper\";\nimport { queryClosestParent } from '../utils/html';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.$links = this.el.querySelectorAll('[data-index]')\n        this.$wrapper = this.$('wrapper')[0]\n        this.$section = queryClosestParent(this.el, '.js-carousel-section');\n\n        this.onFocusBind = this.onFocus.bind(this)\n    }\n\n    init() {\n        Swiper.use([Pagination])\n\n        this.carousel = new Swiper(this.$('carousel')[0], {\n            grabCursor: true,\n            slidesPerView: 1.2,\n            spaceBetween: 18,\n            threshold: 3,\n            breakpoints: {\n                1000: {\n                    slidesPerView: 3,\n                    slidesPerGroup: 3,\n                    spaceBetween: 18,\n                    pagination: {\n                        el: '.swiper-pagination',\n                        type: 'bullets',\n                        clickable: true\n                    }\n                },\n                700: {\n                    slidesPerView: 2,\n                    slidesPerGroup: 2,\n                    spaceBetween: 18,\n                    pagination: {\n                        el: '.swiper-pagination',\n                        type: 'bullets',\n                        clickable: true\n                    }\n                }\n            }\n        })\n\n        this.bindEvents()\n    }\n\n    destroy() {\n        super.destroy()\n        this.carousel.destroy(true,true)\n        this.unbindEvents()\n    }\n\n    bindEvents() {\n        for (let index = 0; index < this.$links.length; index++) {\n            const $link = this.$links[index];\n            $link.addEventListener('focus', this.onFocusBind)\n        }\n    }\n\n    unbindEvents() {\n        for (let index = 0; index < this.$links.length; index++) {\n            const $link = this.$links[index];\n            $link.removeEventListener('focus', this.onFocusBind)\n        }\n    }\n\n    onFocus(e) {\n        const index = e.target.dataset.index\n        this.$section.scrollLeft = 0\n        this.carousel.slideTo(index)\n    }\n}\n", "export const IS_ANDROID = /android/i.test(navigator.userAgent);\n\nexport const IS_IOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !(self).MSStream;\n\n// @see https://developer.chrome.com/multidevice/user-agent\nexport const IS_IOS_CHROME = IS_IOS && /CriOS\\//.test(navigator.userAgent);\nexport const IS_IOS_SAFARI = IS_IOS && /Safari\\//.test(navigator.userAgent);", "import { module } from \"modujs\";\nimport { IS_ANDROID, IS_IOS } from \"../utils/ar-detection\";\n\n// Install modules\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n\n        this.$model = this.$('model')[0];\n        this.$buttonOpen = this.$('buttonOpen')[0];\n        this.$buttonClose = this.$('buttonClose')[0];\n\n        this.isAndroid = IS_ANDROID\n        this.isIOS = IS_IOS\n        this.loaded = false\n\n        this.bindEvents()\n    }\n\n    bindEvents() {\n        this.modelLoaded = this.modelLoaded.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.$model.addEventListener('load', this.modelLoaded)\n        this.$buttonOpen.addEventListener('click', this.showModal)\n        this.$buttonClose.addEventListener('click', this.hideModal)\n    }\n\n    unbindEvents() {\n        this.$model.removeEventListener('load', this.modelLoaded)\n        this.$buttonOpen.addEventListener('click', this.showModal)\n        this.$buttonClose.addEventListener('click', this.hideModal)\n    }\n\n    showModal() {\n        //if (!this.isIOS) {}\n            \n        this.el.classList.add('is-open')\n        this.show3dContent()\n    }\n\n    hideModal() {\n        this.el.classList.remove('is-open')\n    }\n\n    show3dContent() {\n\n        if (!this.loaded) {\n            this.$model.dismissPoster()\n        }\n\n        // if (!this.isAndroid && !this.isIOS) {\n        //     this.$model.dismissPoster()\n        // } else this.$model.activateAR()\n    }\n\n    modelLoaded() {\n        this.loaded = true\n    }\n\n    destroy() {\n        super.destroy();\n        this.unbindEvents();\n    }\n}\n", "// https://css-tricks.com/snippets/javascript/remove-inline-styles/\n\nexport function removeStyle(all) {\n    var i = all.length;\n    var j, is_hidden;\n\n    // Presentational attributes.\n    var attr = [\n        'align',\n        'background',\n        'bgcolor',\n        'border',\n        'cellpadding',\n        'cellspacing',\n        'color',\n        'face',\n        'height',\n        'hspace',\n        'marginheight',\n        'marginwidth',\n        'noshade',\n        'nowrap',\n        'valign',\n        'vspace',\n        'width',\n        'vlink',\n        'alink',\n        'text',\n        'link',\n        'frame',\n        'frameborder',\n        'clear',\n        'scrolling',\n        'style'\n    ];\n\n    var attr_len = attr.length;\n\n    while (i--) {\n        is_hidden = (all[i].style.display === 'none');\n\n        j = attr_len;\n\n        while (j--) {\n            all[i].removeAttribute(attr[j]);\n        }\n\n        // Re-hide display:none elements,\n        // so they can be toggled via JS.\n        if (is_hidden) {\n            all[i].style.display = 'none';\n            is_hidden = false;\n        }\n    }\n}", "import { module } from 'modujs';\nimport { queryClosestParent } from '../utils/html';\nimport { loadImage } from '../utils/image';\nimport { removeStyle } from '../utils/remove-style';\n\nconst PORTRAIT_WIDTH = \"600\"\nconst PORTRAIT_HEIGHT = \"900\"\nconst LANDSCAPE_WIDTH = \"1360\"\nconst LANDSCAPE_HEIGHT = \"730\"\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        // First and last item\n        const $wysiwygContainer = this.$('content')[0]\n        if ($wysiwygContainer) {\n            if ($wysiwygContainer.children.length) {\n                const $firstElement = $wysiwygContainer.children[0]\n                $firstElement.classList.add('c-wysiwyg-first-element')\n            }\n        }\n\n        // Styles\n        const $stylizedElements = this.el.querySelectorAll('[style]')\n        if ($stylizedElements.length) {\n            removeStyle($stylizedElements)\n        }\n\n        // Iframes\n        const $iframes = this.el.querySelectorAll('iframe')\n        this.setIframes($iframes)\n\n        // Images\n        setTimeout(() => {\n            const $images = this.el.querySelectorAll('img')\n            if ($images.length) {\n                let imagesObjArr = this.clearImagesSrc($images)\n                imagesObjArr = this.setImagesSrcSizes(imagesObjArr)\n                this.replaceImage(imagesObjArr)\n            }\n        }, 200)\n    }\n\n    /////////////////\n    // Iframes\n    /////////////////\n    setIframes(iframes) {\n        if (!iframes.length) return\n\n        let index = 0\n        while (index < iframes.length) {\n            const $iframe = iframes[index]\n            const $parent = queryClosestParent($iframe, 'p') || queryClosestParent($iframe, 'center')\n\n            if($parent && $parent.classList) {\n                $parent.classList.add(\"c-wysiwyg_iframe\")\n            }\n\n            index++\n        }\n    }\n\n    /////////////////\n    // Images\n    /////////////////\n    clearImagesSrc(images) {\n        if (!images.length) return []\n\n        const imagesArr = []\n\n        let index = 0\n        while(index < images.length) {\n            const $image = images[index]\n\n            const imageUrl = $image.src.toString()\n            const regex = /_\\d{1,4}x\\d{1,4}/g\n            const hasSizeInUrl = regex.exec(imageUrl)\n\n            if (hasSizeInUrl) {\n                imagesArr.push({\n                    image: $image,\n                    src: imageUrl.split(regex).join('')\n                })\n            } else {\n                imagesArr.push({\n                    image: $image,\n                    src: imageUrl\n                })\n            }\n\n            index++\n        }\n\n        return imagesArr\n    }\n\n    setImagesSrcSizes(imagesObjArr) {\n        if (!imagesObjArr.length) return\n        \n        let index = 0\n        while (index < imagesObjArr.length) {\n            const $image = imagesObjArr[index].image\n\n            const width = $image.naturalWidth\n            const height = $image.naturalHeight\n\n            if (width >= height) {\n                imagesObjArr[index].src = this.getResizedImageUrl(imagesObjArr[index].src, LANDSCAPE_WIDTH, LANDSCAPE_HEIGHT)\n                imagesObjArr[index].modifier = \"-landscape\"\n            } else {\n                imagesObjArr[index].src = this.getResizedImageUrl(imagesObjArr[index].src, PORTRAIT_WIDTH, PORTRAIT_HEIGHT)\n                imagesObjArr[index].modifier = \"-portrait\"\n            }\n            index++\n        }\n\n        return imagesObjArr\n    }\n\n    replaceImage(imagesObjArr) {\n        if (!imagesObjArr.length) return\n        \n        let index = 0\n        while (index < imagesObjArr.length) {\n            const imageObj = imagesObjArr[index]\n            loadImage(imageObj.src).then(newImage => {\n                requestAnimationFrame(() => {\n                    imageObj.image.setAttribute('src', newImage.url)\n                    const $parent = queryClosestParent(imageObj.image, 'p')\n                    $parent.classList.add(\"c-wysiwyg_image\")\n                    $parent.classList.add(imageObj.modifier)\n                })\n            })\n            index++\n        }\n\n        return imagesObjArr\n    }\n\n    getResizedImageUrl(imageUrl, width, height) {\n        const splitUrl = imageUrl.split('.')\n        const sizeExtension = `_${width}x${height}_crop_center.${splitUrl.pop()}`\n        return splitUrl.join('.') + sizeExtension\n    }\n\n    destroy() {\n        super.destroy();\n    }\n}\n", "import { default as Modal } from './AbstractModal';\n\nexport default class extends Modal {\n    constructor(m) {\n        super(m);\n\n        this.shareBind = this.share.bind(this)\n\n        this.$buttons = this.$('share')\n    }\n\n    /**\n     * The CSS class name to apply to `<html>` to mark the modal as open.\n     *\n     * @var {string}\n     */\n    activeClass = 'has-share-open'\n\n    share(e) {\n        const el = e.target;\n        const platform = this.getData('platform', e.target)\n        const url = window.location.href\n        let shareUrl;\n\n        switch (platform) {\n            case 'facebook':\n                shareUrl = 'https://facebook.com/sharer/sharer.php?u=' + url;\n                this.openWindow(shareUrl);\n                break;\n\n            case 'twitter':\n                shareUrl = 'https://twitter.com/share?url=' + url +\n                    '&amp;text=' + encodeURIComponent(this.getData('text', e.target))\n                this.openWindow(shareUrl);\n                break;\n\n            case 'mail':\n                const subject = encodeURIComponent(this.getData('subject', e.target))\n                const body = encodeURIComponent(this.getData('body', e.target))\n                this.openMail(subject, body);\n                break;\n\n            case 'linkedin':\n                shareUrl = `http://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(url)}`;\n                this.openWindow(shareUrl);\n                break;\n\n            case 'copy':\n                this.copyUrl(url);\n                break;\n        }\n    }\n\n    openWindow(url) {\n        window.open(url, 'Share', 'menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=500, width=600');\n    }\n\n    openMail(subject, body) {\n        window.location = 'mailto:?subject=' + subject + '&body=' + body;\n    }\n\n    copyUrl(url) {\n        this.el.classList.add('has-copy-feedback')\n\n        if (this.copyTimeout != undefined) {\n            clearTimeout(this.copyTimeout);\n        }\n\n        this.copyTimeout = setTimeout(() => {\n            this.el.classList.remove('has-copy-feedback')\n        }, 1500)\n\n        window.copyToClipboard(url)\n    }\n\n    bindEvents() {\n        for (let index = 0; index < this.$buttons.length; index++) {\n            const $button = this.$buttons[index];\n            $button.addEventListener('click', this.shareBind)\n        }\n    }\n\n    unbindEvents() {\n        for (let index = 0; index < this.$buttons.length; index++) {\n            const $button = this.$buttons[index];\n            $button.removeEventListener('click', this.shareBind)\n        }\n    }\n\n    onInit() {\n        this.bindEvents()\n    }\n\n    onDestroy() {\n        this.unbindEvents()\n    }\n\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n        \n        this.events = {\n            click: 'toggle'\n        }\n    }\n\n    toggle() {\n        this.call('open', null, 'Share')\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        this.$select = this.$('select')[0]\n        this.resetUrl = this.getData('reset-url')\n        this.queryUrl = this.getData('query-url')\n\n        if (!this.queryUrl || !this.resetUrl) return console.log('Please set reset-url and query-url data')\n\n        this.bindEvents()\n    }\n\n    bindEvents() {\n        this.onChange = this.onChange.bind(this)\n        this.$select.addEventListener('change', this.onChange)\n    }\n\n    unbindEvents() {\n        this.$select.removeEventListener('change', this.onChange)\n    }\n\n    onChange() {\n        this.changeRoute()\n    }\n\n    changeRoute() {\n        let newUrl\n        const currentTagHandle = this.$select.value\n\n        if (currentTagHandle) {\n            newUrl = this.queryUrl + currentTagHandle\n        } else {\n            newUrl = this.resetUrl\n        }\n\n        window.location.href = newUrl;\n    }\n\n    destroy() {\n        super.destroy()\n        this.unbindEvents()\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {\n        this.$select = this.$('select')[0]\n\n        // Save existing sort parameters\n        this.queryParams = {};\n        this.saveExistingSortParameters()\n\n        // Bind events\n        this.bindEvents()\n    }\n\n    bindEvents() {\n        this.onChange = this.onChange.bind(this)\n        this.$select.addEventListener('change', this.onChange)\n    }\n\n    unbindEvents() {\n        this.$select.removeEventListener('change', this.onChange)\n    }\n\n    onChange(e) {\n        const value = e.currentTarget.value;\n        this.queryParams.sort_by = value;\n        location.search = new URLSearchParams(this.queryParams).toString();\n    }\n\n    saveExistingSortParameters() {\n        if(location.search.length) {\n            for(var aKeyValue, i = 0, aCouples = location.search.substr(1).split('&'); i < aCouples.length; i++) {\n            aKeyValue = aCouples[i].split('=');\n                if (aKeyValue.length > 1) {\n                    this.queryParams[decodeURIComponent(aKeyValue[0])] = decodeURIComponent(aKeyValue[1]);\n                }\n            }\n        }\n    }\n\n    destroy() {\n        super.destroy()\n        this.unbindEvents()\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: {\n                toggler: 'toggle'\n            }\n        }\n    }\n\n    init() {\n        if(window.location.hash == '#recover') {\n            this.el.classList.add('is-forgot-password')\n        }\n    }\n\n    toggle() {\n        if(this.el.classList.contains('is-forgot-password')) {\n            this.el.classList.remove('is-forgot-password')\n        } else {\n            this.el.classList.add('is-forgot-password')\n        }\n    }\n}\n", "var query = \"query countries($locale: SupportedLocale!) {\"\n  + \"  countries(locale: $locale) {\"\n  + \"    name\"\n  + \"    code\"\n  + \"    labels {\"\n  + \"      address1\"\n  + \"      address2\"\n  + \"      city\"\n  + \"      company\"\n  + \"      country\"\n  + \"      firstName\"\n  + \"      lastName\"\n  + \"      phone\"\n  + \"      postalCode\"\n  + \"      zone\"\n  + \"    }\"\n  + \"    formatting {\"\n  + \"      edit\"\n  + \"    }\"\n  + \"    zones {\"\n  + \"      name\"\n  + \"      code\"\n  + \"    }\"\n  + \"  }\"\n  + \"}\";\n\nvar GRAPHQL_ENDPOINT = 'https://country-service.shopifycloud.com/graphql';\n\nexport function loadCountries(locale) {\n  var response = fetch(GRAPHQL_ENDPOINT, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n    },\n    body: JSON.stringify({\n      query: query,\n      operationName: 'countries',\n      variables: {\n        locale: toSupportedLocale(locale),\n      },\n    }),\n  });\n\n  return response\n    .then(function(res) { return res.json() })\n    .then(function(countries) { return countries.data.countries });\n}\n\nvar DEFAULT_LOCALE = 'EN';\nexport var SUPPORTED_LOCALES = [\n  'DA',\n  'DE',\n  'EN',\n  'ES',\n  'FR',\n  'IT',\n  'JA',\n  'NL',\n  'PT',\n  'PT_BR',\n];\n\nexport function toSupportedLocale(locale) {\n  var supportedLocale = locale.replace(/-/, '_').toUpperCase();\n\n  if (SUPPORTED_LOCALES.indexOf(supportedLocale) !== -1) {\n    return supportedLocale;\n  } else if (SUPPORTED_LOCALES.indexOf(supportedLocale.substring(0, 2)) !== -1) {\n    return supportedLocale.substring(0, 2);\n  } else {\n    return DEFAULT_LOCALE;\n  }\n}\n", "export function mergeObjects() {\n  var to = Object({});\n\n  for (var index = 0; index < arguments.length; index++) {\n    var nextSource = arguments[index];\n\n    if (nextSource) {\n      for (var nextKey in nextSource) {\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n  return to;\n}\n", "import {loadCountries} from './loader';\nimport {mergeObjects} from './helpers';\n\nvar FIELD_REGEXP = /({\\w+})/g;\nvar LINE_DELIMITER = '_';\nvar INPUT_SELECTORS = {\n  lastName: '[name=\"address[last_name]\"]',\n  firstName: '[name=\"address[first_name]\"]',\n  company: '[name=\"address[company]\"]',\n  address1: '[name=\"address[address1]\"]',\n  address2: '[name=\"address[address2]\"]',\n  country: '[name=\"address[country]\"]',\n  zone: '[name=\"address[province]\"]',\n  postalCode: '[name=\"address[zip]\"]',\n  city: '[name=\"address[city]\"]',\n  phone: '[name=\"address[phone]\"]',\n};\n\nexport default function AddressForm(rootEl, locale, options) {\n  locale = locale || 'en';\n  options = options || {inputSelectors: {}};\n  var formElements = loadFormElements(\n    rootEl,\n    mergeObjects(INPUT_SELECTORS, options.inputSelectors)\n  );\n\n  validateElements(formElements);\n\n  return loadShippingCountries(options.shippingCountriesOnly).then(function(\n    shippingCountryCodes\n  ) {\n    return loadCountries(locale).then(function(countries) {\n      init(\n        rootEl,\n        formElements,\n        filterCountries(countries, shippingCountryCodes)\n      );\n    });\n  });\n}\n\n/**\n * Runs when countries have been loaded\n */\nfunction init(rootEl, formElements, countries) {\n  populateCountries(formElements, countries);\n  var selectedCountry = formElements.country.input\n    ? formElements.country.input.value\n    : null;\n  setEventListeners(rootEl, formElements, countries);\n  handleCountryChange(rootEl, formElements, selectedCountry, countries);\n}\n\n/**\n * Handles when a country change: set labels, reorder fields, populate zones\n */\nfunction handleCountryChange(rootEl, formElements, countryCode, countries) {\n  var country = getCountry(countryCode, countries);\n\n  setLabels(formElements, country);\n  reorderFields(rootEl, formElements, country);\n  populateZones(formElements, country);\n}\n\n/**\n * Sets up event listener for country change\n */\nfunction setEventListeners(rootEl, formElements, countries) {\n  formElements.country.input.addEventListener('change', function(event) {\n    handleCountryChange(rootEl, formElements, event.target.value, countries);\n  });\n}\n\n/**\n * Reorder fields in the DOM and add data-attribute to fields given a country\n */\nfunction reorderFields(rootEl, formElements, country) {\n  var formFormat = country.formatting.edit;\n\n  var countryWrapper = formElements.country.wrapper;\n  var afterCountry = false;\n\n  getOrderedField(formFormat).forEach(function(row) {\n    row.forEach(function(line) {\n      formElements[line].wrapper.dataset.lineCount = row.length;\n      if (!formElements[line].wrapper) {\n        return;\n      }\n      if (line === 'country') {\n        afterCountry = true;\n        return;\n      }\n\n      if (afterCountry) {\n        rootEl.append(formElements[line].wrapper);\n      } else {\n        rootEl.insertBefore(formElements[line].wrapper, countryWrapper);\n      }\n    });\n  });\n}\n\n/**\n * Update labels for a given country\n */\nfunction setLabels(formElements, country) {\n  Object.keys(formElements).forEach(function(formElementName) {\n    formElements[formElementName].labels.forEach(function(label) {\n      label.textContent = country.labels[formElementName];\n    });\n  });\n}\n\n/**\n * Add right countries in the dropdown for a given country\n */\nfunction populateCountries(formElements, countries) {\n  var countrySelect = formElements.country.input;\n  var duplicatedCountrySelect = countrySelect.cloneNode(true);\n\n  countries.forEach(function(country) {\n    var optionElement = document.createElement('option');\n    optionElement.value = country.code;\n    optionElement.textContent = country.name;\n    duplicatedCountrySelect.appendChild(optionElement);\n  });\n\n  countrySelect.innerHTML = duplicatedCountrySelect.innerHTML;\n\n  if (countrySelect.dataset.default) {\n    countrySelect.value = countrySelect.dataset.default;\n  }\n}\n\n/**\n * Add right zones in the dropdown for a given country\n */\nfunction populateZones(formElements, country) {\n  var zoneEl = formElements.zone;\n  if (!zoneEl) {\n    return;\n  }\n\n  if (country.zones.length === 0) {\n    zoneEl.wrapper.dataset.ariaHidden = 'true';\n    zoneEl.input.innerHTML = '';\n    return;\n  }\n\n  zoneEl.wrapper.dataset.ariaHidden = 'false';\n\n  var zoneSelect = zoneEl.input;\n  var duplicatedZoneSelect = zoneSelect.cloneNode(true);\n  duplicatedZoneSelect.innerHTML = '';\n\n  country.zones.forEach(function(zone) {\n    var optionElement = document.createElement('option');\n    optionElement.value = zone.code;\n    optionElement.textContent = zone.name;\n    duplicatedZoneSelect.appendChild(optionElement);\n  });\n\n  zoneSelect.innerHTML = duplicatedZoneSelect.innerHTML;\n\n  if (zoneSelect.dataset.default) {\n    zoneSelect.value = zoneSelect.dataset.default;\n  }\n}\n\n/**\n * Will throw if an input or a label is missing from the wrapper\n */\nfunction validateElements(formElements) {\n  Object.keys(formElements).forEach(function(elementKey) {\n    var element = formElements[elementKey].input;\n    var labels = formElements[elementKey].labels;\n\n    if (!element) {\n      return;\n    }\n\n    if (typeof element !== 'object') {\n      throw new TypeError(\n        formElements[elementKey] + ' is missing an input or select.'\n      );\n    } else if (typeof labels !== 'object') {\n      throw new TypeError(formElements[elementKey] + ' is missing a label.');\n    }\n  });\n}\n\n/**\n * Given an countryCode (eg. 'CA'), will return the data of that country\n */\nfunction getCountry(countryCode, countries) {\n  countryCode = countryCode || 'CA';\n  return countries.filter(function(country) {\n    return country.code === countryCode;\n  })[0];\n}\n\n/**\n * Given a format (eg. \"{firstName}{lastName}_{company}_{address1}_{address2}_{city}_{country}{province}{zip}_{phone}\")\n * will return an array of how the form needs to be formatted, eg.:\n * =>\n * [\n *   ['firstName', 'lastName'],\n *   ['company'],\n *   ['address1'],\n *   ['address2'],\n *   ['city'],\n *   ['country', 'province', 'zip'],\n *   ['phone']\n * ]\n */\nfunction getOrderedField(format) {\n  return format.split(LINE_DELIMITER).map(function(fields) {\n    var result = fields.match(FIELD_REGEXP);\n    if (!result) {\n      return [];\n    }\n\n    return result.map(function(fieldName) {\n      var newFieldName = fieldName.replace(/[{}]/g, '');\n\n      switch (newFieldName) {\n        case 'zip':\n          return 'postalCode';\n        case 'province':\n          return 'zone';\n        default:\n          return newFieldName;\n      }\n    });\n  });\n}\n\n/**\n * Given a rootEl where all `input`s, `select`s, and `labels` are nested, it\n * will returns all form elements (wrapper, input and labels) of the form.\n * See `FormElements` type for details\n */\nfunction loadFormElements(rootEl, inputSelectors) {\n  var elements = {};\n  Object.keys(INPUT_SELECTORS).forEach(function(inputKey) {\n    var input = rootEl.querySelector(inputSelectors[inputKey]);\n    elements[inputKey] = input\n      ? {\n          wrapper: input.parentElement,\n          input: input,\n          labels: document.querySelectorAll('[for=\"' + input.id + '\"]'),\n        }\n      : {};\n  });\n\n  return elements;\n}\n\n/**\n * If shippingCountriesOnly is set to true, will return the list of countries the\n * shop ships to. Otherwise returns null.\n */\nfunction loadShippingCountries(shippingCountriesOnly) {\n  if (!shippingCountriesOnly) {\n    // eslint-disable-next-line no-undef\n    return Promise.resolve(null);\n  }\n\n  var response = fetch(location.origin + '/meta.json');\n\n  return response\n    .then(function(res) {\n      return res.json();\n    })\n    .then(function(meta) {\n      // If ships_to_countries has * in the list, it means the shop ships to\n      // all countries\n      return meta.ships_to_countries.indexOf('*') !== -1\n        ? null\n        : meta.ships_to_countries;\n    })\n    .catch(function() {\n      return null;\n    });\n}\n\n/**\n * Only returns countries that are in includedCountryCodes\n * Returns all countries if no includedCountryCodes is passed\n */\nfunction filterCountries(countries, includedCountryCodes) {\n  if (!includedCountryCodes) {\n    return countries;\n  }\n\n  return countries.filter(function(country) {\n    return includedCountryCodes.indexOf(country.code) !== -1;\n  });\n}\n", "import { module } from 'modujs';\nimport {AddressForm} from '@shopify/theme-addresses';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: {\n                'edit-toggler': 'toggleEdit'\n            }\n        }\n    }\n\n    init() {\n        this.id = this.getData('id')\n        const form = AddressForm(this.$('form-wrapper-inner')[0], 'en');\n    }\n\n    toggleEdit() {\n        if (this.el.classList.contains('is-edit')) {\n            this.el.classList.remove('is-edit')\n        } else {\n            this.el.classList.add('is-edit')\n        }\n    }\n}\n", "import { module } from \"modujs\";\nimport { html } from \"../utils/environment\";\nimport { FocusTrap } from 'focus-trap-vue'\n\nVue.component('FocusTrap', FocusTrap)\n\nconst PREVIEW_WIDTH = 85 * 2\nconst PREVIEW_HEIGHT = 85 * 2\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.closeBind = (e) => {\n            if (e.key === \"Escape\") {\n                // const isAccordionItemOpen = document.querySelector('[data-accordions=\"content\"].is-active') \n                // if (!isAccordionItemOpen) {\n                this.close();\n                // }\n            }\n        }\n    }\n\n    init() {\n        // Events\n        this.bindEvents()\n\n        // Init vue\n        this.initVue();\n    }\n\n    destroy() {\n        this.unbindEvents()\n    }\n\n    bindEvents() {\n        document.addEventListener('keyup', this.closeBind)\n    }\n\n    unbindEvents() {\n        document.removeEventListener('keyup', this.closeBind)\n    }\n\n    initVue() {\n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            data: {\n                searchInput: '',\n                products: [],\n                articles: [],\n                isActive: false\n            },\n\n            watch: {\n                'searchInput': function (searchValue) {\n                    this.requestSuggestDebounce(searchValue)\n                },\n\n                'products': function (productsArr, oldProductsArr) {\n                    this.$nextTick(() => {\n                        const isEmpty = productsArr.length ? false : true\n\n                        if (oldProductsArr.length > productsArr.length && !isEmpty) {\n                            setTimeout(() => {\n                                this.setSuggestHeight(isEmpty)\n                            }, 400)\n                        } else {\n                            this.setSuggestHeight(isEmpty)\n                        }\n                    })\n                },\n\n                'articles': function (articlesArr, oldArticlesArr) {\n                    this.$nextTick(() => {\n                        const isEmpty = articlesArr.length ? false : true\n\n                        if (oldArticlesArr.length > articlesArr.length && !isEmpty) {\n                            setTimeout(() => {\n                                this.setSuggestHeight(isEmpty)\n                            }, 400)\n                        } else {\n                            this.setSuggestHeight(isEmpty)\n                        }\n                    })\n                }\n            },\n\n            beforeCreate() {\n                this.moduleInstance = moduleInstance\n            },\n\n            created() {\n                this.isRequested = false\n                this.requestPool = []\n\n                this.suggestOptions = {\n                    type: \"product,article\",\n                    limit: 8,\n                    options: {\n                        unavailable_products: \"last\"\n                    }\n                }\n            },\n\n            mounted() {\n                this.requestSuggestDebounce = this.debounceCall(this.requestSuggest, 500)\n\n            },\n\n            beforeDestroy() {\n\n            },\n\n            methods: {\n                async requestSuggest(searchValue) {\n                    // console.log(\"request ----\", searchValue)\n\n                    // Check if last request and if last fetch is ended\n                    if (!this.requestPool.length && !this.isRequested) {\n\n                        // Fetch state\n                        this.isRequested = true\n\n                        if (searchValue) {\n                            // Get suggests\n                            await this.fetchSuggest(searchValue)\n                        } else {\n                            this.products = []\n                            this.articles = []\n                        }\n\n                        // Fetch state\n                        this.isRequested = false\n\n                        // If there are request during the last fetch\n                        if (this.requestPool.length) {\n                            // Get last request\n                            const nextSearchValue = this.requestPool[this.requestPool.length - 1]\n                            // Clear pool\n                            this.requestPool = []\n                            // Then fetch again\n                            this.requestSuggest(nextSearchValue)\n                        }\n\n                        // Else store request while fetch is executing\n                    } else {\n                        this.requestPool.push(searchValue)\n                    }\n                },\n\n                fetchSuggest(searchValue) {\n                    // console.log(\"----- search\", searchValue)\n\n                    return new Promise((resolve) => {\n                        // https://shopify.dev/docs/themes/ajax-api/reference/predictive-search\n                        fetch(`/search/suggest.json?q=${searchValue}&resources[type]=${this.suggestOptions.type}&resources[limit]=${this.suggestOptions.limit}&resources[options][unavailable_products]=${this.suggestOptions.options.unavailable_products}`)\n                            .then(response => response.json())\n                            .then(suggestions => {\n\n                                // Retrieve products\n                                const productSuggestions = suggestions.resources.results.products;\n\n                                if (productSuggestions.length > 0) {\n                                    const products = suggestions.resources.results.products;\n\n                                    // Update featured_image\n                                    products.forEach((product) => {\n                                        product.featured_image.url = this.getResizedImageUrl(product.featured_image.url)\n                                        product.featured_image.width = PREVIEW_WIDTH\n                                        product.featured_image.height = PREVIEW_HEIGHT\n                                    })\n                                    // Populate product array\n                                    this.products = products\n                                } else {\n                                    // Clear product array\n                                    this.products = []\n                                }\n\n                                // Retrieve article\n                                const articleSuggestions = suggestions.resources.results.articles;\n\n                                if (articleSuggestions.length > 0) {\n                                    const articles = suggestions.resources.results.articles;\n\n                                    const filteredArticles = articles.filter((value, index, self) =>\n                                        index === self.findIndex((t) => (\n                                            t.handle === value.handle\n                                        ))\n                                    )\n\n                                    // Update featured_image\n                                    filteredArticles.forEach((article) => {\n                                        article.featured_image.url = this.getResizedImageUrl(article.featured_image.url)\n                                        article.featured_image.width = PREVIEW_WIDTH\n                                        article.featured_image.height = PREVIEW_HEIGHT\n                                    })\n                                    \n                                    // Populate article array\n                                    this.articles = filteredArticles\n                                } else {\n                                    // Clear article array\n                                    this.articles = []\n                                }\n\n                                resolve()\n                            });\n\n                    })\n\n                },\n\n                getResizedImageUrl(imageUrl) {\n                    const splitUrl = imageUrl.split('.')\n                    const sizeExtension = `_${PREVIEW_WIDTH}x${PREVIEW_HEIGHT}_crop_center.${splitUrl.pop()}`\n                    return splitUrl.join('.') + sizeExtension\n                },\n\n                setSuggestHeight(isHidden) {\n                    if (isHidden) return this.$el.style.setProperty('--suggestHeight', `0px`);\n                    const suggestHeight = this.$refs.suggest.offsetHeight\n                    this.$el.style.setProperty('--suggestHeight', `${suggestHeight}px`);\n                },\n\n                onResize() {\n                    const isEmpty = this.products.length ? false : true\n                    this.setSuggestHeight(isEmpty)\n                },\n\n                onToggle() {\n                    this.moduleInstance?.toggle()\n                },\n\n                onOpen() {\n                    this.isActive = true\n\n                    setTimeout(() => {\n                        this.$refs.input.focus()\n                    }, 700)\n                },\n\n                onClose() {\n                    this.searchInput = \"\"\n                    this.products = []\n                    this.isActive = false\n                },\n\n                displayDate(publishedAt) {\n                    const date = new Date(publishedAt)\n                    return date.toLocaleDateString('en-US', { day: 'numeric', month: 'short', year: 'numeric' })\n                },\n\n                debounceCall(func, delay) {\n                    let debounceTimer;\n                    return function () {\n                        const context = this;\n                        const args = arguments;\n                        clearTimeout(debounceTimer);\n                        debounceTimer = setTimeout(() => func.apply(context, args), delay);\n                    };\n                }\n            }\n        });\n    }\n\n    toggle() {\n        if (html.classList.contains('has-search-open')) {\n            this.close()\n        } else {\n            this.open()\n        }\n    }\n\n    open() {\n        html.classList.add('has-search-open')\n        this.call('close', null, 'Menu')\n        this.call('onCloseModal', null, 'CartModal')\n        this.app?.onOpen?.()\n    }\n\n    close() {\n        html.classList.remove('has-search-open')\n        this.app?.onClose?.()\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n        \n        this.events = {\n            click: 'toggle'\n        }\n    }\n\n    toggle() {\n        this.call('toggle', null, 'Search')\n    }\n}\n", "import { default as Modal } from './AbstractModal';\n\nexport default class extends Modal {\n    /**\n     * The CSS class name to apply to `<html>` to mark the modal as open.\n     *\n     * @var {string}\n     */\n    activeClass = 'has-popup-open'\n\n    onOpen() {\n        this.el.classList.add('is-active')\n    }\n\n    onClose() {\n        this.el.classList.remove('is-active')\n    }\n}", "import ShopifyCartModule from '../class/ShopifyCartModule';\nimport cartMixin from '../vue-mixins/cart-mixin';\nimport cartCheckoutMixin from '../vue-mixins/cart-checkout-mixin';\nexport default class extends ShopifyCartModule {\n    constructor(m) {\n        super(m);\n    }\n\n    async init() {\n        // Await cart state\n        await super.init()\n\n        // Init vue\n        this.initVue()\n    }\n\n    initVue() {\n        /////////////////////////\n        // Save moduleInstance\n        const moduleInstance = this;\n\n        /////////////////////////\n        // Settings\n        Vue.config.devtools = true;\n\n        /////////////////////////\n        // Vue Instance\n        this.app = new Vue({\n            el: this.el,\n\n            delimiters: [\"${\", \"}\"],\n\n            mixins: [ cartMixin, cartCheckoutMixin],\n\n            beforeCreate() {\n                this.moduleInstance = moduleInstance\n            },\n\n            mounted() {},\n\n            methods: {}\n        });\n    }\n\n\n    // Hooks\n    onAddItem(cart) {\n        //console.log('[add] - addedItem from product form', cart)\n\n        // Open Modal\n        this.onOpenModal()\n\n        /* /!\\ Refresh Cart Vue.js */\n        this.app?.onAddNewItem?.(cart)\n\n        // Set cart counter\n        this.setCartCounter(cart)\n    }\n\n    onRemoveItem(cart) {\n        //console.log('[remove] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onUpdateItem(cart) {\n        //console.log('[update] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onRefreshCart(cart) {\n        //console.log('[refresh] - lastCart', cart)\n        this.setCartCounter(cart)\n    }\n\n    onCannotAddMoreItem(itemId) {\n        this.call('cannotAddMoreItem', itemId, 'ProductForm')\n    }\n\n    setCartCounter(cart) {\n        const cartLength = cart.item_count\n        this.call('setCartCounter', cartLength, 'CartCounter')\n    }\n\n    setCartData(cartState) {\n        this.call('setVueCartData', cartState, 'CartModal')\n    }\n\n    setVueCartData(cartState) {\n        this.app?.setCartData?.(cartState, true)\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this.app) {\n            this.app.$destroy();\n        }\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n    }\n\n    init() {}\n\n    setCartCounter(length) {\n        this.el.innerHTML = `(${length})`\n    }\n\n    destroy() {\n        super.destroy();\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: {\n                'toggler': 'toggle'\n            }\n        }\n    }\n\n    init() {\n\n    }\n\n    toggle() {\n        if (this.el.classList.contains('is-password')) {\n            this.el.classList.remove('is-password')\n        } else {\n            this.el.classList.add('is-password')\n        }\n    }\n}\n", "import { module } from 'modujs';\nimport Swiper, { Pagination } from \"swiper\";\nimport { lazyLoadImage } from '../utils/image';\nimport { queryClosestParent } from '../utils/html';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        // Data\n        this.recommendationsUrl = this.getData('url')\n\n        // Binding\n        this.onFocusBind = this.onFocus.bind(this)\n    }\n\n    ///////////////\n    // Lifecyle\n    ///////////////\n    init() { }\n\n    destroy() {\n        super.destroy();\n        this.carousel?.destroy?.(true, true)\n        this.unbindEvents()\n    }\n\n    ///////////////\n    // Methods\n    ///////////////\n    getRecommendations() {\n        // Load indicator\n        this.el.classList.add('is-loading');\n\n        // Fetch\n        fetch(this.recommendationsUrl)\n            .then(response => response.text())\n            .then(text => {\n                const html = document.createElement('div');\n                html.innerHTML = text;\n                const $recommendations = html.querySelector('.c-product-recommendations');\n                const $productTiles = $recommendations.querySelectorAll('.c-product-tile');\n                const hasArticles = $productTiles.length > 0\n\n                if (hasArticles && $recommendations.innerHTML.trim().length) {\n                    this.el.innerHTML = $recommendations.innerHTML;\n\n                    requestAnimationFrame(() => {\n                        this.initCarousel()\n                    })\n                } else {\n                    // Load indicator\n                    this.el.classList.remove('is-loading');\n\n                    setTimeout(() => {\n                        this.el.classList.add('is-empty');\n                    }, 600)\n                }\n            })\n            .catch(e => {\n                // Load indicator\n                this.el.classList.remove('is-loading');\n                console.error(e);\n            });\n\n    }\n\n    initCarousel() {\n\n        // Selectors\n        const $carousel = this.el.querySelector('.swiper-container')\n        this.$wrapper = this.el.querySelector('.swiper-wrapper')\n        this.$links = this.el.querySelectorAll('[data-index]')\n        this.$section = queryClosestParent($carousel, '.js-carousel-section');\n        \n        // Events\n        this.bindEvents()\n\n        // Swiper options\n        Swiper.use([Pagination])\n\n        // Swiper instance\n        this.carousel = new Swiper($carousel, {\n            grabCursor: true,\n            slidesPerView: 1.2,\n            spaceBetween: 20,\n            threshold: 3,\n            breakpoints: {\n                700: {\n                    slidesPerView: 3,\n                    slidesPerGroup: 3,\n                    spaceBetween: 40,\n                    pagination: {\n                        el: '.swiper-pagination',\n                        type: 'bullets',\n                        clickable: true\n                    }\n                }\n            },\n            on: {\n                init: () => {\n                    // Load indicator\n                    this.el.classList.remove('is-loading');\n\n                    // Load images\n                    this.loadImages()\n                },\n            },\n        })\n    }\n\n    loadImages() {\n        const $images = this.el.querySelectorAll('img')\n        let imageIndex = 0\n\n        while (imageIndex < $images.length) {\n            const $image = $images[imageIndex]\n            lazyLoadImage($image)\n            imageIndex++\n        }\n    }\n\n    bindEvents() {\n        for (let index = 0; index < this.$links.length; index++) {\n            const $link = this.$links[index];\n            $link.addEventListener('focus', this.onFocusBind)\n        }\n    }\n\n    unbindEvents() {\n        for (let index = 0; index < this.$links.length; index++) {\n            const $link = this.$links[index];\n            $link.removeEventListener('focus', this.onFocusBind)\n        }\n    }\n\n    onFocus(e) {\n        const index = e.target.dataset.index\n        this.$section.scrollLeft = 0\n        this.carousel.slideTo(index)\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n        \n        // Binding\n        this.onClickBind = this.onClick.bind(this)\n\n        // UI\n        this.$el = this.el\n        \n        // Data\n        this.productID = this.getData('id')\n    }\n\n    ///////////////\n    // Lifecyle\n    ///////////////\n    init() {\n        this.bindEvents();\n    }\n\n    destroy() {\n        super.destroy();\n        this.unbindEvents();\n    }\n\n    ///////////////\n    // Events\n    ///////////////\n    bindEvents() {\n        this.$el.addEventListener('click', this.onClickBind)\n    }\n\n    unbindEvents() {\n        this.$el.removeEventListener('click', this.onClickBind)\n    }\n\n    ///////////////\n    // Callbacks\n    ///////////////\n    onClick() {\n        this.addToCart()\n    }\n\n    ///////////////\n    // Methods\n    ///////////////\n    addToCart() {\n        this.call('addItem', { id: parseInt(this.productID, 10), quantity: 1 }, 'CartModal')\n    }\n}\n", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        // Bind\n        this.onChangeBind = this.onChange.bind(this)\n\n        // UI\n        this.$images = this.$('image')\n        this.$ctas = this.$('cta')\n        this.$prices = this.$('price')\n        this.$sales = this.$('sale')\n        this.$links = this.$('link')\n        this.$radios = this.$('radio')\n\n        // Current value\n        this.currentValue = ''\n    }\n\n    init() {\n        this.bindEvents()\n        this.setDefaultValue()\n    }\n\n    destroy() {\n        super.destroy()\n        this.unbindEvents()\n    }\n\n\n    bindEvents() {\n        for (let index = 0; index < this.$radios.length; index++) {\n            const $radio = this.$radios[index];\n            $radio.addEventListener('change', this.onChangeBind)\n        }\n    }\n\n    unbindEvents() {\n        for (let index = 0; index < this.$radios.length; index++) {\n            const $radio = this.$radios[index];\n            $radio.removeEventListener('change', this.onChangeBind)\n        }\n    }\n\n    onChange(e) {\n        let currentValue = ''\n        const $currentRadios = [...this.$radios].filter($radio => $radio.checked)\n        \n        for (let index = 0; index < $currentRadios.length; index++) {\n            const $currentRadio = $currentRadios[index];\n            \n            if (index > 0) {\n                currentValue += `-${$currentRadio.value}`\n            } else {\n                currentValue += $currentRadio.value\n            }\n        }\n        this.currentValue = currentValue\n        this.updateContent()\n    }\n\n    setDefaultValue() {\n        let currentValue = ''\n        const $currentRadios = [...this.$radios].filter($radio => $radio.checked)\n\n        for (let index = 0; index < $currentRadios.length; index++) {\n            const $currentRadio = $currentRadios[index];\n            \n            if (index > 0) {\n                currentValue += `-${$currentRadio.value}`\n            } else {\n                currentValue += $currentRadio.value\n            }\n        }\n        this.currentValue = currentValue\n        this.updateContent()\n    }\n\n    updateContent() {\n        // Images\n        for (let index = 0; index < this.$images.length; index++) {\n            const $image = this.$images[index];\n\n            if ($image.dataset.variant === this.currentValue) {\n                $image.classList.remove('is-hidden')\n            } else {\n                $image.classList.add('is-hidden')\n            }\n        }\n\n        // Ctas\n        for (let index = 0; index < this.$ctas.length; index++) {\n            const $cta = this.$ctas[index];\n\n            if ($cta.dataset.variant === this.currentValue) {\n                $cta.classList.remove('is-hidden')\n            } else {\n                $cta.classList.add('is-hidden')\n            }\n        }\n\n        // Prices\n        for (let index = 0; index < this.$prices.length; index++) {\n            const $price = this.$prices[index];\n\n            if ($price.dataset.variant === this.currentValue) {\n                $price.classList.remove('is-hidden')\n            } else {\n                $price.classList.add('is-hidden')\n            }\n        }\n\n        // Sales\n        for (let index = 0; index < this.$sales.length; index++) {\n            const $sale = this.$sales[index];\n\n            if ($sale.dataset.variant === this.currentValue) {\n                $sale.classList.remove('is-hidden')\n            } else {\n                $sale.classList.add('is-hidden')\n            }\n        }\n\n        // Links\n        for (let index = 0; index < this.$links.length; index++) {\n            const $link = this.$links[index];\n\n            if ($link.dataset.variant === this.currentValue) {\n                $link.classList.remove('is-hidden')\n            } else {\n                $link.classList.add('is-hidden')\n            }\n        }\n    }\n}\n", "import { module } from 'modujs';\nimport { queryClosestParent } from '../utils/html';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        // Binding\n        this.onEnterBind = this.onEnter.bind(this)\n        this.onLeaveBind = this.onLeave.bind(this)\n\n        // UI\n        this.$el = this.el\n        this.$parent = queryClosestParent(this.$el, '[data-hovered]')\n    }\n\n    ///////////////\n    // Lifecyle\n    ///////////////\n    init() {\n        this.bindEvents();\n    }\n\n    destroy() {\n        super.destroy();\n        this.unbindEvents();\n    }\n\n    ///////////////\n    // Events\n    ///////////////\n    bindEvents() {\n        this.$el.addEventListener(\"mouseenter\", this.onEnterBind);\n        this.$el.addEventListener(\"mouseleave\", this.onLeaveBind);\n    }\n\n    unbindEvents() {\n        this.$el.removeEventListener(\"mouseenter\", this.onEnterBind);\n        this.$el.removeEventListener(\"mouseleave\", this.onLeaveBind);\n    }\n\n    ///////////////\n    // Callbacks\n    ///////////////\n    onEnter() {\n        this.$parent.classList.add('is-hovered')\n    }\n\n    onLeave() {\n        this.$parent.classList.remove('is-hovered')\n    }\n}", "import { module } from 'modujs';\n\nexport default class extends module {\n    constructor(m) {\n        super(m);\n\n        this.events = {\n            click: 'handleClick'\n        }\n    }\n\n    init() {\n\n    }\n\n    handleClick() {\n        if(window.SmileUI?.openPanel) {\n            window.SmileUI.openPanel();\n\n            this.call('close', null, 'Menu')\n        }\n    }\n}\n", "import svg4everybody from 'svg4everybody';\n\nexport default function() {\n    svg4everybody();\n}\n"],
  "mappings": "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",
  "names": []
}
